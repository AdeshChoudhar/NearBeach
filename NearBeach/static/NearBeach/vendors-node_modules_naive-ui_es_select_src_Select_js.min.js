"use strict";
(self["webpackChunknearbeach"] = self["webpackChunknearbeach"] || []).push([["vendors-node_modules_naive-ui_es_select_src_Select_js"],{

/***/ "./node_modules/naive-ui/es/_internal/close/src/Close.js":
/*!***************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/close/src/Close.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-style.js");
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.js");
/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../icons */ "./node_modules/naive-ui/es/_internal/icons/Close.js");
/* harmony import */ var _styles_index_cssr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/index.cssr */ "./node_modules/naive-ui/es/_internal/close/src/styles/index.cssr.js");





/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'BaseClose',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        disabled: {
            type: Boolean,
            default: undefined
        },
        onClick: Function
    },
    setup(props) {
        (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])('-base-close', _styles_index_cssr__WEBPACK_IMPORTED_MODULE_2__["default"], (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'clsPrefix'));
        return () => {
            const { clsPrefix, disabled } = props;
            return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon__WEBPACK_IMPORTED_MODULE_3__["default"], { role: "button", ariaDisabled: disabled, ariaLabel: "close", clsPrefix: clsPrefix, class: [
                    `${clsPrefix}-base-close`,
                    disabled && `${clsPrefix}-base-close--disabled`
                ], onClick: disabled ? undefined : props.onClick }, {
                default: () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icons__WEBPACK_IMPORTED_MODULE_4__["default"], null)
            }));
        };
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/close/src/styles/index.cssr.js":
/*!***************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/close/src/styles/index.cssr.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");
 // vars:
// --n-close-color
// --n-close-color-hover
// --n-close-color-pressed
// --n-close-color-disabled

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-close', `
 cursor: pointer;
 color: var(--n-close-color);
`, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', {
  color: 'var(--n-close-color-hover)'
}), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', {
  color: 'var(--n-close-color-pressed)'
}), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('disabled', {
  cursor: 'not-allowed!important',
  color: 'var(--n-close-color-disabled)'
})]));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/Checkmark.js":
/*!***************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/Checkmark.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'Checkmark',
    render() {
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 16 16" },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", { fill: "none" },
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", { d: "M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z", fill: "currentColor" }))));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/Close.js":
/*!***********************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/Close.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _replaceable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./replaceable */ "./node_modules/naive-ui/es/_internal/icons/replaceable.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_replaceable__WEBPACK_IMPORTED_MODULE_1__.replaceable)('close', (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", { viewBox: "0 0 12 12", version: "1.1", xmlns: "http://www.w3.org/2000/svg", "aria-hidden": true },
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", { stroke: "none", "stroke-width": "1", fill: "none", "fill-rule": "evenodd" },
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", { fill: "currentColor", "fill-rule": "nonzero" },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", { d: "M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z" }))))));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/Empty.js":
/*!***********************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/Empty.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'Empty',
    render() {
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", { viewBox: "0 0 28 28", fill: "none", xmlns: "http://www.w3.org/2000/svg" },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", { d: "M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z", fill: "currentColor" }),
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", { d: "M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z", fill: "currentColor" })));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_utils */ "./node_modules/naive-ui/es/_utils/vue/render.js");
/* harmony import */ var _interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interface */ "./node_modules/naive-ui/es/_internal/select-menu/src/interface.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'NBaseSelectGroupHeader',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        tmNode: {
            type: Object,
            required: true
        }
    },
    setup() {
        const { renderLabelRef, renderOptionRef
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
         } = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)(_interface__WEBPACK_IMPORTED_MODULE_1__.internalSelectionMenuInjectionKey);
        return {
            renderLabel: renderLabelRef,
            renderOption: renderOptionRef
        };
    },
    render() {
        const { clsPrefix, renderLabel, renderOption, tmNode: { rawNode } } = this;
        const children = renderLabel
            ? renderLabel(rawNode, false)
            : (0,_utils__WEBPACK_IMPORTED_MODULE_2__.render)(rawNode.label, rawNode, false);
        const node = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-select-group-header` }, children));
        return rawNode.render
            ? rawNode.render({ node, option: rawNode })
            : renderOption
                ? renderOption({ node, option: rawNode, selected: false })
                : node;
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.js":
/*!**************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var treemate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! treemate */ "./node_modules/treemate/es/utils.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/virtual-list/src/VirtualList.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/css/index.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/dom/happens-in.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../empty */ "./node_modules/naive-ui/es/empty/src/Empty.js");
/* harmony import */ var _scrollbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../scrollbar */ "./node_modules/naive-ui/es/_internal/scrollbar/src/ScrollBar.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_utils */ "./node_modules/naive-ui/es/_utils/css/format-length.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../_utils */ "./node_modules/naive-ui/es/_utils/vue/resolve-slot.js");
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/create-key.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.js");
/* harmony import */ var _loading__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../loading */ "./node_modules/naive-ui/es/_internal/loading/src/Loading.js");
/* harmony import */ var _focus_detector__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../focus-detector */ "./node_modules/naive-ui/es/_internal/focus-detector/index.js");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles */ "./node_modules/naive-ui/es/_internal/select-menu/styles/light.js");
/* harmony import */ var _SelectOption__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./SelectOption */ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.js");
/* harmony import */ var _SelectGroupHeader__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./SelectGroupHeader */ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.js");
/* harmony import */ var _interface__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./interface */ "./node_modules/naive-ui/es/_internal/select-menu/src/interface.js");
/* harmony import */ var _styles_index_cssr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/index.cssr */ "./node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.js");
















/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'InternalSelectMenu',
    props: Object.assign(Object.assign({}, _mixins__WEBPACK_IMPORTED_MODULE_1__["default"].props), { clsPrefix: {
            type: String,
            required: true
        }, scrollable: {
            type: Boolean,
            default: true
        }, treeMate: {
            type: Object,
            required: true
        }, multiple: Boolean, size: {
            type: String,
            default: 'medium'
        }, value: {
            type: [String, Number, Array],
            default: null
        }, width: [Number, String], autoPending: Boolean, virtualScroll: {
            type: Boolean,
            default: true
        }, 
        // show is used to toggle pending state initialization
        show: {
            type: Boolean,
            default: true
        }, loading: Boolean, focusable: Boolean, renderLabel: Function, renderOption: Function, onMousedown: Function, onScroll: Function, onFocus: Function, onBlur: Function, onKeyup: Function, onKeydown: Function, onTabOut: Function, onMouseenter: Function, onMouseleave: Function, resetMenuOnOptionsChange: {
            type: Boolean,
            default: true
        }, inlineThemeDisabled: Boolean, 
        // deprecated
        onToggle: Function }),
    setup(props) {
        const themeRef = (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])('InternalSelectMenu', '-internal-select-menu', _styles_index_cssr__WEBPACK_IMPORTED_MODULE_2__["default"], _styles__WEBPACK_IMPORTED_MODULE_3__["default"], props, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'clsPrefix'));
        const selfRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const virtualListRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const scrollbarRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const flattenedNodesRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => props.treeMate.getFlattenedNodes());
        const fIndexGetterRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => (0,treemate__WEBPACK_IMPORTED_MODULE_4__.createIndexGetter)(flattenedNodesRef.value));
        const pendingNodeRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        function initPendingNode() {
            const { treeMate } = props;
            let defaultPendingNode = null;
            if (props.autoPending) {
                const { value } = props;
                if (value === null) {
                    defaultPendingNode = treeMate.getFirstAvailableNode();
                }
                else {
                    if (props.multiple) {
                        defaultPendingNode = treeMate.getNode((value || [])[(value || []).length - 1]);
                    }
                    else {
                        defaultPendingNode = treeMate.getNode(value);
                    }
                    if (!defaultPendingNode || defaultPendingNode.disabled) {
                        defaultPendingNode = treeMate.getFirstAvailableNode();
                    }
                }
                if (defaultPendingNode) {
                    setPendingTmNode(defaultPendingNode);
                }
            }
        }
        let initPendingNodeWatchStopHandle;
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'show'), (value) => {
            if (value) {
                initPendingNodeWatchStopHandle = (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(props.resetMenuOnOptionsChange
                    ? [(0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'treeMate'), (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'multiple')]
                    : [(0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'multiple')], () => {
                    initPendingNode();
                    void (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(scrollToPendingNode);
                }, {
                    immediate: true
                });
            }
            else {
                initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();
            }
        }, {
            immediate: true
        });
        const itemSizeRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            return (0,seemly__WEBPACK_IMPORTED_MODULE_5__.depx)(themeRef.value.self[(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_6__.createKey)('optionHeight', props.size)]);
        });
        const paddingRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            return (0,seemly__WEBPACK_IMPORTED_MODULE_5__.getPadding)(themeRef.value.self[(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_6__.createKey)('padding', props.size)]);
        });
        const valueSetRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            if (props.multiple && Array.isArray(props.value)) {
                return new Set(props.value);
            }
            return new Set();
        });
        const emptyRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const tmNodes = flattenedNodesRef.value;
            return tmNodes && tmNodes.length === 0;
        });
        function doToggle(tmNode) {
            const { onToggle } = props;
            if (onToggle)
                onToggle(tmNode);
        }
        function doScroll(e) {
            const { onScroll } = props;
            if (onScroll)
                onScroll(e);
        }
        // required, scroller sync need to be triggered manually
        function handleVirtualListScroll(e) {
            var _a;
            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();
            doScroll(e);
        }
        function handleVirtualListResize() {
            var _a;
            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();
        }
        function getPendingTmNode() {
            const { value: pendingTmNode } = pendingNodeRef;
            if (pendingTmNode)
                return pendingTmNode;
            return null;
        }
        function handleOptionMouseEnter(e, tmNode) {
            if (tmNode.disabled)
                return;
            setPendingTmNode(tmNode, false);
        }
        function handleOptionClick(e, tmNode) {
            if (tmNode.disabled)
                return;
            doToggle(tmNode);
        }
        // keyboard related methods
        function handleKeyUp(e) {
            var _a;
            if ((0,seemly__WEBPACK_IMPORTED_MODULE_7__.happensIn)(e, 'action'))
                return;
            (_a = props.onKeyup) === null || _a === void 0 ? void 0 : _a.call(props, e);
        }
        function handleKeyDown(e) {
            var _a;
            if ((0,seemly__WEBPACK_IMPORTED_MODULE_7__.happensIn)(e, 'action'))
                return;
            (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);
        }
        function handleMouseDown(e) {
            var _a;
            (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);
            if (props.focusable)
                return;
            e.preventDefault();
        }
        function next() {
            const { value: pendingTmNode } = pendingNodeRef;
            if (pendingTmNode) {
                setPendingTmNode(pendingTmNode.getNext({ loop: true }), true);
            }
        }
        function prev() {
            const { value: pendingTmNode } = pendingNodeRef;
            if (pendingTmNode) {
                setPendingTmNode(pendingTmNode.getPrev({ loop: true }), true);
            }
        }
        function setPendingTmNode(tmNode, doScroll = false) {
            pendingNodeRef.value = tmNode;
            if (doScroll)
                scrollToPendingNode();
        }
        function scrollToPendingNode() {
            var _a, _b;
            const tmNode = pendingNodeRef.value;
            if (!tmNode)
                return;
            const fIndex = fIndexGetterRef.value(tmNode.key);
            if (fIndex === null)
                return;
            if (props.virtualScroll) {
                (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({ index: fIndex });
            }
            else {
                (_b = scrollbarRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({
                    index: fIndex,
                    elSize: itemSizeRef.value
                });
            }
        }
        function handleFocusin(e) {
            var _a, _b;
            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {
                (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props, e);
            }
        }
        function handleFocusout(e) {
            var _a, _b;
            if (!((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {
                (_b = props.onBlur) === null || _b === void 0 ? void 0 : _b.call(props, e);
            }
        }
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(_interface__WEBPACK_IMPORTED_MODULE_8__.internalSelectionMenuInjectionKey, {
            handleOptionMouseEnter,
            handleOptionClick,
            valueSetRef,
            multipleRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'multiple'),
            valueRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'value'),
            renderLabelRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'renderLabel'),
            renderOptionRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'renderOption'),
            pendingTmNodeRef: pendingNodeRef
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(_interface__WEBPACK_IMPORTED_MODULE_8__.internalSelectionMenuBodyInjectionKey, selfRef);
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(() => {
            const { value } = scrollbarRef;
            if (value)
                value.sync();
        });
        const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { size } = props;
            const { common: { cubicBezierEaseInOut }, self: { height, borderRadius, color, groupHeaderTextColor, actionDividerColor, optionTextColorPressed, optionTextColor, optionTextColorDisabled, optionTextColorActive, optionOpacityDisabled, optionCheckColor, actionTextColor, optionColorPending, optionColorActive, loadingColor, loadingSize, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_6__.createKey)('optionFontSize', size)]: fontSize, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_6__.createKey)('optionHeight', size)]: optionHeight, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_6__.createKey)('optionPadding', size)]: optionPadding } } = themeRef.value;
            return {
                '--n-height': height,
                '--n-action-divider-color': actionDividerColor,
                '--n-action-text-color': actionTextColor,
                '--n-bezier': cubicBezierEaseInOut,
                '--n-border-radius': borderRadius,
                '--n-color': color,
                '--n-option-font-size': fontSize,
                '--n-group-header-text-color': groupHeaderTextColor,
                '--n-option-check-color': optionCheckColor,
                '--n-option-color-pending': optionColorPending,
                '--n-option-color-active': optionColorActive,
                '--n-option-height': optionHeight,
                '--n-option-opacity-disabled': optionOpacityDisabled,
                '--n-option-text-color': optionTextColor,
                '--n-option-text-color-active': optionTextColorActive,
                '--n-option-text-color-disabled': optionTextColorDisabled,
                '--n-option-text-color-pressed': optionTextColorPressed,
                '--n-option-padding': optionPadding,
                '--n-option-padding-left': (0,seemly__WEBPACK_IMPORTED_MODULE_5__.getPadding)(optionPadding, 'left'),
                '--n-loading-color': loadingColor,
                '--n-loading-size': loadingSize
            };
        });
        const { inlineThemeDisabled } = props;
        const themeClassHandle = inlineThemeDisabled
            ? (0,_mixins__WEBPACK_IMPORTED_MODULE_9__.useThemeClass)('internal-select-menu', (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => props.size[0]), cssVarsRef, props)
            : undefined;
        const exposedProps = {
            selfRef,
            next,
            prev,
            getPendingTmNode
        };
        return Object.assign({ mergedTheme: themeRef, virtualListRef,
            scrollbarRef, itemSize: itemSizeRef, padding: paddingRef, flattenedNodes: flattenedNodesRef, empty: emptyRef, virtualListContainer() {
                const { value } = virtualListRef;
                return value === null || value === void 0 ? void 0 : value.listElRef;
            },
            virtualListContent() {
                const { value } = virtualListRef;
                return value === null || value === void 0 ? void 0 : value.itemsElRef;
            },
            doScroll,
            handleFocusin,
            handleFocusout,
            handleKeyUp,
            handleKeyDown,
            handleMouseDown,
            handleVirtualListResize,
            handleVirtualListScroll, cssVars: inlineThemeDisabled ? undefined : cssVarsRef.value, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedProps);
    },
    render() {
        const { $slots, virtualScroll, clsPrefix, mergedTheme, themeClass, onRender } = this;
        onRender === null || onRender === void 0 ? void 0 : onRender();
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { ref: "selfRef", tabindex: this.focusable ? 0 : -1, class: [
                `${clsPrefix}-base-select-menu`,
                themeClass,
                this.multiple && `${clsPrefix}-base-select-menu--multiple`
            ], style: [{ width: (0,_utils__WEBPACK_IMPORTED_MODULE_10__.formatLength)(this.width) }, this.cssVars], onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onKeyup: this.handleKeyUp, onKeydown: this.handleKeyDown, onMousedown: this.handleMouseDown, onMouseenter: this.onMouseenter, onMouseleave: this.onMouseleave },
            this.loading ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-select-menu__loading` },
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_loading__WEBPACK_IMPORTED_MODULE_11__["default"], { clsPrefix: clsPrefix, strokeWidth: 20 }))) : !this.empty ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_scrollbar__WEBPACK_IMPORTED_MODULE_12__["default"], { ref: "scrollbarRef", theme: mergedTheme.peers.Scrollbar, themeOverrides: mergedTheme.peerOverrides.Scrollbar, scrollable: this.scrollable, container: virtualScroll ? this.virtualListContainer : undefined, content: virtualScroll ? this.virtualListContent : undefined, onScroll: virtualScroll ? undefined : this.doScroll }, {
                default: () => {
                    return virtualScroll ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_13__["default"], { ref: "virtualListRef", class: `${clsPrefix}-virtual-list`, items: this.flattenedNodes, itemSize: this.itemSize, showScrollbar: false, paddingTop: this.padding.top, paddingBottom: this.padding.bottom, onResize: this.handleVirtualListResize, onScroll: this.handleVirtualListScroll, itemResizable: true }, {
                        default: ({ item: tmNode }) => {
                            return tmNode.isGroup ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_SelectGroupHeader__WEBPACK_IMPORTED_MODULE_14__["default"], { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : tmNode.ignored ? null : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_SelectOption__WEBPACK_IMPORTED_MODULE_15__["default"], { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode }));
                        }
                    })) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-select-menu-option-wrapper`, style: {
                            paddingTop: this.padding.top,
                            paddingBottom: this.padding.bottom
                        } }, this.flattenedNodes.map((tmNode) => tmNode.isGroup ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_SelectGroupHeader__WEBPACK_IMPORTED_MODULE_14__["default"], { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_SelectOption__WEBPACK_IMPORTED_MODULE_15__["default"], { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode })))));
                }
            })) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-select-menu__empty` }, (0,_utils__WEBPACK_IMPORTED_MODULE_16__.resolveSlot)($slots.empty, () => [
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_empty__WEBPACK_IMPORTED_MODULE_17__["default"], { theme: mergedTheme.peers.Empty, themeOverrides: mergedTheme.peerOverrides.Empty })
            ]))),
            (0,_utils__WEBPACK_IMPORTED_MODULE_16__.resolveWrappedSlot)($slots.action, (children) => children && [
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-select-menu__action`, "data-action": true, key: "action" }, children),
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_focus_detector__WEBPACK_IMPORTED_MODULE_18__["default"], { onFocus: this.onTabOut, key: "focus-detector" })
            ])));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.js":
/*!****************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-memo.js");
/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../icons */ "./node_modules/naive-ui/es/_internal/icons/Checkmark.js");
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../icon */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_utils */ "./node_modules/naive-ui/es/_utils/vue/render.js");
/* harmony import */ var _interface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interface */ "./node_modules/naive-ui/es/_internal/select-menu/src/interface.js");






const checkMarkIcon = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icons__WEBPACK_IMPORTED_MODULE_1__["default"]);
function renderCheckMark(show, clsPrefix) {
    return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Transition, { name: "fade-in-scale-up-transition" }, {
        default: () => show ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon__WEBPACK_IMPORTED_MODULE_2__["default"], { clsPrefix: clsPrefix, class: `${clsPrefix}-base-select-option__check` }, {
            default: () => checkMarkIcon
        })) : null
    }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'NBaseSelectOption',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        tmNode: {
            type: Object,
            required: true
        }
    },
    setup(props) {
        const { valueRef, pendingTmNodeRef, multipleRef, valueSetRef, renderLabelRef, renderOptionRef, handleOptionClick, handleOptionMouseEnter
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
         } = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)(_interface__WEBPACK_IMPORTED_MODULE_3__.internalSelectionMenuInjectionKey);
        const isPendingRef = (0,vooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
            const { value: pendingTmNode } = pendingTmNodeRef;
            if (!pendingTmNode)
                return false;
            return props.tmNode.key === pendingTmNode.key;
        });
        function handleClick(e) {
            const { tmNode } = props;
            if (tmNode.disabled)
                return;
            handleOptionClick(e, tmNode);
        }
        function handleMouseEnter(e) {
            const { tmNode } = props;
            if (tmNode.disabled)
                return;
            handleOptionMouseEnter(e, tmNode);
        }
        function handleMouseMove(e) {
            const { tmNode } = props;
            const { value: isPending } = isPendingRef;
            if (tmNode.disabled || isPending)
                return;
            handleOptionMouseEnter(e, tmNode);
        }
        return {
            multiple: multipleRef,
            isGrouped: (0,vooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
                const { tmNode } = props;
                const { parent } = tmNode;
                return parent && parent.rawNode.type === 'group';
            }),
            isPending: isPendingRef,
            isSelected: (0,vooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
                const { value } = valueRef;
                const { value: multiple } = multipleRef;
                if (value === null)
                    return false;
                const optionValue = props.tmNode.rawNode.value;
                if (multiple) {
                    const { value: valueSet } = valueSetRef;
                    return valueSet.has(optionValue);
                }
                else {
                    return value === optionValue;
                }
            }),
            renderLabel: renderLabelRef,
            renderOption: renderOptionRef,
            handleMouseMove,
            handleMouseEnter,
            handleClick
        };
    },
    render() {
        const { clsPrefix, tmNode: { rawNode }, isSelected, isPending, isGrouped, multiple, renderOption, renderLabel, handleClick, handleMouseEnter, handleMouseMove } = this;
        const showCheckMark = multiple && isSelected;
        const checkmark = renderCheckMark(showCheckMark, clsPrefix);
        const children = renderLabel
            ? [renderLabel(rawNode, isSelected), checkmark]
            : [(0,_utils__WEBPACK_IMPORTED_MODULE_5__.render)(rawNode.label, rawNode, isSelected), checkmark];
        const node = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: [
                `${clsPrefix}-base-select-option`,
                rawNode.class,
                {
                    [`${clsPrefix}-base-select-option--disabled`]: rawNode.disabled,
                    [`${clsPrefix}-base-select-option--selected`]: isSelected,
                    [`${clsPrefix}-base-select-option--grouped`]: isGrouped,
                    [`${clsPrefix}-base-select-option--pending`]: isPending
                }
            ], style: rawNode.style, onClick: handleClick, onMouseenter: handleMouseEnter, onMousemove: handleMouseMove },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-select-option__content` }, children)));
        return rawNode.render
            ? rawNode.render({ node, option: rawNode, selected: isSelected })
            : renderOption
                ? renderOption({ node, option: rawNode, selected: isSelected })
                : node;
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");
/* harmony import */ var _styles_transitions_fade_in_scale_up_cssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../_styles/transitions/fade-in-scale-up.cssr */ "./node_modules/naive-ui/es/_styles/transitions/fade-in-scale-up.cssr.js");

 // --n-loading-color
// --n-loading-size

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-menu', `
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('multiple', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-option', `
 padding-right: 28px;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('scrollbar', `
 max-height: var(--n-height);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('virtual-list', `
 max-height: var(--n-height);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-option', `
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('content', `
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-group-header', `
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-menu-option-wrapper', `
 position: relative;
 width: 100%;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('loading, empty', `
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('loading', `
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('action', `
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-group-header', `
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-option', `
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', `
 color: var(--n-option-text-color-pressed);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('grouped', `
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('pending', `
 background-color: var(--n-option-color-pending);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('selected', `
 color: var(--n-option-text-color-active);
 background-color: var(--n-option-color-active);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('disabled', `
 cursor: not-allowed;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('selected', `
 color: var(--n-option-text-color-disabled);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('selected', `
 opacity: var(--n-option-opacity-disabled);
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('check', `
 font-size: 16px;
 position: absolute;
 right: 8px;
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `, [(0,_styles_transitions_fade_in_scale_up_cssr__WEBPACK_IMPORTED_MODULE_1__["default"])({
  enterScale: '0.5'
})])])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/styles/_common.js":
/*!**************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/styles/_common.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    height: 'calc(var(--n-option-height) * 7.6)',
    paddingSmall: '4px 0',
    paddingMedium: '4px 0',
    paddingLarge: '4px 0',
    paddingHuge: '4px 0',
    optionPaddingSmall: '0 12px',
    optionPaddingMedium: '0 12px',
    optionPaddingLarge: '0 12px',
    optionPaddingHuge: '0 12px',
    loadingSize: '18px'
});


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/styles/light.js":
/*!************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/styles/light.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "self": () => (/* binding */ self),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _empty_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../empty/styles */ "./node_modules/naive-ui/es/empty/styles/light.js");
/* harmony import */ var _scrollbar_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scrollbar/styles */ "./node_modules/naive-ui/es/_internal/scrollbar/styles/light.js");
/* harmony import */ var _styles_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_styles/common */ "./node_modules/naive-ui/es/_styles/common/light.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_common */ "./node_modules/naive-ui/es/_internal/select-menu/styles/_common.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");





const self = (vars) => {
    const { borderRadius, popoverColor, textColor3, dividerColor, textColor2, primaryColorPressed, textColorDisabled, primaryColor, opacityDisabled, hoverColor, fontSizeSmall, fontSizeMedium, fontSizeLarge, fontSizeHuge, heightSmall, heightMedium, heightLarge, heightHuge } = vars;
    return Object.assign(Object.assign({}, _common__WEBPACK_IMPORTED_MODULE_0__["default"]), { optionFontSizeSmall: fontSizeSmall, optionFontSizeMedium: fontSizeMedium, optionFontSizeLarge: fontSizeLarge, optionFontSizeHuge: fontSizeHuge, optionHeightSmall: heightSmall, optionHeightMedium: heightMedium, optionHeightLarge: heightLarge, optionHeightHuge: heightHuge, borderRadius: borderRadius, color: popoverColor, groupHeaderTextColor: textColor3, actionDividerColor: dividerColor, optionTextColor: textColor2, optionTextColorPressed: primaryColorPressed, optionTextColorDisabled: textColorDisabled, optionTextColorActive: primaryColor, optionOpacityDisabled: opacityDisabled, optionCheckColor: primaryColor, optionColorPending: hoverColor, optionColorActive: hoverColor, actionTextColor: textColor2, loadingColor: primaryColor });
};
const internalSelectMenuLight = (0,_mixins__WEBPACK_IMPORTED_MODULE_1__.createTheme)({
    name: 'InternalSelectMenu',
    common: _styles_common__WEBPACK_IMPORTED_MODULE_2__["default"],
    peers: {
        Scrollbar: _scrollbar_styles__WEBPACK_IMPORTED_MODULE_3__["default"],
        Empty: _empty_styles__WEBPACK_IMPORTED_MODULE_4__["default"]
    },
    self
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (internalSelectMenuLight);


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/selection/src/Selection.js":
/*!***********************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/selection/src/Selection.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/overflow/src/index.js");
/* harmony import */ var _popover__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../popover */ "./node_modules/naive-ui/es/popover/src/Popover.js");
/* harmony import */ var _tag__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../tag */ "./node_modules/naive-ui/es/tag/src/Tag.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_utils */ "./node_modules/naive-ui/es/_utils/vue/render.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_utils */ "./node_modules/naive-ui/es/_utils/cssr/create-key.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_utils */ "./node_modules/naive-ui/es/_utils/naive/attribute.js");
/* harmony import */ var _suffix__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../suffix */ "./node_modules/naive-ui/es/_internal/suffix/src/Suffix.js");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles */ "./node_modules/naive-ui/es/_internal/selection/styles/light.js");
/* harmony import */ var _styles_index_cssr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/index.cssr */ "./node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.js");
/* eslint-disable @typescript-eslint/no-non-null-assertion */









/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'InternalSelection',
    props: Object.assign(Object.assign({}, _mixins__WEBPACK_IMPORTED_MODULE_1__["default"].props), { clsPrefix: {
            type: String,
            required: true
        }, bordered: {
            type: Boolean,
            default: undefined
        }, active: Boolean, pattern: {
            type: String,
            default: ''
        }, placeholder: String, selectedOption: {
            type: Object,
            default: null
        }, selectedOptions: {
            type: Array,
            default: null
        }, multiple: Boolean, filterable: Boolean, clearable: Boolean, disabled: Boolean, size: {
            type: String,
            default: 'medium'
        }, loading: Boolean, autofocus: Boolean, showArrow: {
            type: Boolean,
            default: true
        }, inputProps: Object, focused: Boolean, renderTag: Function, onKeyup: Function, onKeydown: Function, onClick: Function, onBlur: Function, onFocus: Function, onDeleteOption: Function, maxTagCount: [String, Number], onClear: Function, onPatternInput: Function, onPatternFocus: Function, onPatternBlur: Function, renderLabel: Function, status: String, inlineThemeDisabled: Boolean }),
    setup(props) {
        const patternInputMirrorRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const patternInputRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const selfRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const multipleElRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const singleElRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const patternInputWrapperRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const counterRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const counterWrapperRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const overflowRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const inputTagElRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const showTagsPopoverRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
        const patternInputFocusedRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
        const hoverRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
        const themeRef = (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])('InternalSelection', '-internal-selection', _styles_index_cssr__WEBPACK_IMPORTED_MODULE_2__["default"], _styles__WEBPACK_IMPORTED_MODULE_3__["default"], props, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'clsPrefix'));
        const mergedClearableRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            return (props.clearable && !props.disabled && (hoverRef.value || props.active));
        });
        const filterablePlaceholderRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            return props.selectedOption
                ? props.renderTag
                    ? props.renderTag({
                        option: props.selectedOption,
                        handleClose: () => { }
                    })
                    : props.renderLabel
                        ? props.renderLabel(props.selectedOption, true)
                        : (0,_utils__WEBPACK_IMPORTED_MODULE_4__.render)(props.selectedOption.label, props.selectedOption, true)
                : props.placeholder;
        });
        const labelRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const option = props.selectedOption;
            if (!option)
                return undefined;
            return option.label;
        });
        const selectedRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            if (props.multiple) {
                return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);
            }
            else {
                return props.selectedOption !== null;
            }
        });
        function syncMirrorWidth() {
            var _a;
            const { value: patternInputMirrorEl } = patternInputMirrorRef;
            if (patternInputMirrorEl) {
                const { value: patternInputEl } = patternInputRef;
                if (patternInputEl) {
                    patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;
                    if (props.maxTagCount !== 'responsive') {
                        (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync();
                    }
                }
            }
        }
        function hideInputTag() {
            const { value: inputTagEl } = inputTagElRef;
            if (inputTagEl)
                inputTagEl.style.display = 'none';
        }
        function showInputTag() {
            const { value: inputTagEl } = inputTagElRef;
            if (inputTagEl)
                inputTagEl.style.display = 'inline-block';
        }
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'active'), (value) => {
            if (!value)
                hideInputTag();
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'pattern'), () => {
            if (props.multiple) {
                void (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(syncMirrorWidth);
            }
        });
        function doFocus(e) {
            const { onFocus } = props;
            if (onFocus)
                onFocus(e);
        }
        function doBlur(e) {
            const { onBlur } = props;
            if (onBlur)
                onBlur(e);
        }
        function doDeleteOption(value) {
            const { onDeleteOption } = props;
            if (onDeleteOption)
                onDeleteOption(value);
        }
        function doClear(e) {
            const { onClear } = props;
            if (onClear)
                onClear(e);
        }
        function doPatternInput(value) {
            const { onPatternInput } = props;
            if (onPatternInput)
                onPatternInput(value);
        }
        function handleFocusin(e) {
            var _a;
            if (!e.relatedTarget ||
                !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {
                doFocus(e);
            }
        }
        function handleFocusout(e) {
            var _a;
            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))
                return;
            doBlur(e);
        }
        function handleClear(e) {
            doClear(e);
        }
        function handleMouseEnter() {
            hoverRef.value = true;
        }
        function handleMouseLeave() {
            hoverRef.value = false;
        }
        function handleMouseDown(e) {
            if (!props.active || !props.filterable)
                return;
            if (e.target === patternInputRef.value)
                return;
            e.preventDefault();
        }
        function handleDeleteOption(option) {
            doDeleteOption(option);
        }
        function handlePatternKeyDown(e) {
            if (e.code === 'Backspace' && !isCompositingRef.value) {
                if (!props.pattern.length) {
                    const { selectedOptions } = props;
                    if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {
                        handleDeleteOption(selectedOptions[selectedOptions.length - 1]);
                    }
                }
            }
        }
        const isCompositingRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
        // the composition end is later than its input so we can cached the event
        // and return the input event
        let cachedInputEvent = null;
        function handlePatternInputInput(e) {
            // we should sync mirror width here
            const { value: patternInputMirrorEl } = patternInputMirrorRef;
            if (patternInputMirrorEl) {
                const inputText = e.target.value;
                patternInputMirrorEl.textContent = inputText;
                syncMirrorWidth();
            }
            if (!isCompositingRef.value) {
                doPatternInput(e);
            }
            else {
                cachedInputEvent = e;
            }
        }
        function handleCompositionStart() {
            isCompositingRef.value = true;
        }
        function handleCompositionEnd() {
            isCompositingRef.value = false;
            doPatternInput(cachedInputEvent);
            cachedInputEvent = null;
        }
        function handlePatternInputFocus(e) {
            var _a;
            patternInputFocusedRef.value = true;
            (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);
        }
        function handlePatternInputBlur(e) {
            var _a;
            patternInputFocusedRef.value = false;
            (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);
        }
        function blur() {
            var _a, _b;
            if (props.filterable) {
                patternInputFocusedRef.value = false;
                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();
                (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();
            }
            else if (props.multiple) {
                const { value: multipleEl } = multipleElRef;
                multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();
            }
            else {
                const { value: singleEl } = singleElRef;
                singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();
            }
        }
        function focus() {
            var _a, _b, _c;
            if (props.filterable) {
                patternInputFocusedRef.value = false;
                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();
            }
            else if (props.multiple) {
                (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();
            }
            else {
                (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();
            }
        }
        function focusInput() {
            const { value: patternInputEl } = patternInputRef;
            if (patternInputEl) {
                showInputTag();
                patternInputEl.focus();
            }
        }
        function blurInput() {
            const { value: patternInputEl } = patternInputRef;
            if (patternInputEl) {
                patternInputEl.blur();
            }
        }
        function updateCounter(count) {
            const { value } = counterRef;
            if (value) {
                value.setTextContent(`+${count}`);
            }
        }
        function getCounter() {
            const { value } = counterWrapperRef;
            return value;
        }
        function getTail() {
            return patternInputRef.value;
        }
        let enterTimerId = null;
        function clearEnterTimer() {
            if (enterTimerId !== null)
                window.clearTimeout(enterTimerId);
        }
        function handleMouseEnterCounter() {
            if (props.disabled || props.active)
                return;
            clearEnterTimer();
            enterTimerId = window.setTimeout(() => {
                showTagsPopoverRef.value = true;
            }, 100);
        }
        function handleMouseLeaveCounter() {
            clearEnterTimer();
        }
        function onPopoverUpdateShow(show) {
            if (!show) {
                clearEnterTimer();
                showTagsPopoverRef.value = false;
            }
        }
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(() => {
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.watchEffect)(() => {
                const patternInputWrapperEl = patternInputWrapperRef.value;
                if (!patternInputWrapperEl)
                    return;
                patternInputWrapperEl.tabIndex =
                    props.disabled || patternInputFocusedRef.value ? -1 : 0;
            });
        });
        const { inlineThemeDisabled } = props;
        const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { size } = props;
            const { common: { cubicBezierEaseInOut }, self: { borderRadius, color, placeholderColor, textColor, paddingSingle, paddingMultiple, caretColor, colorDisabled, textColorDisabled, placeholderColorDisabled, colorActive, boxShadowFocus, boxShadowActive, boxShadowHover, border, borderFocus, borderHover, borderActive, arrowColor, arrowColorDisabled, loadingColor, 
            // form warning
            colorActiveWarning, boxShadowFocusWarning, boxShadowActiveWarning, boxShadowHoverWarning, borderWarning, borderFocusWarning, borderHoverWarning, borderActiveWarning, 
            // form error
            colorActiveError, boxShadowFocusError, boxShadowActiveError, boxShadowHoverError, borderError, borderFocusError, borderHoverError, borderActiveError, 
            // clear
            clearColor, clearColorHover, clearColorPressed, clearSize, 
            // arrow
            arrowSize, [(0,_utils__WEBPACK_IMPORTED_MODULE_5__.createKey)('height', size)]: height, [(0,_utils__WEBPACK_IMPORTED_MODULE_5__.createKey)('fontSize', size)]: fontSize } } = themeRef.value;
            return {
                '--n-bezier': cubicBezierEaseInOut,
                '--n-border': border,
                '--n-border-active': borderActive,
                '--n-border-focus': borderFocus,
                '--n-border-hover': borderHover,
                '--n-border-radius': borderRadius,
                '--n-box-shadow-active': boxShadowActive,
                '--n-box-shadow-focus': boxShadowFocus,
                '--n-box-shadow-hover': boxShadowHover,
                '--n-caret-color': caretColor,
                '--n-color': color,
                '--n-color-active': colorActive,
                '--n-color-disabled': colorDisabled,
                '--n-font-size': fontSize,
                '--n-height': height,
                '--n-padding-single': paddingSingle,
                '--n-padding-multiple': paddingMultiple,
                '--n-placeholder-color': placeholderColor,
                '--n-placeholder-color-disabled': placeholderColorDisabled,
                '--n-text-color': textColor,
                '--n-text-color-disabled': textColorDisabled,
                '--n-arrow-color': arrowColor,
                '--n-arrow-color-disabled': arrowColorDisabled,
                '--n-loading-color': loadingColor,
                // form warning
                '--n-color-active-warning': colorActiveWarning,
                '--n-box-shadow-focus-warning': boxShadowFocusWarning,
                '--n-box-shadow-active-warning': boxShadowActiveWarning,
                '--n-box-shadow-hover-warning': boxShadowHoverWarning,
                '--n-border-warning': borderWarning,
                '--n-border-focus-warning': borderFocusWarning,
                '--n-border-hover-warning': borderHoverWarning,
                '--n-border-active-warning': borderActiveWarning,
                // form error
                '--n-color-active-error': colorActiveError,
                '--n-box-shadow-focus-error': boxShadowFocusError,
                '--n-box-shadow-active-error': boxShadowActiveError,
                '--n-box-shadow-hover-error': boxShadowHoverError,
                '--n-border-error': borderError,
                '--n-border-focus-error': borderFocusError,
                '--n-border-hover-error': borderHoverError,
                '--n-border-active-error': borderActiveError,
                // clear
                '--n-clear-size': clearSize,
                '--n-clear-color': clearColor,
                '--n-clear-color-hover': clearColorHover,
                '--n-clear-color-pressed': clearColorPressed,
                // arrow-size
                '--n-arrow-size': arrowSize
            };
        });
        const themeClassHandle = inlineThemeDisabled
            ? (0,_mixins__WEBPACK_IMPORTED_MODULE_6__.useThemeClass)('internal-selection', (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                return props.size[0];
            }), cssVarsRef, props)
            : undefined;
        return {
            mergedTheme: themeRef,
            mergedClearable: mergedClearableRef,
            patternInputFocused: patternInputFocusedRef,
            filterablePlaceholder: filterablePlaceholderRef,
            label: labelRef,
            selected: selectedRef,
            showTagsPanel: showTagsPopoverRef,
            isCompositing: isCompositingRef,
            // dom ref
            counterRef,
            counterWrapperRef,
            patternInputMirrorRef,
            patternInputRef,
            selfRef,
            multipleElRef,
            singleElRef,
            patternInputWrapperRef,
            overflowRef,
            inputTagElRef,
            handleMouseDown,
            handleFocusin,
            handleClear,
            handleMouseEnter,
            handleMouseLeave,
            handleDeleteOption,
            handlePatternKeyDown,
            handlePatternInputInput,
            handlePatternInputBlur,
            handlePatternInputFocus,
            handleMouseEnterCounter,
            handleMouseLeaveCounter,
            handleFocusout,
            handleCompositionEnd,
            handleCompositionStart,
            onPopoverUpdateShow,
            focus,
            focusInput,
            blur,
            blurInput,
            updateCounter,
            getCounter,
            getTail,
            renderLabel: props.renderLabel,
            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,
            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,
            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender
        };
    },
    render() {
        const { status, multiple, size, disabled, filterable, maxTagCount, bordered, clsPrefix, onRender, renderTag, renderLabel } = this;
        onRender === null || onRender === void 0 ? void 0 : onRender();
        const maxTagCountResponsive = maxTagCount === 'responsive';
        const maxTagCountNumeric = typeof maxTagCount === 'number';
        const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;
        const suffix = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_suffix__WEBPACK_IMPORTED_MODULE_7__["default"], { clsPrefix: clsPrefix, loading: this.loading, showArrow: this.showArrow, showClear: this.mergedClearable && this.selected, onClear: this.handleClear }, {
            default: () => { var _a, _b; return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a); }
        }));
        let body;
        if (multiple) {
            const createTag = (option) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: option.value }, renderTag ? (renderTag({
                option,
                handleClose: () => this.handleDeleteOption(option)
            })) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_tag__WEBPACK_IMPORTED_MODULE_8__["default"], { size: size, closable: !option.disabled, disabled: disabled, internalStopClickPropagation: true, onClose: () => this.handleDeleteOption(option) }, {
                default: () => renderLabel
                    ? renderLabel(option, true)
                    : (0,_utils__WEBPACK_IMPORTED_MODULE_4__.render)(option.label, option, true)
            }))));
            const originalTags = (maxTagCountNumeric
                ? this.selectedOptions.slice(0, maxTagCount)
                : this.selectedOptions).map(createTag);
            const input = filterable ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-input-tag`, ref: "inputTagElRef", key: "__input-tag__" },
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("input", Object.assign({}, this.inputProps, { ref: "patternInputRef", tabindex: -1, disabled: disabled, value: this.pattern, autofocus: this.autofocus, class: `${clsPrefix}-base-selection-input-tag__input`, onBlur: this.handlePatternInputBlur, onFocus: this.handlePatternInputFocus, onKeydown: this.handlePatternKeyDown, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("span", { ref: "patternInputMirrorRef", class: `${clsPrefix}-base-selection-input-tag__mirror` }, this.pattern))) : null;
            // May Overflow
            const renderCounter = maxTagCountResponsive
                ? () => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-tag-wrapper`, ref: "counterWrapperRef" },
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_tag__WEBPACK_IMPORTED_MODULE_8__["default"], { size: size, ref: "counterRef", onMouseenter: this.handleMouseEnterCounter, onMouseleave: this.handleMouseLeaveCounter, disabled: disabled })))
                : undefined;
            let counter;
            if (maxTagCountNumeric) {
                const rest = this.selectedOptions.length - maxTagCount;
                if (rest > 0) {
                    counter = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: "__counter__" },
                        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_tag__WEBPACK_IMPORTED_MODULE_8__["default"], { size: size, ref: "counterRef", onMouseenter: this.handleMouseEnterCounter, disabled: disabled }, {
                            default: () => `+${rest}`
                        })));
                }
            }
            const tags = maxTagCountResponsive ? (filterable ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_9__["default"], { ref: "overflowRef", updateCounter: this.updateCounter, getCounter: this.getCounter, getTail: this.getTail, style: {
                    width: '100%',
                    display: 'flex',
                    overflow: 'hidden'
                } }, {
                default: () => originalTags,
                counter: renderCounter,
                tail: () => input
            })) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_9__["default"], { ref: "overflowRef", updateCounter: this.updateCounter, getCounter: this.getCounter, style: {
                    width: '100%',
                    display: 'flex',
                    overflow: 'hidden'
                } }, {
                default: () => originalTags,
                counter: renderCounter
            }))) : maxTagCountNumeric ? (originalTags.concat(counter)) : (originalTags);
            const renderPopover = useMaxTagCount
                ? () => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-popover` }, maxTagCountResponsive
                    ? originalTags
                    : this.selectedOptions.map(createTag)))
                : undefined;
            const popoverProps = useMaxTagCount
                ? {
                    show: this.showTagsPanel,
                    trigger: 'hover',
                    overlap: true,
                    placement: 'top',
                    width: 'trigger',
                    onUpdateShow: this.onPopoverUpdateShow,
                    theme: this.mergedTheme.peers.Popover,
                    themeOverrides: this.mergedTheme.peerOverrides.Popover
                }
                : null;
            const showPlaceholder = this.selected
                ? false
                : this.active
                    ? !this.pattern && !this.isCompositing
                    : true;
            const placeholder = showPlaceholder ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay` }, this.placeholder)) : null;
            if (filterable) {
                const popoverTrigger = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { ref: "patternInputWrapperRef", class: `${clsPrefix}-base-selection-tags` },
                    tags,
                    maxTagCountResponsive ? null : input,
                    suffix));
                body = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
                    useMaxTagCount ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_popover__WEBPACK_IMPORTED_MODULE_10__["default"], Object.assign({}, popoverProps), {
                        trigger: () => popoverTrigger,
                        default: renderPopover
                    })) : (popoverTrigger),
                    placeholder));
            }
            else {
                const popoverTrigger = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { ref: "multipleElRef", class: `${clsPrefix}-base-selection-tags`, tabindex: disabled ? undefined : 0 },
                    tags,
                    suffix));
                body = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
                    useMaxTagCount ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_popover__WEBPACK_IMPORTED_MODULE_10__["default"], Object.assign({}, popoverProps), {
                        trigger: () => popoverTrigger,
                        default: renderPopover
                    })) : (popoverTrigger),
                    placeholder));
            }
        }
        else {
            if (filterable) {
                const hasInput = this.pattern || this.isCompositing;
                const showPlaceholder = this.active ? !hasInput : !this.selected;
                const showSelectedLabel = this.active ? false : this.selected;
                body = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { ref: "patternInputWrapperRef", class: `${clsPrefix}-base-selection-label` },
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("input", Object.assign({}, this.inputProps, { ref: "patternInputRef", class: `${clsPrefix}-base-selection-input`, value: this.active ? this.pattern : '', placeholder: "", readonly: disabled, disabled: disabled, tabindex: -1, autofocus: this.autofocus, onFocus: this.handlePatternInputFocus, onBlur: this.handlePatternInputBlur, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),
                    showSelectedLabel ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`, key: "input" },
                        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, renderTag
                            ? renderTag({
                                option: this.selectedOption,
                                handleClose: () => { }
                            })
                            : renderLabel
                                ? renderLabel(this.selectedOption, true)
                                : (0,_utils__WEBPACK_IMPORTED_MODULE_4__.render)(this.label, this.selectedOption, true)))) : null,
                    showPlaceholder ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: "placeholder" },
                        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, this.filterablePlaceholder))) : null,
                    suffix));
            }
            else {
                body = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { ref: "singleElRef", class: `${clsPrefix}-base-selection-label`, tabindex: this.disabled ? undefined : 0 },
                    this.label !== undefined ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-input`, title: (0,_utils__WEBPACK_IMPORTED_MODULE_11__.getTitleAttribute)(this.label), key: "input" },
                        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-input__content` }, renderTag
                            ? renderTag({
                                option: this.selectedOption,
                                handleClose: () => { }
                            })
                            : renderLabel
                                ? renderLabel(this.selectedOption, true)
                                : (0,_utils__WEBPACK_IMPORTED_MODULE_4__.render)(this.label, this.selectedOption, true)))) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: "placeholder" }, this.placeholder)),
                    suffix));
            }
        }
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { ref: "selfRef", class: [
                `${clsPrefix}-base-selection`,
                this.themeClass,
                status && `${clsPrefix}-base-selection--${status}-status`,
                {
                    [`${clsPrefix}-base-selection--active`]: this.active,
                    [`${clsPrefix}-base-selection--selected`]: this.selected || (this.active && this.pattern),
                    [`${clsPrefix}-base-selection--disabled`]: this.disabled,
                    [`${clsPrefix}-base-selection--multiple`]: this.multiple,
                    // focus is not controlled by selection itself since it always need
                    // to be managed together with menu. provide :focus style will cause
                    // many redundant codes.
                    [`${clsPrefix}-base-selection--focus`]: this.focused
                }
            ], style: this.cssVars, onClick: this.onClick, onMouseenter: this.handleMouseEnter, onMouseleave: this.handleMouseLeave, onKeyup: this.onKeyup, onKeydown: this.onKeydown, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onMousedown: this.handleMouseDown },
            body,
            bordered ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection__border` })) : null,
            bordered ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-selection__state-border` })) : null));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");
 // vars:
// --n-bezier
// --n-border
// --n-border-active
// --n-border-focus
// --n-border-hover
// --n-border-radius
// --n-box-shadow-active
// --n-box-shadow-focus
// --n-box-shadow-hover
// --n-caret-color
// --n-color
// --n-color-active
// --n-color-disabled
// --n-font-size
// --n-height
// --n-padding-single
// --n-padding-multiple
// --n-placeholder-color
// --n-placeholder-color-disabled
// --n-text-color
// --n-text-color-disabled
// --n-arrow-color
// --n-arrow-size
// --n-loading-color
// ...clear vars
// ...form item vars

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)([(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection', `
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-loading', `
 color: var(--n-loading-color);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', 'min-height: var(--n-height);'), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('border, state-border', `
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 z-index: 1;
 border-color: #0000;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-suffix', `
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('arrow', `
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-overlay', `
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('wrapper', `
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-placeholder', `
 color: var(--n-placeholder-color);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', `
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', `
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-input', `
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('content', `
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('render-label', `
 color: var(--n-text-color);
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('disabled', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('focus', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('active', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', 'background-color: var(--n-color-active);'), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', 'background-color: var(--n-color-active);')])]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('disabled', 'cursor: not-allowed;', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('arrow', `
 color: var(--n-arrow-color-disabled);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', `
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-input', `
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('render-label', `
 color: var(--n-text-color-disabled);
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', `
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-placeholder', `
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-input-tag', `
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('input', `
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('mirror', `
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 opacity: 0;
 `)]), ['warning', 'error'].map(status => (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)(`${status}-status`, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `border: var(--n-border-${status});`), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('disabled', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-hover-${status});
 border: var(--n-border-hover-${status});
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('active', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-active-${status});
 border: var(--n-border-active-${status});
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', `background-color: var(--n-color-active-${status});`), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', `background-color: var(--n-color-active-${status});`)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('focus', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-focus-${status});
 border: var(--n-border-focus-${status});
 `)])])]))]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-popover', `
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tag-wrapper', `
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:last-child', 'padding-right: 0;'), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('tag', `
 font-size: 14px;
 max-width: 100%;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('content', `
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/selection/styles/_common.js":
/*!************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/selection/styles/_common.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    paddingSingle: '0 26px 0 12px',
    paddingMultiple: '3px 26px 0 12px',
    clearSize: '16px',
    arrowSize: '16px'
});


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/selection/styles/light.js":
/*!**********************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/selection/styles/light.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/index.js");
/* harmony import */ var _styles_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_styles/common */ "./node_modules/naive-ui/es/_styles/common/light.js");
/* harmony import */ var _popover_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../popover/styles */ "./node_modules/naive-ui/es/popover/styles/light.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_common */ "./node_modules/naive-ui/es/_internal/selection/styles/_common.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");





const self = (vars) => {
    const { borderRadius, textColor2, textColorDisabled, inputColor, inputColorDisabled, primaryColor, primaryColorHover, warningColor, warningColorHover, errorColor, errorColorHover, borderColor, iconColor, iconColorDisabled, clearColor, clearColorHover, clearColorPressed, placeholderColor, placeholderColorDisabled, fontSizeTiny, fontSizeSmall, fontSizeMedium, fontSizeLarge, heightTiny, heightSmall, heightMedium, heightLarge } = vars;
    return Object.assign(Object.assign({}, _common__WEBPACK_IMPORTED_MODULE_0__["default"]), { fontSizeTiny,
        fontSizeSmall,
        fontSizeMedium,
        fontSizeLarge,
        heightTiny,
        heightSmall,
        heightMedium,
        heightLarge,
        borderRadius, 
        // default
        textColor: textColor2, textColorDisabled,
        placeholderColor,
        placeholderColorDisabled, color: inputColor, colorDisabled: inputColorDisabled, colorActive: inputColor, border: `1px solid ${borderColor}`, borderHover: `1px solid ${primaryColorHover}`, borderActive: `1px solid ${primaryColor}`, borderFocus: `1px solid ${primaryColorHover}`, boxShadowHover: 'none', boxShadowActive: `0 0 0 2px ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, {
            alpha: 0.2
        })}`, boxShadowFocus: `0 0 0 2px ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, {
            alpha: 0.2
        })}`, caretColor: primaryColor, arrowColor: iconColor, arrowColorDisabled: iconColorDisabled, loadingColor: primaryColor, 
        // warning
        borderWarning: `1px solid ${warningColor}`, borderHoverWarning: `1px solid ${warningColorHover}`, borderActiveWarning: `1px solid ${warningColor}`, borderFocusWarning: `1px solid ${warningColorHover}`, boxShadowHoverWarning: 'none', boxShadowActiveWarning: `0 0 0 2px ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, {
            alpha: 0.2
        })}`, boxShadowFocusWarning: `0 0 0 2px ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, {
            alpha: 0.2
        })}`, colorActiveWarning: inputColor, caretColorWarning: warningColor, 
        // error
        borderError: `1px solid ${errorColor}`, borderHoverError: `1px solid ${errorColorHover}`, borderActiveError: `1px solid ${errorColor}`, borderFocusError: `1px solid ${errorColorHover}`, boxShadowHoverError: 'none', boxShadowActiveError: `0 0 0 2px ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, {
            alpha: 0.2
        })}`, boxShadowFocusError: `0 0 0 2px ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, {
            alpha: 0.2
        })}`, colorActiveError: inputColor, caretColorError: errorColor, clearColor,
        clearColorHover,
        clearColorPressed });
};
const internalSelectionLight = (0,_mixins__WEBPACK_IMPORTED_MODULE_2__.createTheme)({
    name: 'InternalSelection',
    common: _styles_common__WEBPACK_IMPORTED_MODULE_3__["default"],
    peers: {
        Popover: _popover_styles__WEBPACK_IMPORTED_MODULE_4__["default"]
    },
    self
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (internalSelectionLight);


/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/css/format-length.js":
/*!**************************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/css/format-length.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "formatLength": () => (/* binding */ formatLength)
/* harmony export */ });
const pureNumberRegex = /^(\d|\.)+$/;
const numberRegex = /(\d|\.)+/;
function formatLength(length, { c = 1, offset = 0, attachPx = true } = {}) {
    if (typeof length === 'number') {
        const result = (length + offset) * c;
        if (result === 0)
            return '0';
        return `${result}px`;
    }
    else if (typeof length === 'string') {
        if (pureNumberRegex.test(length)) {
            const result = (Number(length) + offset) * c;
            if (attachPx) {
                if (result === 0)
                    return '0';
                return `${result}px`;
            }
            else {
                return `${result}`;
            }
        }
        else {
            const result = numberRegex.exec(length);
            if (!result)
                return length;
            return length.replace(numberRegex, String((Number(result[0]) + offset) * c));
        }
    }
    return length;
}


/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/naive/attribute.js":
/*!************************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/naive/attribute.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTitleAttribute": () => (/* binding */ getTitleAttribute)
/* harmony export */ });
function getTitleAttribute(value) {
    switch (typeof value) {
        case 'string':
            // The empty string should also be reset to undefined.
            return value || undefined;
        case 'number':
            return String(value);
        default:
            return undefined;
    }
}


/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/vue/flatten.js":
/*!********************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/vue/flatten.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "flatten": () => (/* binding */ flatten)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

// o(n) flatten
function flatten(vNodes, filterCommentNode = true, result = []) {
    vNodes.forEach((vNode) => {
        if (vNode === null)
            return;
        if (typeof vNode !== 'object') {
            if (typeof vNode === 'string' || typeof vNode === 'number') {
                result.push((0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(String(vNode)));
            }
            return;
        }
        if (Array.isArray(vNode)) {
            flatten(vNode, filterCommentNode, result);
            return;
        }
        if (vNode.type === vue__WEBPACK_IMPORTED_MODULE_0__.Fragment) {
            if (vNode.children === null)
                return;
            if (Array.isArray(vNode.children)) {
                flatten(vNode.children, filterCommentNode, result);
            }
            // rawSlot
        }
        else if (vNode.type !== vue__WEBPACK_IMPORTED_MODULE_0__.Comment) {
            result.push(vNode);
        }
    });
    return result;
}


/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/vue/get-first-slot-vnode.js":
/*!*********************************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/vue/get-first-slot-vnode.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFirstSlotVNode": () => (/* binding */ getFirstSlotVNode)
/* harmony export */ });
/* harmony import */ var _flatten__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./flatten */ "./node_modules/naive-ui/es/_utils/vue/flatten.js");
/* harmony import */ var _naive__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../naive */ "./node_modules/naive-ui/es/_utils/naive/warn.js");


function getFirstSlotVNode(slots, slotName = 'default', props = undefined) {
    const slot = slots[slotName];
    if (!slot) {
        (0,_naive__WEBPACK_IMPORTED_MODULE_0__.warn)('getFirstSlotVNode', `slot[${slotName}] is empty`);
        return null;
    }
    const slotContent = (0,_flatten__WEBPACK_IMPORTED_MODULE_1__.flatten)(slot(props));
    // vue will normalize the slot, so slot must be an array
    if (slotContent.length === 1) {
        return slotContent[0];
    }
    else {
        (0,_naive__WEBPACK_IMPORTED_MODULE_0__.warn)('getFirstSlotVNode', `slot[${slotName}] should have exactly one child`);
        return null;
    }
}


/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/vue/keep.js":
/*!*****************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/vue/keep.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "keep": () => (/* binding */ keep)
/* harmony export */ });
function keep(object, keys = [], rest) {
    const keepedObject = {};
    keys.forEach((key) => {
        keepedObject[key] = object[key];
    });
    return Object.assign(keepedObject, rest);
}


/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/vue/render.js":
/*!*******************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/vue/render.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

const render = (r, ...args) => {
    if (typeof r === 'function') {
        return r(...args);
    }
    else if (typeof r === 'string') {
        return (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(r);
    }
    else if (typeof r === 'number') {
        return (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(String(r));
    }
    else {
        return null;
    }
};


/***/ }),

/***/ "./node_modules/naive-ui/es/empty/src/Empty.js":
/*!*****************************************************!*\
  !*** ./node_modules/naive-ui/es/empty/src/Empty.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _config_provider_src_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../config-provider/src/context */ "./node_modules/naive-ui/es/config-provider/src/context.js");
/* harmony import */ var _internal_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_internal/icons */ "./node_modules/naive-ui/es/_internal/icons/Empty.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-config.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-locale.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/cssr/create-key.js");
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_internal */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.js");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles */ "./node_modules/naive-ui/es/empty/styles/light.js");
/* harmony import */ var _styles_index_cssr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./styles/index.cssr */ "./node_modules/naive-ui/es/empty/src/styles/index.cssr.js");








const emptyProps = Object.assign(Object.assign({}, _mixins__WEBPACK_IMPORTED_MODULE_1__["default"].props), { description: String, showDescription: {
        type: Boolean,
        default: true
    }, showIcon: {
        type: Boolean,
        default: true
    }, size: {
        type: String,
        default: 'medium'
    }, renderIcon: Function });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'Empty',
    props: emptyProps,
    setup(props) {
        const { mergedClsPrefixRef, inlineThemeDisabled } = (0,_mixins__WEBPACK_IMPORTED_MODULE_2__["default"])(props);
        const themeRef = (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])('Empty', '-empty', _styles_index_cssr__WEBPACK_IMPORTED_MODULE_3__["default"], _styles__WEBPACK_IMPORTED_MODULE_4__["default"], props, mergedClsPrefixRef);
        const { localeRef } = (0,_mixins__WEBPACK_IMPORTED_MODULE_5__["default"])('Empty');
        const NConfigProvider = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)(_config_provider_src_context__WEBPACK_IMPORTED_MODULE_6__.configProviderInjectionKey, null);
        const mergedDescriptionRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            var _a, _b, _c;
            return ((_a = props.description) !== null && _a !== void 0 ? _a : (_c = (_b = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _b === void 0 ? void 0 : _b.Empty) === null || _c === void 0 ? void 0 : _c.description);
        });
        const mergedRenderIconRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            var _a, _b;
            return ((_b = (_a = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Empty) === null || _b === void 0 ? void 0 : _b.renderIcon) ||
                (() => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal_icons__WEBPACK_IMPORTED_MODULE_7__["default"], null));
        });
        const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { size } = props;
            const { common: { cubicBezierEaseInOut }, self: { [(0,_utils__WEBPACK_IMPORTED_MODULE_8__.createKey)('iconSize', size)]: iconSize, [(0,_utils__WEBPACK_IMPORTED_MODULE_8__.createKey)('fontSize', size)]: fontSize, textColor, iconColor, extraTextColor } } = themeRef.value;
            return {
                '--n-icon-size': iconSize,
                '--n-font-size': fontSize,
                '--n-bezier': cubicBezierEaseInOut,
                '--n-text-color': textColor,
                '--n-icon-color': iconColor,
                '--n-extra-text-color': extraTextColor
            };
        });
        const themeClassHandle = inlineThemeDisabled
            ? (0,_mixins__WEBPACK_IMPORTED_MODULE_9__.useThemeClass)('empty', (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                let hash = '';
                const { size } = props;
                hash += size[0];
                return hash;
            }), cssVarsRef, props)
            : undefined;
        return {
            mergedClsPrefix: mergedClsPrefixRef,
            mergedRenderIcon: mergedRenderIconRef,
            localizedDescription: (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                return mergedDescriptionRef.value || localeRef.value.description;
            }),
            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,
            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,
            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender
        };
    },
    render() {
        const { $slots, mergedClsPrefix, onRender } = this;
        onRender === null || onRender === void 0 ? void 0 : onRender();
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: [`${mergedClsPrefix}-empty`, this.themeClass], style: this.cssVars },
            this.showIcon ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-empty__icon` }, $slots.icon ? ($slots.icon()) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal__WEBPACK_IMPORTED_MODULE_10__["default"], { clsPrefix: mergedClsPrefix }, { default: this.mergedRenderIcon })))) : null,
            this.showDescription ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-empty__description` }, $slots.default ? $slots.default() : this.localizedDescription)) : null,
            $slots.extra ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-empty__extra` }, $slots.extra())) : null));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/empty/src/styles/index.cssr.js":
/*!*****************************************************************!*\
  !*** ./node_modules/naive-ui/es/empty/src/styles/index.cssr.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");
 // vars:
// --n-font-size
// --n-icon-size
// --n-icon-color
// --n-bezier
// --n-text-color
// --n-extra-text-color

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('empty', `
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('icon', `
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('+', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('description', `
 margin-top: 8px;
 `)])]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('description', `
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('extra', `
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]));

/***/ }),

/***/ "./node_modules/naive-ui/es/empty/styles/_common.js":
/*!**********************************************************!*\
  !*** ./node_modules/naive-ui/es/empty/styles/_common.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    iconSizeSmall: '34px',
    iconSizeMedium: '40px',
    iconSizeLarge: '46px',
    iconSizeHuge: '52px'
});


/***/ }),

/***/ "./node_modules/naive-ui/es/empty/styles/light.js":
/*!********************************************************!*\
  !*** ./node_modules/naive-ui/es/empty/styles/light.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "self": () => (/* binding */ self),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_common */ "./node_modules/naive-ui/es/empty/styles/_common.js");
/* harmony import */ var _styles_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_styles/common */ "./node_modules/naive-ui/es/_styles/common/light.js");


const self = (vars) => {
    const { textColorDisabled, iconColor, textColor2, fontSizeSmall, fontSizeMedium, fontSizeLarge, fontSizeHuge } = vars;
    return Object.assign(Object.assign({}, _common__WEBPACK_IMPORTED_MODULE_0__["default"]), { fontSizeSmall,
        fontSizeMedium,
        fontSizeLarge,
        fontSizeHuge, textColor: textColorDisabled, iconColor: iconColor, extraTextColor: textColor2 });
};
const emptyLight = {
    name: 'Empty',
    common: _styles_common__WEBPACK_IMPORTED_MODULE_1__["default"],
    self
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (emptyLight);


/***/ }),

/***/ "./node_modules/naive-ui/es/popover/src/Popover.js":
/*!*********************************************************!*\
  !*** ./node_modules/naive-ui/es/popover/src/Popover.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "popoverBaseProps": () => (/* binding */ popoverBaseProps),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Binder.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Target.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/life-cycle/use-is-mounted.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-merged-state.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-memo.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-compitable.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/composable/use-adjusted-to.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/naive/warn.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/call.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/get-first-slot-vnode.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/keep.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");
/* harmony import */ var _PopoverBody__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PopoverBody */ "./node_modules/naive-ui/es/popover/src/PopoverBody.js");
/* harmony import */ var vdirs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vdirs */ "./node_modules/vdirs/es/zindexable/index.js");







const bodyPropKeys = Object.keys(_PopoverBody__WEBPACK_IMPORTED_MODULE_1__.popoverBodyProps);
const triggerEventMap = {
    focus: ['onFocus', 'onBlur'],
    click: ['onClick'],
    hover: ['onMouseenter', 'onMouseleave'],
    manual: [],
    nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']
};
function appendEvents(vNode, trigger, events) {
    triggerEventMap[trigger].forEach((eventName) => {
        if (!vNode.props)
            vNode.props = {};
        else {
            vNode.props = Object.assign({}, vNode.props);
        }
        const originalHandler = vNode.props[eventName];
        const handler = events[eventName];
        if (!originalHandler)
            vNode.props[eventName] = handler;
        else {
            vNode.props[eventName] = (...args) => {
                originalHandler(...args);
                handler(...args);
            };
        }
    });
}
const textVNodeType = (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)('').type;
const popoverBaseProps = {
    show: {
        type: Boolean,
        default: undefined
    },
    defaultShow: Boolean,
    showArrow: {
        type: Boolean,
        default: true
    },
    trigger: {
        type: String,
        default: 'hover'
    },
    delay: {
        type: Number,
        default: 100
    },
    duration: {
        type: Number,
        default: 100
    },
    raw: Boolean,
    placement: {
        type: String,
        default: 'top'
    },
    x: Number,
    y: Number,
    disabled: Boolean,
    getDisabled: Function,
    displayDirective: {
        type: String,
        default: 'if'
    },
    arrowStyle: [String, Object],
    flip: {
        type: Boolean,
        default: true
    },
    animated: {
        type: Boolean,
        default: true
    },
    width: {
        type: [Number, String],
        default: undefined
    },
    overlap: Boolean,
    keepAliveOnHover: {
        type: Boolean,
        default: true
    },
    onClickoutside: Function,
    internalExtraClass: {
        type: Array,
        default: () => []
    },
    // events
    'onUpdate:show': [Function, Array],
    onUpdateShow: [Function, Array],
    zIndex: Number,
    to: _utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo.propTo,
    internalSyncTargetWithParent: Boolean,
    internalInheritedEventHandlers: {
        type: Array,
        default: () => []
    },
    internalTrapFocus: Boolean,
    /** @deprecated */
    onShow: [Function, Array],
    /** @deprecated */
    onHide: [Function, Array],
    /** @deprecated */
    arrow: {
        type: Boolean,
        default: undefined
    },
    /** @deprecated */
    minWidth: Number,
    /** @deprecated */
    maxWidth: Number
};
const popoverProps = Object.assign(Object.assign(Object.assign({}, _mixins__WEBPACK_IMPORTED_MODULE_3__["default"].props), popoverBaseProps), { internalRenderBody: Function });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'Popover',
    inheritAttrs: false,
    props: popoverProps,
    __popover__: true,
    setup(props) {
        if (true) {
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.watchEffect)(() => {
                if (props.maxWidth !== undefined) {
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.warnOnce)('popover', '`max-width` is deprecated, please use `style` instead.');
                }
                if (props.minWidth !== undefined) {
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.warnOnce)('popover', '`min-width` is deprecated, please use `style` instead.');
                }
                if (props.arrow !== undefined) {
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.warnOnce)('popover', '`arrow` is deprecated, please use `showArrow` instead.');
                }
                if (props.onHide !== undefined) {
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.warnOnce)('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');
                }
                if (props.onShow !== undefined) {
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.warnOnce)('popover', '`on-show` is deprecated, please use `on-update:show` instead.');
                }
            });
        }
        const isMountedRef = (0,vooks__WEBPACK_IMPORTED_MODULE_5__["default"])();
        const binderInstRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        // setup show
        const controlledShowRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => props.show);
        const uncontrolledShowRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(props.defaultShow);
        const mergedShowWithoutDisabledRef = (0,vooks__WEBPACK_IMPORTED_MODULE_6__["default"])(controlledShowRef, uncontrolledShowRef);
        const mergedShowConsideringDisabledPropRef = (0,vooks__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
            if (props.disabled)
                return false;
            return mergedShowWithoutDisabledRef.value;
        });
        const getMergedDisabled = () => {
            if (props.disabled)
                return true;
            const { getDisabled } = props;
            if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled())
                return true;
            return false;
        };
        const getMergedShow = () => {
            if (getMergedDisabled())
                return false;
            return mergedShowWithoutDisabledRef.value;
        };
        // setup show-arrow
        const compatibleShowArrowRef = (0,vooks__WEBPACK_IMPORTED_MODULE_8__["default"])(props, ['arrow', 'showArrow']);
        const mergedShowArrowRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            if (props.overlap)
                return false;
            return compatibleShowArrowRef.value;
        });
        // bodyInstance
        let bodyInstance = null;
        const showTimerIdRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const hideTimerIdRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const positionManuallyRef = (0,vooks__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
            return props.x !== undefined && props.y !== undefined;
        });
        // methods
        function doUpdateShow(value) {
            const { 'onUpdate:show': _onUpdateShow, onUpdateShow, onShow, onHide } = props;
            uncontrolledShowRef.value = value;
            if (_onUpdateShow) {
                (0,_utils__WEBPACK_IMPORTED_MODULE_9__.call)(_onUpdateShow, value);
            }
            if (onUpdateShow) {
                (0,_utils__WEBPACK_IMPORTED_MODULE_9__.call)(onUpdateShow, value);
            }
            if (value && onShow) {
                (0,_utils__WEBPACK_IMPORTED_MODULE_9__.call)(onShow, true);
            }
            if (value && onHide) {
                (0,_utils__WEBPACK_IMPORTED_MODULE_9__.call)(onHide, false);
            }
        }
        function syncPosition() {
            if (bodyInstance) {
                bodyInstance.syncPosition();
            }
        }
        function clearShowTimer() {
            const { value: showTimerId } = showTimerIdRef;
            if (showTimerId) {
                window.clearTimeout(showTimerId);
                showTimerIdRef.value = null;
            }
        }
        function clearHideTimer() {
            const { value: hideTimerId } = hideTimerIdRef;
            if (hideTimerId) {
                window.clearTimeout(hideTimerId);
                hideTimerIdRef.value = null;
            }
        }
        function handleFocus() {
            const mergedDisabled = getMergedDisabled();
            if (props.trigger === 'focus' && !mergedDisabled) {
                if (getMergedShow())
                    return;
                doUpdateShow(true);
            }
        }
        function handleBlur() {
            const mergedDisabled = getMergedDisabled();
            if (props.trigger === 'focus' && !mergedDisabled) {
                if (!getMergedShow())
                    return;
                doUpdateShow(false);
            }
        }
        function handleMouseEnter() {
            const mergedDisabled = getMergedDisabled();
            if (props.trigger === 'hover' && !mergedDisabled) {
                clearHideTimer();
                if (showTimerIdRef.value !== null)
                    return;
                if (getMergedShow())
                    return;
                const delayCallback = () => {
                    doUpdateShow(true);
                    showTimerIdRef.value = null;
                };
                const { delay } = props;
                if (delay === 0) {
                    delayCallback();
                }
                else {
                    showTimerIdRef.value = window.setTimeout(delayCallback, delay);
                }
            }
        }
        function handleMouseLeave() {
            const mergedDisabled = getMergedDisabled();
            if (props.trigger === 'hover' && !mergedDisabled) {
                clearShowTimer();
                if (hideTimerIdRef.value !== null)
                    return;
                if (!getMergedShow())
                    return;
                const delayedCallback = () => {
                    doUpdateShow(false);
                    hideTimerIdRef.value = null;
                };
                const { duration } = props;
                if (duration === 0) {
                    delayedCallback();
                }
                else {
                    hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);
                }
            }
        }
        // will be called in popover-content
        function handleMouseMoveOutside() {
            handleMouseLeave();
        }
        // will be called in popover-content
        function handleClickOutside(e) {
            var _a;
            if (!getMergedShow())
                return;
            if (props.trigger === 'click') {
                clearShowTimer();
                clearHideTimer();
                doUpdateShow(false);
            }
            (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);
        }
        function handleClick() {
            if (props.trigger === 'click' && !getMergedDisabled()) {
                clearShowTimer();
                clearHideTimer();
                const nextShow = !getMergedShow();
                doUpdateShow(nextShow);
            }
        }
        function handleKeydown(e) {
            if (!props.internalTrapFocus)
                return;
            if (e.code === 'Escape') {
                clearShowTimer();
                clearHideTimer();
                doUpdateShow(false);
            }
        }
        function setShow(value) {
            uncontrolledShowRef.value = value;
        }
        function getTriggerElement() {
            var _a;
            return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;
        }
        function setBodyInstance(value) {
            bodyInstance = value;
        }
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)('NPopover', {
            getTriggerElement,
            handleKeydown,
            handleMouseEnter,
            handleMouseLeave,
            handleClickOutside,
            handleMouseMoveOutside,
            setBodyInstance,
            positionManuallyRef: positionManuallyRef,
            isMountedRef: isMountedRef,
            zIndexRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'zIndex'),
            extraClassRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'internalExtraClass'),
            internalRenderBodyRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'internalRenderBody')
        });
        return {
            binderInstRef,
            positionManually: positionManuallyRef,
            mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,
            // if to show popover body
            uncontrolledShow: uncontrolledShowRef,
            mergedShowArrow: mergedShowArrowRef,
            getMergedShow,
            setShow,
            handleClick,
            handleMouseEnter,
            handleMouseLeave,
            handleFocus,
            handleBlur,
            syncPosition
        };
    },
    render() {
        var _a;
        const { positionManually, $slots: slots } = this;
        let triggerVNode;
        let popoverInside = false;
        if (!positionManually) {
            if (slots.activator) {
                triggerVNode = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getFirstSlotVNode)(slots, 'activator');
            }
            else {
                triggerVNode = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getFirstSlotVNode)(slots, 'trigger');
            }
            if (triggerVNode) {
                triggerVNode = (0,vue__WEBPACK_IMPORTED_MODULE_0__.cloneVNode)(triggerVNode);
                triggerVNode =
                    triggerVNode.type === textVNodeType
                        ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('span', [triggerVNode])
                        : triggerVNode;
                const handlers = {
                    onClick: this.handleClick,
                    onMouseenter: this.handleMouseEnter,
                    onMouseleave: this.handleMouseLeave,
                    onFocus: this.handleFocus,
                    onBlur: this.handleBlur
                };
                if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {
                    popoverInside = true;
                    // We assume that there's no DOM event handlers on popover element
                    if (!triggerVNode.props) {
                        triggerVNode.props = {
                            internalSyncTargetWithParent: true,
                            internalInheritedEventHandlers: []
                        };
                    }
                    triggerVNode.props.internalSyncTargetWithParent = true;
                    if (!triggerVNode.props.internalInheritedEventHandlers) {
                        triggerVNode.props.internalInheritedEventHandlers = [handlers];
                    }
                    else {
                        triggerVNode.props.internalInheritedEventHandlers = [
                            handlers,
                            ...triggerVNode.props.internalInheritedEventHandlers
                        ];
                    }
                }
                else {
                    const { internalInheritedEventHandlers } = this;
                    const ascendantAndCurrentHandlers = [
                        handlers,
                        ...internalInheritedEventHandlers
                    ];
                    const mergedHandlers = {
                        onBlur: (e) => {
                            ascendantAndCurrentHandlers.forEach((_handlers) => {
                                _handlers.onBlur(e);
                            });
                        },
                        onFocus: (e) => {
                            ascendantAndCurrentHandlers.forEach((_handlers) => {
                                _handlers.onFocus(e);
                            });
                        },
                        onClick: (e) => {
                            ascendantAndCurrentHandlers.forEach((_handlers) => {
                                _handlers.onClick(e);
                            });
                        },
                        onMouseenter: (e) => {
                            ascendantAndCurrentHandlers.forEach((_handlers) => {
                                _handlers.onMouseenter(e);
                            });
                        },
                        onMouseleave: (e) => {
                            ascendantAndCurrentHandlers.forEach((_handlers) => {
                                _handlers.onMouseleave(e);
                            });
                        }
                    };
                    appendEvents(triggerVNode, internalInheritedEventHandlers
                        ? 'nested'
                        : positionManually
                            ? 'manual'
                            : this.trigger, mergedHandlers);
                }
            }
        }
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_11__["default"], { ref: "binderInstRef", syncTarget: !popoverInside, syncTargetWithParent: this.internalSyncTargetWithParent }, {
            default: () => {
                // We need to subscribe it. Sometimes rerender won't ge triggered.
                // `mergedShowConsideringDisabledProp` is not the final disabled status.
                // In ellpisis it's dynamic.
                void this.mergedShowConsideringDisabledProp;
                const mergedShow = this.getMergedShow();
                return [
                    this.internalTrapFocus && mergedShow
                        ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { style: { position: 'fixed', inset: 0 } }), [
                            [
                                vdirs__WEBPACK_IMPORTED_MODULE_12__["default"],
                                {
                                    enabled: mergedShow,
                                    zIndex: this.zIndex
                                }
                            ]
                        ])
                        : null,
                    positionManually
                        ? null
                        : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_13__["default"], null, {
                            default: () => triggerVNode
                        }),
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_PopoverBody__WEBPACK_IMPORTED_MODULE_1__["default"], (0,_utils__WEBPACK_IMPORTED_MODULE_14__.keep)(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), { showArrow: this.mergedShowArrow, show: mergedShow })), {
                        default: () => { var _a, _b; return (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a); },
                        header: () => { var _a, _b; return (_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a); }
                    })
                ];
            }
        }));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/popover/src/PopoverBody.js":
/*!*************************************************************!*\
  !*** ./node_modules/naive-ui/es/popover/src/PopoverBody.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "popoverBodyProps": () => (/* binding */ popoverBodyProps),
/* harmony export */   "renderArrow": () => (/* binding */ renderArrow),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/focus-trap/src/index.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Follower.js");
/* harmony import */ var vdirs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vdirs */ "./node_modules/vdirs/es/clickoutside.js");
/* harmony import */ var vdirs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vdirs */ "./node_modules/vdirs/es/mousemoveoutside.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-config.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/composable/use-adjusted-to.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/css/format-length.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/resolve-slot.js");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles */ "./node_modules/naive-ui/es/popover/styles/light.js");
/* harmony import */ var _styles_index_cssr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles/index.cssr */ "./node_modules/naive-ui/es/popover/src/styles/index.cssr.js");
/* harmony import */ var _interface__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./interface */ "./node_modules/naive-ui/es/popover/src/interface.js");
/* harmony import */ var _drawer_src_interface__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../drawer/src/interface */ "./node_modules/naive-ui/es/drawer/src/interface.js");
/* harmony import */ var _modal_src_interface__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../modal/src/interface */ "./node_modules/naive-ui/es/modal/src/interface.js");










const popoverBodyProps = Object.assign(Object.assign({}, _mixins__WEBPACK_IMPORTED_MODULE_1__["default"].props), { to: _utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo.propTo, show: Boolean, trigger: String, showArrow: Boolean, delay: Number, duration: Number, raw: Boolean, arrowStyle: [String, Object], displayDirective: String, x: Number, y: Number, flip: Boolean, overlap: Boolean, placement: String, width: [Number, String], keepAliveOnHover: Boolean, internalTrapFocus: Boolean, 
    // private
    animated: Boolean, onClickoutside: Function, 
    /** @deprecated */
    minWidth: Number, maxWidth: Number });
const renderArrow = ({ arrowStyle, clsPrefix }) => {
    return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { key: "__popover-arrow__", class: `${clsPrefix}-popover-arrow-wrapper` },
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-popover-arrow`, style: arrowStyle })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'PopoverBody',
    inheritAttrs: false,
    props: popoverBodyProps,
    setup(props, { slots, attrs }) {
        const { namespaceRef, mergedClsPrefixRef, inlineThemeDisabled } = (0,_mixins__WEBPACK_IMPORTED_MODULE_3__["default"])(props);
        const themeRef = (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])('Popover', '-popover', _styles_index_cssr__WEBPACK_IMPORTED_MODULE_4__["default"], _styles__WEBPACK_IMPORTED_MODULE_5__["default"], props, mergedClsPrefixRef);
        const followerRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const NPopover = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)('NPopover');
        const bodyRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const followerEnabledRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(props.show);
        const directivesRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { trigger, onClickoutside } = props;
            const directives = [];
            const { positionManuallyRef: { value: positionManually } } = NPopover;
            if (!positionManually) {
                if (trigger === 'click' && !onClickoutside) {
                    directives.push([vdirs__WEBPACK_IMPORTED_MODULE_6__["default"], handleClickOutside]);
                }
                if (trigger === 'hover') {
                    directives.push([vdirs__WEBPACK_IMPORTED_MODULE_7__["default"], handleMouseMoveOutside]);
                }
            }
            if (onClickoutside) {
                directives.push([vdirs__WEBPACK_IMPORTED_MODULE_6__["default"], handleClickOutside]);
            }
            if (props.displayDirective === 'show') {
                directives.push([vue__WEBPACK_IMPORTED_MODULE_0__.vShow, props.show]);
            }
            return directives;
        });
        const styleRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            return [
                {
                    width: props.width === 'trigger' ? '' : (0,_utils__WEBPACK_IMPORTED_MODULE_8__.formatLength)(props.width)
                },
                props.maxWidth ? { maxWidth: (0,_utils__WEBPACK_IMPORTED_MODULE_8__.formatLength)(props.maxWidth) } : {},
                props.minWidth ? { minWidth: (0,_utils__WEBPACK_IMPORTED_MODULE_8__.formatLength)(props.minWidth) } : {},
                inlineThemeDisabled ? undefined : cssVarsRef.value
            ];
        });
        const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { common: { cubicBezierEaseInOut, cubicBezierEaseIn, cubicBezierEaseOut }, self: { space, spaceArrow, padding, fontSize, textColor, dividerColor, color, boxShadow, borderRadius, arrowHeight, arrowOffset, arrowOffsetVertical } } = themeRef.value;
            return {
                '--n-box-shadow': boxShadow,
                '--n-bezier': cubicBezierEaseInOut,
                '--n-bezier-ease-in': cubicBezierEaseIn,
                '--n-bezier-ease-out': cubicBezierEaseOut,
                '--n-font-size': fontSize,
                '--n-text-color': textColor,
                '--n-color': color,
                '--n-divider-color': dividerColor,
                '--n-border-radius': borderRadius,
                '--n-arrow-height': arrowHeight,
                '--n-arrow-offset': arrowOffset,
                '--n-arrow-offset-vertical': arrowOffsetVertical,
                '--n-padding': padding,
                '--n-space': space,
                '--n-space-arrow': spaceArrow
            };
        });
        const themeClassHandle = inlineThemeDisabled
            ? (0,_mixins__WEBPACK_IMPORTED_MODULE_9__.useThemeClass)('popover', undefined, cssVarsRef, props)
            : undefined;
        NPopover.setBodyInstance({
            syncPosition
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onBeforeUnmount)(() => {
            NPopover.setBodyInstance(null);
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'show'), (value) => {
            // If no animation, no transition component will be applied to the
            // component. So we need to trigger follower manaully.
            if (props.animated)
                return;
            if (value) {
                followerEnabledRef.value = true;
            }
            else {
                followerEnabledRef.value = false;
            }
        });
        function syncPosition() {
            var _a;
            (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();
        }
        function handleMouseEnter(e) {
            if (props.trigger === 'hover' && props.keepAliveOnHover) {
                NPopover.handleMouseEnter(e);
            }
        }
        function handleMouseLeave(e) {
            if (props.trigger === 'hover' && props.keepAliveOnHover) {
                NPopover.handleMouseLeave(e);
            }
        }
        function handleMouseMoveOutside(e) {
            if (props.trigger === 'hover' &&
                !getTriggerElement().contains(e.target)) {
                NPopover.handleMouseMoveOutside(e);
            }
        }
        function handleClickOutside(e) {
            if ((props.trigger === 'click' &&
                !getTriggerElement().contains(e.target)) ||
                props.onClickoutside) {
                NPopover.handleClickOutside(e);
            }
        }
        function getTriggerElement() {
            return NPopover.getTriggerElement();
        }
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(_interface__WEBPACK_IMPORTED_MODULE_10__.popoverBodyInjectionKey, bodyRef);
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(_drawer_src_interface__WEBPACK_IMPORTED_MODULE_11__.drawerBodyInjectionKey, null);
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(_modal_src_interface__WEBPACK_IMPORTED_MODULE_12__.modalBodyInjectionKey, null);
        function renderContentNode() {
            themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender();
            let contentNode;
            const { internalRenderBodyRef: { value: renderBody } } = NPopover;
            const { value: mergedClsPrefix } = mergedClsPrefixRef;
            if (!renderBody) {
                const { value: extraClass } = NPopover.extraClassRef;
                const { internalTrapFocus } = props;
                const renderContentInnerNode = () => {
                    var _a;
                    return [
                        (0,_utils__WEBPACK_IMPORTED_MODULE_13__.resolveWrappedSlot)(slots.header, (children) => children && [
                            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-popover__header` }, children),
                            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-popover__content` }, slots)
                        ]) || ((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)),
                        props.showArrow
                            ? renderArrow({
                                arrowStyle: props.arrowStyle,
                                clsPrefix: mergedClsPrefix
                            })
                            : null
                    ];
                };
                contentNode = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('div', (0,vue__WEBPACK_IMPORTED_MODULE_0__.mergeProps)({
                    class: [
                        `${mergedClsPrefix}-popover`,
                        themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value,
                        extraClass.map((v) => `${mergedClsPrefix}-${v}`),
                        {
                            [`${mergedClsPrefix}-popover--overlap`]: props.overlap,
                            [`${mergedClsPrefix}-popover--show-arrow`]: props.showArrow,
                            [`${mergedClsPrefix}-popover--show-header`]: !(0,_utils__WEBPACK_IMPORTED_MODULE_13__.isSlotEmpty)(slots.header),
                            [`${mergedClsPrefix}-popover--raw`]: props.raw,
                            [`${mergedClsPrefix}-popover--manual-trigger`]: props.trigger === 'manual'
                        }
                    ],
                    ref: bodyRef,
                    style: styleRef.value,
                    onKeydown: NPopover.handleKeydown,
                    onMouseenter: handleMouseEnter,
                    onMouseleave: handleMouseLeave
                }, attrs), internalTrapFocus ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_14__.FocusTrap, { active: props.show, autoFocus: true }, { default: renderContentInnerNode })) : (renderContentInnerNode()));
            }
            else {
                contentNode = renderBody(
                // The popover class and overlap class must exists, they will be used
                // to place the body & transition animation.
                // Shadow class exists for reuse box-shadow.
                [
                    `${mergedClsPrefix}-popover`,
                    themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value,
                    props.overlap && `${mergedClsPrefix}-popover--overlap`
                ], bodyRef, styleRef.value, handleMouseEnter, handleMouseLeave);
            }
            return props.displayDirective === 'show' || props.show
                ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)(contentNode, directivesRef.value)
                : null;
        }
        return {
            namespace: namespaceRef,
            isMounted: NPopover.isMountedRef,
            zIndex: NPopover.zIndexRef,
            followerRef,
            adjustedTo: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo)(props),
            followerEnabled: followerEnabledRef,
            renderContentNode
        };
    },
    render() {
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_15__["default"], { zIndex: this.zIndex, show: this.show, enabled: this.followerEnabled, to: this.adjustedTo, x: this.x, y: this.y, flip: this.flip, placement: this.placement, containerClass: this.namespace, ref: "followerRef", overlap: this.overlap, width: this.width === 'trigger' ? 'target' : undefined, teleportDisabled: this.adjustedTo === _utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo.tdkey }, {
            default: () => {
                return this.animated ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Transition, { name: "popover-transition", appear: this.isMounted, 
                    // Don't use watch to enable follower, since the transition may
                    // make position sync timing very subtle and buggy.
                    onEnter: () => {
                        this.followerEnabled = true;
                    }, onAfterLeave: () => {
                        this.followerEnabled = false;
                    } }, {
                    default: this.renderContentNode
                })) : (this.renderContentNode());
            }
        }));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/popover/src/styles/index.cssr.js":
/*!*******************************************************************!*\
  !*** ./node_modules/naive-ui/es/popover/src/styles/index.cssr.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");

const oppositePlacement = {
  top: 'bottom',
  bottom: 'top',
  left: 'right',
  right: 'left'
}; // vars:
// --n-bezier
// --n-bezier-ease-in
// --n-bezier-ease-out
// --n-font-size
// --n-text-color
// --n-color
// --n-border-radius
// --n-arrow-height
// --n-arrow-offset
// --n-arrow-offset-vertical
// --n-padding
// --n-space
// --n-space-arrow
// --n-divider-color

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)([(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('popover', `
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 transform-origin: inherit;
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 `, [// body transition
(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&.popover-transition-enter-from, &.popover-transition-leave-to', `
 opacity: 0;
 transform: scale(.85);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&.popover-transition-enter-to, &.popover-transition-leave-from', `
 transform: scale(1);
 opacity: 1;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&.popover-transition-enter-active', `
 transition:
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&.popover-transition-leave-active', `
 transition:
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('raw', `
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('show-header', 'padding: var(--n-padding);')]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('header', `
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('content', `
 padding: var(--n-padding);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('popover-arrow-wrapper', `
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('popover-arrow', `
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(var(--n-arrow-height) * 1.414);
 height: calc(var(--n-arrow-height) * 1.414);
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)])]), placementStyle('top-start', `
 top: calc(-0.707 * var(--n-arrow-height));
 left: calc(var(--n-arrow-offset) - var(--v-offset-left));
 `), placementStyle('top', `
 top: calc(-0.707 * var(--n-arrow-height));
 transform: translateX(calc(-0.707 * var(--n-arrow-height))) rotate(45deg);
 left: 50%;
 `), placementStyle('top-end', `
 top: calc(-0.707 * var(--n-arrow-height));
 right: calc(var(--n-arrow-offset) + var(--v-offset-left));
 `), placementStyle('bottom-start', `
 bottom: calc(-0.707 * var(--n-arrow-height));
 left: calc(var(--n-arrow-offset) - var(--v-offset-left));
 `), placementStyle('bottom', `
 bottom: calc(-0.707 * var(--n-arrow-height));
 transform: translateX(calc(-0.707 * var(--n-arrow-height))) rotate(45deg);
 left: 50%;
 `), placementStyle('bottom-end', `
 bottom: calc(-0.707 * var(--n-arrow-height));
 right: calc(var(--n-arrow-offset) + var(--v-offset-left));
 `), placementStyle('left-start', `
 left: calc(-0.707 * var(--n-arrow-height));
 top: calc(var(--n-arrow-offset-vertical) - var(--v-offset-top));
 `), placementStyle('left', `
 left: calc(-0.707 * var(--n-arrow-height));
 transform: translateY(calc(-0.707 * var(--n-arrow-height))) rotate(45deg);
 top: 50%;
 `), placementStyle('left-end', `
 left: calc(-0.707 * var(--n-arrow-height));
 bottom: calc(var(--n-arrow-offset-vertical) + var(--v-offset-top));
 
 `), placementStyle('right-start', `
 right: calc(-0.707 * var(--n-arrow-height));
 top: calc(var(--n-arrow-offset-vertical) - var(--v-offset-top));
 `), placementStyle('right', `
 right: calc(-0.707 * var(--n-arrow-height));
 transform: translateY(calc(-0.707 * var(--n-arrow-height))) rotate(45deg);
 top: 50%;
 `), placementStyle('right-end', `
 right: calc(-0.707 * var(--n-arrow-height));
 bottom: calc(var(--n-arrow-offset-vertical) + var(--v-offset-top));
 `)]));

function placementStyle(placement, arrowStyleLiteral) {
  const position = placement.split('-')[0];
  const sizeStyle = ['top', 'bottom'].includes(position) ? 'height: var(--n-space-arrow);' : 'width: var(--n-space-arrow);';
  return (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)(`[v-placement="${placement}"] >`, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('popover', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('manual-trigger', `
 margin-${oppositePlacement[position]}: var(--n-space);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('show-arrow', `
 margin-${oppositePlacement[position]}: var(--n-space-arrow);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('overlap', `
 margin: 0;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cCB)('popover-arrow-wrapper', `
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${position}: 100%;
 ${oppositePlacement[position]}: auto;
 ${sizeStyle}
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('popover-arrow', arrowStyleLiteral)])])]);
}

/***/ }),

/***/ "./node_modules/naive-ui/es/popover/styles/_common.js":
/*!************************************************************!*\
  !*** ./node_modules/naive-ui/es/popover/styles/_common.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    space: '6px',
    spaceArrow: '10px',
    arrowOffset: '10px',
    arrowOffsetVertical: '10px',
    arrowHeight: '6px',
    padding: '8px 14px'
});


/***/ }),

/***/ "./node_modules/naive-ui/es/popover/styles/light.js":
/*!**********************************************************!*\
  !*** ./node_modules/naive-ui/es/popover/styles/light.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "self": () => (/* binding */ self),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _styles_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_styles/common */ "./node_modules/naive-ui/es/_styles/common/light.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_common */ "./node_modules/naive-ui/es/popover/styles/_common.js");


const self = (vars) => {
    const { boxShadow2, popoverColor, textColor2, borderRadius, fontSize, dividerColor } = vars;
    return Object.assign(Object.assign({}, _common__WEBPACK_IMPORTED_MODULE_0__["default"]), { fontSize,
        borderRadius, color: popoverColor, dividerColor, textColor: textColor2, boxShadow: boxShadow2 });
};
const popoverLight = {
    name: 'Popover',
    common: _styles_common__WEBPACK_IMPORTED_MODULE_1__["default"],
    self
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (popoverLight);


/***/ }),

/***/ "./node_modules/naive-ui/es/select/src/Select.js":
/*!*******************************************************!*\
  !*** ./node_modules/naive-ui/es/select/src/Select.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/dom/happens-in.js");
/* harmony import */ var treemate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! treemate */ "./node_modules/treemate/es/create.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Binder.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Target.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Follower.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-merged-state.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-compitable.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/life-cycle/use-is-mounted.js");
/* harmony import */ var vdirs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vdirs */ "./node_modules/vdirs/es/clickoutside.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-config.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-locale.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-form-item.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/composable/use-adjusted-to.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/naive/warn.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/call.js");
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../_internal */ "./node_modules/naive-ui/es/_internal/selection/src/Selection.js");
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../_internal */ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.js");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../styles */ "./node_modules/naive-ui/es/select/styles/light.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./node_modules/naive-ui/es/select/src/utils.js");
/* harmony import */ var _styles_index_cssr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./styles/index.cssr */ "./node_modules/naive-ui/es/select/src/styles/index.cssr.js");












const selectProps = Object.assign(Object.assign({}, _mixins__WEBPACK_IMPORTED_MODULE_1__["default"].props), { to: _utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo.propTo, bordered: {
        type: Boolean,
        default: undefined
    }, clearable: Boolean, clearFilterAfterSelect: {
        type: Boolean,
        default: true
    }, options: {
        type: Array,
        default: () => []
    }, defaultValue: {
        type: [String, Number, Array],
        default: null
    }, value: [String, Number, Array], placeholder: String, menuProps: Object, multiple: Boolean, size: String, filterable: Boolean, disabled: {
        type: Boolean,
        default: undefined
    }, remote: Boolean, loading: Boolean, filter: {
        type: Function,
        default: _utils__WEBPACK_IMPORTED_MODULE_3__.defaultFilter
    }, placement: {
        type: String,
        default: 'bottom-start'
    }, widthMode: {
        type: String,
        default: 'trigger'
    }, tag: Boolean, onCreate: {
        type: Function,
        default: (label) => ({
            label: label,
            value: label
        })
    }, fallbackOption: {
        type: [Function, Boolean],
        default: () => (value) => ({
            label: String(value),
            value
        })
    }, show: {
        type: Boolean,
        default: undefined
    }, showArrow: {
        type: Boolean,
        default: true
    }, maxTagCount: [Number, String], consistentMenuWidth: {
        type: Boolean,
        default: true
    }, virtualScroll: {
        type: Boolean,
        default: true
    }, renderLabel: Function, renderOption: Function, renderTag: Function, 'onUpdate:value': [Function, Array], inputProps: Object, 
    // for jsx
    onUpdateValue: [Function, Array], onBlur: [Function, Array], onClear: [Function, Array], onFocus: [Function, Array], onScroll: [Function, Array], onSearch: [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:show': [Function, Array], displayDirective: {
        type: String,
        default: 'show'
    }, resetMenuOnOptionsChange: {
        type: Boolean,
        default: true
    }, 
    /** deprecated */
    onChange: [Function, Array], items: Array });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'Select',
    props: selectProps,
    setup(props) {
        if (true) {
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.watchEffect)(() => {
                if (props.items !== undefined) {
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.warnOnce)('select', '`items` is deprecated, please use `options` instead.');
                }
                if (props.onChange !== undefined) {
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.warnOnce)('select', '`on-change` is deprecated, please use `on-update:value` instead.');
                }
            });
        }
        const { mergedClsPrefixRef, mergedBorderedRef, namespaceRef, inlineThemeDisabled } = (0,_mixins__WEBPACK_IMPORTED_MODULE_5__["default"])(props);
        const themeRef = (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])('Select', '-select', _styles_index_cssr__WEBPACK_IMPORTED_MODULE_6__["default"], _styles__WEBPACK_IMPORTED_MODULE_7__["default"], props, mergedClsPrefixRef);
        const uncontrolledValueRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(props.defaultValue);
        const controlledValueRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'value');
        const mergedValueRef = (0,vooks__WEBPACK_IMPORTED_MODULE_8__["default"])(controlledValueRef, uncontrolledValueRef);
        const focusedRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
        const patternRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)('');
        const treeMateRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => (0,treemate__WEBPACK_IMPORTED_MODULE_9__.createTreeMate)(filteredOptionsRef.value, _utils__WEBPACK_IMPORTED_MODULE_3__.tmOptions));
        const valOptMapRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => (0,_utils__WEBPACK_IMPORTED_MODULE_3__.createValOptMap)(localOptionsRef.value));
        const uncontrolledShowRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
        const mergedShowRef = (0,vooks__WEBPACK_IMPORTED_MODULE_8__["default"])((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'show'), uncontrolledShowRef);
        const triggerRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const followerRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const menuRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const { localeRef } = (0,_mixins__WEBPACK_IMPORTED_MODULE_10__["default"])('Select');
        const localizedPlaceholderRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            var _a;
            return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;
        });
        const compitableOptionsRef = (0,vooks__WEBPACK_IMPORTED_MODULE_11__["default"])(props, ['items', 'options']);
        const createdOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)([]);
        const beingCreatedOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)([]);
        const memoValOptMapRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(new Map());
        const wrappedFallbackOptionRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { fallbackOption } = props;
            if (!fallbackOption)
                return false;
            return (value) => {
                return Object.assign(fallbackOption(value), {
                    value
                });
            };
        });
        const localOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);
        });
        const filteredOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            if (props.remote) {
                return compitableOptionsRef.value;
            }
            else {
                const { value: localOptions } = localOptionsRef;
                const { value: pattern } = patternRef;
                if (!pattern.length || !props.filterable) {
                    return localOptions;
                }
                else {
                    const { filter } = props;
                    return (0,_utils__WEBPACK_IMPORTED_MODULE_3__.filterOptions)(localOptions, filter, pattern);
                }
            }
        });
        function getMergedOptions(values) {
            const remote = props.remote;
            const { value: memoValOptMap } = memoValOptMapRef;
            const { value: valOptMap } = valOptMapRef;
            const { value: wrappedFallbackOption } = wrappedFallbackOptionRef;
            const options = [];
            values.forEach((value) => {
                if (valOptMap.has(value)) {
                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                    options.push(valOptMap.get(value));
                }
                else if (remote && memoValOptMap.has(value)) {
                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                    options.push(memoValOptMap.get(value));
                }
                else if (wrappedFallbackOption) {
                    const option = wrappedFallbackOption(value);
                    if (option) {
                        options.push(option);
                    }
                }
            });
            return options;
        }
        const selectedOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            if (props.multiple) {
                const { value: values } = mergedValueRef;
                if (!Array.isArray(values))
                    return [];
                return getMergedOptions(values);
            }
            return null;
        });
        const selectedOptionRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { value: mergedValue } = mergedValueRef;
            if (!props.multiple && !Array.isArray(mergedValue)) {
                if (mergedValue === null)
                    return null;
                return getMergedOptions([mergedValue])[0] || null;
            }
            return null;
        });
        const formItem = (0,_mixins__WEBPACK_IMPORTED_MODULE_12__["default"])(props);
        const { mergedSizeRef, mergedDisabledRef, mergedStatusRef } = formItem;
        function doUpdateValue(value, option) {
            const { onChange, 'onUpdate:value': _onUpdateValue, onUpdateValue } = props;
            const { nTriggerFormChange, nTriggerFormInput } = formItem;
            if (onChange)
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(onChange, value, option);
            if (onUpdateValue)
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(onUpdateValue, value, option);
            if (_onUpdateValue) {
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(_onUpdateValue, value, option);
            }
            uncontrolledValueRef.value = value;
            nTriggerFormChange();
            nTriggerFormInput();
        }
        function doBlur(e) {
            const { onBlur } = props;
            const { nTriggerFormBlur } = formItem;
            if (onBlur)
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(onBlur, e);
            nTriggerFormBlur();
        }
        function doClear() {
            const { onClear } = props;
            if (onClear)
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(onClear);
        }
        function doFocus(e) {
            const { onFocus } = props;
            const { nTriggerFormFocus } = formItem;
            if (onFocus)
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(onFocus, e);
            nTriggerFormFocus();
        }
        function doSearch(value) {
            const { onSearch } = props;
            if (onSearch)
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(onSearch, value);
        }
        function doScroll(e) {
            const { onScroll } = props;
            if (onScroll)
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(onScroll, e);
        }
        // remote related methods
        function updateMemorizedOptions() {
            var _a;
            const { remote, multiple } = props;
            if (remote) {
                const { value: memoValOptMap } = memoValOptMapRef;
                if (multiple) {
                    (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach((option) => {
                        memoValOptMap.set(option.value, option);
                    });
                }
                else {
                    const option = selectedOptionRef.value;
                    if (option) {
                        memoValOptMap.set(option.value, option);
                    }
                }
            }
        }
        // menu related methods
        function doUpdateShow(value) {
            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;
            if (onUpdateShow)
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(onUpdateShow, value);
            if (_onUpdateShow)
                (0,_utils__WEBPACK_IMPORTED_MODULE_13__.call)(_onUpdateShow, value);
            uncontrolledShowRef.value = value;
        }
        function openMenu() {
            if (!mergedDisabledRef.value) {
                doUpdateShow(true);
                uncontrolledShowRef.value = true;
                if (props.filterable) {
                    focusSelectionInput();
                }
            }
        }
        function closeMenu() {
            doUpdateShow(false);
        }
        function handleMenuAfterLeave() {
            patternRef.value = '';
            beingCreatedOptionsRef.value = [];
        }
        const activeWithoutMenuOpenRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
        function onTriggerInputFocus() {
            if (props.filterable) {
                activeWithoutMenuOpenRef.value = true;
            }
        }
        function onTriggerInputBlur() {
            if (props.filterable) {
                activeWithoutMenuOpenRef.value = false;
                if (!mergedShowRef.value) {
                    handleMenuAfterLeave();
                }
            }
        }
        function handleTriggerClick() {
            if (mergedDisabledRef.value)
                return;
            if (!mergedShowRef.value) {
                openMenu();
            }
            else {
                if (!props.filterable) {
                    // already focused, don't need to return focus
                    closeMenu();
                }
            }
        }
        function handleTriggerBlur(e) {
            var _a, _b;
            if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {
                return;
            }
            focusedRef.value = false;
            doBlur(e);
            // outside select, don't need to return focus
            closeMenu();
        }
        function handleTriggerFocus(e) {
            doFocus(e);
            focusedRef.value = true;
        }
        function handleMenuFocus(e) {
            focusedRef.value = true;
        }
        function handleMenuBlur(e) {
            var _a;
            if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))
                return;
            focusedRef.value = false;
            doBlur(e);
            // outside select, don't need to return focus
            closeMenu();
        }
        function handleMenuTabOut() {
            var _a;
            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();
            closeMenu();
        }
        function handleMenuClickOutside(e) {
            var _a;
            if (mergedShowRef.value) {
                if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.target))) {
                    // outside select, don't need to return focus
                    closeMenu();
                }
            }
        }
        function createClearedMultipleSelectValue(value) {
            if (!Array.isArray(value))
                return [];
            if (wrappedFallbackOptionRef.value) {
                // if option has a fallback, I can't help user to clear some unknown value
                return Array.from(value);
            }
            else {
                // if there's no option fallback, unappeared options are treated as invalid
                const { remote } = props;
                const { value: valOptMap } = valOptMapRef;
                if (remote) {
                    const { value: memoValOptMap } = memoValOptMapRef;
                    return value.filter((v) => valOptMap.has(v) || memoValOptMap.has(v));
                }
                else {
                    return value.filter((v) => valOptMap.has(v));
                }
            }
        }
        function handleToggleByTmNode(tmNode) {
            handleToggleByOption(tmNode.rawNode);
        }
        function handleToggleByOption(option) {
            if (mergedDisabledRef.value)
                return;
            const { tag, remote, clearFilterAfterSelect } = props;
            if (tag && !remote) {
                const { value: beingCreatedOptions } = beingCreatedOptionsRef;
                const beingCreatedOption = beingCreatedOptions[0] || null;
                if (beingCreatedOption) {
                    createdOptionsRef.value.push(beingCreatedOption);
                    beingCreatedOptionsRef.value = [];
                }
            }
            if (remote) {
                memoValOptMapRef.value.set(option.value, option);
            }
            if (props.multiple) {
                const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);
                const index = changedValue.findIndex((value) => value === option.value);
                if (~index) {
                    changedValue.splice(index, 1);
                    if (tag && !remote) {
                        const createdOptionIndex = getCreatedOptionIndex(option.value);
                        if (~createdOptionIndex) {
                            createdOptionsRef.value.splice(createdOptionIndex, 1);
                            if (clearFilterAfterSelect)
                                patternRef.value = '';
                        }
                    }
                }
                else {
                    changedValue.push(option.value);
                    if (clearFilterAfterSelect)
                        patternRef.value = '';
                }
                doUpdateValue(changedValue, getMergedOptions(changedValue));
            }
            else {
                if (tag && !remote) {
                    const createdOptionIndex = getCreatedOptionIndex(option.value);
                    if (~createdOptionIndex) {
                        createdOptionsRef.value = [
                            createdOptionsRef.value[createdOptionIndex]
                        ];
                    }
                    else {
                        createdOptionsRef.value = [];
                    }
                }
                focusSelection();
                closeMenu();
                doUpdateValue(option.value, option);
            }
        }
        function getCreatedOptionIndex(optionValue) {
            const createdOptions = createdOptionsRef.value;
            return createdOptions.findIndex((createdOption) => createdOption.value === optionValue);
        }
        function handlePatternInput(e) {
            if (!mergedShowRef.value) {
                openMenu();
            }
            const { value } = e.target;
            patternRef.value = value;
            const { tag, remote } = props;
            doSearch(value);
            if (tag && !remote) {
                if (!value) {
                    beingCreatedOptionsRef.value = [];
                    return;
                }
                const optionBeingCreated = props.onCreate(value);
                if (compitableOptionsRef.value.some((option) => option.value === optionBeingCreated.value) ||
                    createdOptionsRef.value.some((option) => option.value === optionBeingCreated.value)) {
                    beingCreatedOptionsRef.value = [];
                }
                else {
                    beingCreatedOptionsRef.value = [optionBeingCreated];
                }
            }
        }
        function handleClear(e) {
            e.stopPropagation();
            const { multiple } = props;
            if (!multiple && props.filterable) {
                closeMenu();
            }
            doClear();
            if (multiple) {
                doUpdateValue([], []);
            }
            else {
                doUpdateValue(null, null);
            }
        }
        function handleMenuMousedown(e) {
            if (!(0,seemly__WEBPACK_IMPORTED_MODULE_14__.happensIn)(e, 'action'))
                e.preventDefault();
        }
        // scroll events on menu
        function handleMenuScroll(e) {
            doScroll(e);
        }
        // keyboard events
        // also for menu keydown
        function handleKeydown(e) {
            var _a, _b, _c, _d, _e;
            switch (e.code) {
                case 'Space':
                    if (props.filterable)
                        break;
                    else {
                        e.preventDefault();
                    }
                // eslint-disable-next-line no-fallthrough
                case 'Enter':
                case 'NumpadEnter':
                    if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isCompositing)) {
                        if (mergedShowRef.value) {
                            const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();
                            if (pendingTmNode) {
                                handleToggleByTmNode(pendingTmNode);
                            }
                            else if (!props.filterable) {
                                closeMenu();
                                focusSelection();
                            }
                        }
                        else {
                            openMenu();
                            if (props.tag && activeWithoutMenuOpenRef.value) {
                                const beingCreatedOption = beingCreatedOptionsRef.value[0];
                                if (beingCreatedOption) {
                                    const optionValue = beingCreatedOption.value;
                                    const { value: mergedValue } = mergedValueRef;
                                    if (props.multiple) {
                                        if (Array.isArray(mergedValue) &&
                                            mergedValue.some((value) => value === optionValue)) {
                                            // do nothing
                                        }
                                        else {
                                            handleToggleByOption(beingCreatedOption);
                                        }
                                    }
                                    else {
                                        handleToggleByOption(beingCreatedOption);
                                    }
                                }
                            }
                        }
                    }
                    e.preventDefault();
                    break;
                case 'ArrowUp':
                    e.preventDefault();
                    if (props.loading)
                        return;
                    if (mergedShowRef.value) {
                        (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();
                    }
                    break;
                case 'ArrowDown':
                    e.preventDefault();
                    if (props.loading)
                        return;
                    if (mergedShowRef.value) {
                        (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();
                    }
                    else {
                        openMenu();
                    }
                    break;
                case 'Escape':
                    closeMenu();
                    (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();
                    break;
            }
        }
        function focusSelection() {
            var _a;
            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();
        }
        function focusSelectionInput() {
            var _a;
            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();
        }
        function syncPosition() {
            var _a;
            (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();
        }
        updateMemorizedOptions();
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'options'), updateMemorizedOptions);
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(filteredOptionsRef, () => {
            if (!mergedShowRef.value)
                return;
            void (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(syncPosition);
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(mergedValueRef, () => {
            if (!mergedShowRef.value)
                return;
            void (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(syncPosition);
        });
        const exposedMethods = {
            focus: () => {
                var _a;
                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();
            },
            blur: () => {
                var _a;
                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();
            }
        };
        return Object.assign(Object.assign({}, exposedMethods), { mergedStatus: mergedStatusRef, mergedClsPrefix: mergedClsPrefixRef, mergedBordered: mergedBorderedRef, namespace: namespaceRef, treeMate: treeMateRef, isMounted: (0,vooks__WEBPACK_IMPORTED_MODULE_15__["default"])(), triggerRef,
            menuRef, pattern: patternRef, uncontrolledShow: uncontrolledShowRef, mergedShow: mergedShowRef, adjustedTo: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo)(props), uncontrolledValue: uncontrolledValueRef, mergedValue: mergedValueRef, followerRef, localizedPlaceholder: localizedPlaceholderRef, selectedOption: selectedOptionRef, selectedOptions: selectedOptionsRef, mergedSize: mergedSizeRef, mergedDisabled: mergedDisabledRef, focused: focusedRef, activeWithoutMenuOpen: activeWithoutMenuOpenRef, inlineThemeDisabled,
            onTriggerInputFocus,
            onTriggerInputBlur,
            handleMenuFocus,
            handleMenuBlur,
            handleMenuTabOut,
            handleTriggerClick, handleToggle: handleToggleByTmNode, handleDeleteOption: handleToggleByOption, handlePatternInput,
            handleClear,
            handleTriggerBlur,
            handleTriggerFocus,
            handleKeydown,
            syncPosition,
            handleMenuAfterLeave,
            handleMenuClickOutside,
            handleMenuScroll, handleMenuKeydown: handleKeydown, handleMenuMousedown, mergedTheme: themeRef, cssVars: (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                const { self: { menuBoxShadow } } = themeRef.value;
                return {
                    '--n-menu-box-shadow': menuBoxShadow
                };
            }) });
    },
    render() {
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${this.mergedClsPrefix}-select` },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_16__["default"], null, {
                default: () => [
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_17__["default"], null, {
                        default: () => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal__WEBPACK_IMPORTED_MODULE_18__["default"], { ref: "triggerRef", inlineThemeDisabled: this.inlineThemeDisabled, status: this.mergedStatus, inputProps: this.inputProps, clsPrefix: this.mergedClsPrefix, showArrow: this.showArrow, maxTagCount: this.maxTagCount, bordered: this.mergedBordered, active: this.activeWithoutMenuOpen || this.mergedShow, pattern: this.pattern, placeholder: this.localizedPlaceholder, selectedOption: this.selectedOption, selectedOptions: this.selectedOptions, multiple: this.multiple, renderTag: this.renderTag, renderLabel: this.renderLabel, filterable: this.filterable, clearable: this.clearable, disabled: this.mergedDisabled, size: this.mergedSize, theme: this.mergedTheme.peers.InternalSelection, themeOverrides: this.mergedTheme.peerOverrides.InternalSelection, loading: this.loading, focused: this.focused, onClick: this.handleTriggerClick, onDeleteOption: this.handleDeleteOption, onPatternInput: this.handlePatternInput, onClear: this.handleClear, onBlur: this.handleTriggerBlur, onFocus: this.handleTriggerFocus, onKeydown: this.handleKeydown, onPatternBlur: this.onTriggerInputBlur, onPatternFocus: this.onTriggerInputFocus }, {
                            arrow: () => { var _a, _b; return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)]; }
                        }))
                    }),
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_19__["default"], { ref: "followerRef", show: this.mergedShow, to: this.adjustedTo, teleportDisabled: this.adjustedTo === _utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo.tdkey, containerClass: this.namespace, width: this.consistentMenuWidth ? 'target' : undefined, minWidth: "target", placement: this.placement }, {
                        default: () => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Transition, { name: "fade-in-scale-up-transition", appear: this.isMounted, onAfterLeave: this.handleMenuAfterLeave }, {
                            default: () => {
                                var _a, _b;
                                return (this.mergedShow ||
                                    this.displayDirective === 'show') &&
                                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal__WEBPACK_IMPORTED_MODULE_20__["default"], Object.assign({}, this.menuProps, { ref: "menuRef", inlineThemeDisabled: this.inlineThemeDisabled, virtualScroll: this.consistentMenuWidth && this.virtualScroll, class: [
                                            `${this.mergedClsPrefix}-select-menu`,
                                            (_a = this.menuProps) === null || _a === void 0 ? void 0 : _a.class
                                        ], clsPrefix: this.mergedClsPrefix, focusable: true, autoPending: true, theme: this.mergedTheme.peers.InternalSelectMenu, themeOverrides: this.mergedTheme.peerOverrides
                                            .InternalSelectMenu, treeMate: this.treeMate, multiple: this.multiple, size: 'medium', renderOption: this.renderOption, renderLabel: this.renderLabel, value: this.mergedValue, style: [(_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.style, this.cssVars], onToggle: this.handleToggle, onScroll: this.handleMenuScroll, onFocus: this.handleMenuFocus, onBlur: this.handleMenuBlur, onKeydown: this.handleMenuKeydown, onTabOut: this.handleMenuTabOut, onMousedown: this.handleMenuMousedown, show: this.mergedShow, resetMenuOnOptionsChange: this.resetMenuOnOptionsChange }), {
                                        empty: () => { var _a, _b; return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)]; },
                                        action: () => { var _a, _b; return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)]; }
                                    }), this.displayDirective === 'show'
                                        ? [
                                            [vue__WEBPACK_IMPORTED_MODULE_0__.vShow, this.mergedShow],
                                            [vdirs__WEBPACK_IMPORTED_MODULE_21__["default"], this.handleMenuClickOutside]
                                        ]
                                        : [[vdirs__WEBPACK_IMPORTED_MODULE_21__["default"], this.handleMenuClickOutside]]);
                            }
                        }))
                    })
                ]
            })));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/select/src/styles/index.cssr.js":
/*!******************************************************************!*\
  !*** ./node_modules/naive-ui/es/select/src/styles/index.cssr.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");
/* harmony import */ var _styles_transitions_fade_in_scale_up_cssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_styles/transitions/fade-in-scale-up.cssr */ "./node_modules/naive-ui/es/_styles/transitions/fade-in-scale-up.cssr.js");

 // --n-menu-box-shadow

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)([(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('select', `
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('select-menu', `
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `, [(0,_styles_transitions_fade_in_scale_up_cssr__WEBPACK_IMPORTED_MODULE_1__["default"])()])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/select/src/utils.js":
/*!******************************************************!*\
  !*** ./node_modules/naive-ui/es/select/src/utils.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getKey": () => (/* binding */ getKey),
/* harmony export */   "getIsGroup": () => (/* binding */ getIsGroup),
/* harmony export */   "getIgnored": () => (/* binding */ getIgnored),
/* harmony export */   "tmOptions": () => (/* binding */ tmOptions),
/* harmony export */   "patternMatched": () => (/* binding */ patternMatched),
/* harmony export */   "filterOptions": () => (/* binding */ filterOptions),
/* harmony export */   "createValOptMap": () => (/* binding */ createValOptMap),
/* harmony export */   "defaultFilter": () => (/* binding */ defaultFilter)
/* harmony export */ });
function getKey(option) {
    if (getIsGroup(option)) {
        return (option.name ||
            option.key ||
            'key-required');
    }
    return option.value;
}
function getIsGroup(option) {
    return option.type === 'group';
}
function getIgnored(option) {
    return option.type === 'ignored';
}
const tmOptions = {
    getKey,
    getIsGroup,
    getIgnored
};
function patternMatched(pattern, value) {
    try {
        return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));
    }
    catch (err) {
        return false;
    }
}
function filterOptions(originalOpts, filter, pattern) {
    if (!filter)
        return originalOpts;
    function traverse(options) {
        if (!Array.isArray(options))
            return [];
        const filteredOptions = [];
        for (const option of options) {
            if (getIsGroup(option)) {
                const children = traverse(option.children);
                if (children.length) {
                    filteredOptions.push(Object.assign({}, option, {
                        children
                    }));
                }
            }
            else if (getIgnored(option)) {
                continue;
            }
            else if (filter(pattern, option)) {
                filteredOptions.push(option);
            }
        }
        return filteredOptions;
    }
    return traverse(originalOpts);
}
function createValOptMap(options) {
    const valOptMap = new Map();
    options.forEach((option) => {
        if (getIsGroup(option)) {
            ;
            option.children.forEach((SelectGroupOption) => {
                valOptMap.set(SelectGroupOption.value, SelectGroupOption);
            });
        }
        else {
            valOptMap.set(option.value, option);
        }
    });
    return valOptMap;
}
function defaultFilter(pattern, option) {
    if (!option)
        return false;
    if (typeof option.label === 'string') {
        return patternMatched(pattern, option.label);
    }
    else if (option.value !== undefined) {
        return patternMatched(pattern, String(option.value));
    }
    return false;
}


/***/ }),

/***/ "./node_modules/naive-ui/es/select/styles/light.js":
/*!*********************************************************!*\
  !*** ./node_modules/naive-ui/es/select/styles/light.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "self": () => (/* binding */ self),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _internal_selection_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_internal/selection/styles */ "./node_modules/naive-ui/es/_internal/selection/styles/light.js");
/* harmony import */ var _internal_select_menu_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_internal/select-menu/styles */ "./node_modules/naive-ui/es/_internal/select-menu/styles/light.js");
/* harmony import */ var _styles_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_styles/common */ "./node_modules/naive-ui/es/_styles/common/light.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");




function self(vars) {
    const { boxShadow2 } = vars;
    return {
        menuBoxShadow: boxShadow2
    };
}
const selectLight = (0,_mixins__WEBPACK_IMPORTED_MODULE_0__.createTheme)({
    name: 'Select',
    common: _styles_common__WEBPACK_IMPORTED_MODULE_1__["default"],
    peers: {
        InternalSelection: _internal_selection_styles__WEBPACK_IMPORTED_MODULE_2__["default"],
        InternalSelectMenu: _internal_select_menu_styles__WEBPACK_IMPORTED_MODULE_3__["default"]
    },
    self
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (selectLight);


/***/ }),

/***/ "./node_modules/naive-ui/es/tag/src/Tag.js":
/*!*************************************************!*\
  !*** ./node_modules/naive-ui/es/tag/src/Tag.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "tagInjectionKey": () => (/* binding */ tagInjectionKey),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-config.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.js");
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../_internal */ "./node_modules/naive-ui/es/_internal/close/src/Close.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/naive/warn.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/create-injection-key.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/call.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/cssr/create-key.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/css/color-to-class.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/resolve-slot.js");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../styles */ "./node_modules/naive-ui/es/tag/styles/light.js");
/* harmony import */ var _common_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common-props */ "./node_modules/naive-ui/es/tag/src/common-props.js");
/* harmony import */ var _styles_index_cssr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./styles/index.cssr */ "./node_modules/naive-ui/es/tag/src/styles/index.cssr.js");
/* harmony import */ var _mixins_use_rtl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_mixins/use-rtl */ "./node_modules/naive-ui/es/_mixins/use-rtl.js");








const tagProps = Object.assign(Object.assign(Object.assign({}, _mixins__WEBPACK_IMPORTED_MODULE_1__["default"].props), _common_props__WEBPACK_IMPORTED_MODULE_2__["default"]), { bordered: {
        type: Boolean,
        default: undefined
    }, checked: Boolean, checkable: Boolean, onClose: [Array, Function], onMouseenter: Function, onMouseleave: Function, 'onUpdate:checked': Function, onUpdateChecked: Function, 
    // private
    internalStopClickPropagation: Boolean, 
    // deprecated
    onCheckedChange: {
        type: Function,
        validator: () => {
            if (true) {
                (0,_utils__WEBPACK_IMPORTED_MODULE_3__.warn)('tag', '`on-checked-change` is deprecated, please use `on-update:checked` instead');
            }
            return true;
        },
        default: undefined
    } });
const tagInjectionKey = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.createInjectionKey)('n-tag');
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'Tag',
    props: tagProps,
    setup(props) {
        const contentRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const { mergedBorderedRef, mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = (0,_mixins__WEBPACK_IMPORTED_MODULE_5__["default"])(props);
        const themeRef = (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])('Tag', '-tag', _styles_index_cssr__WEBPACK_IMPORTED_MODULE_6__["default"], _styles__WEBPACK_IMPORTED_MODULE_7__["default"], props, mergedClsPrefixRef);
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(tagInjectionKey, {
            roundRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'round')
        });
        function handleClick(e) {
            if (!props.disabled) {
                if (props.checkable) {
                    const { checked, onCheckedChange, onUpdateChecked, 'onUpdate:checked': _onUpdateChecked } = props;
                    if (onUpdateChecked)
                        onUpdateChecked(!checked);
                    if (_onUpdateChecked)
                        _onUpdateChecked(!checked);
                    // deprecated
                    if (onCheckedChange)
                        onCheckedChange(!checked);
                }
            }
        }
        function handleCloseClick(e) {
            if (props.internalStopClickPropagation) {
                e.stopPropagation();
            }
            if (!props.disabled) {
                const { onClose } = props;
                if (onClose)
                    (0,_utils__WEBPACK_IMPORTED_MODULE_8__.call)(onClose, e);
            }
        }
        const tagPublicMethods = {
            setTextContent(textContent) {
                const { value } = contentRef;
                if (value)
                    value.textContent = textContent;
            }
        };
        const rtlEnabledRef = (0,_mixins_use_rtl__WEBPACK_IMPORTED_MODULE_9__["default"])('Tag', mergedRtlRef, mergedClsPrefixRef);
        const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { type, size, color: { color, textColor } = {} } = props;
            const { common: { cubicBezierEaseInOut }, self: { padding, closeMargin, closeMarginRtl, borderRadius, opacityDisabled, textColorCheckable, textColorHoverCheckable, textColorPressedCheckable, textColorChecked, colorCheckable, colorHoverCheckable, colorPressedCheckable, colorChecked, colorCheckedHover, colorCheckedPressed, [(0,_utils__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeSize', size)]: closeSize, [(0,_utils__WEBPACK_IMPORTED_MODULE_10__.createKey)('fontSize', size)]: fontSize, [(0,_utils__WEBPACK_IMPORTED_MODULE_10__.createKey)('height', size)]: height, [(0,_utils__WEBPACK_IMPORTED_MODULE_10__.createKey)('color', type)]: typedColor, [(0,_utils__WEBPACK_IMPORTED_MODULE_10__.createKey)('textColor', type)]: typeTextColor, [(0,_utils__WEBPACK_IMPORTED_MODULE_10__.createKey)('border', type)]: border, [(0,_utils__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeColor', type)]: closeColor, [(0,_utils__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeColorHover', type)]: closeColorHover, [(0,_utils__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeColorPressed', type)]: closeColorPressed } } = themeRef.value;
            return {
                '--n-avatar-size-override': `calc(${height} - 8px)`,
                '--n-bezier': cubicBezierEaseInOut,
                '--n-border-radius': borderRadius,
                '--n-border': border,
                '--n-close-color': closeColor,
                '--n-close-color-hover': closeColorHover,
                '--n-close-color-pressed': closeColorPressed,
                '--n-close-color-disabled': closeColor,
                '--n-close-margin': closeMargin,
                '--n-close-margin-rtl': closeMarginRtl,
                '--n-close-size': closeSize,
                '--n-color': color || typedColor,
                '--n-color-checkable': colorCheckable,
                '--n-color-checked': colorChecked,
                '--n-color-checked-hover': colorCheckedHover,
                '--n-color-checked-pressed': colorCheckedPressed,
                '--n-color-hover-checkable': colorHoverCheckable,
                '--n-color-pressed-checkable': colorPressedCheckable,
                '--n-font-size': fontSize,
                '--n-height': height,
                '--n-opacity-disabled': opacityDisabled,
                '--n-padding': padding,
                '--n-text-color': textColor || typeTextColor,
                '--n-text-color-checkable': textColorCheckable,
                '--n-text-color-checked': textColorChecked,
                '--n-text-color-hover-checkable': textColorHoverCheckable,
                '--n-text-color-pressed-checkable': textColorPressedCheckable
            };
        });
        const themeClassHandle = inlineThemeDisabled
            ? (0,_mixins__WEBPACK_IMPORTED_MODULE_11__.useThemeClass)('tag', (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                let hash = '';
                const { type, size, color: { color, textColor } = {} } = props;
                hash += type[0];
                hash += size[0];
                if (color) {
                    hash += `a${(0,_utils__WEBPACK_IMPORTED_MODULE_12__.color2Class)(color)}`;
                }
                if (textColor) {
                    hash += `b${(0,_utils__WEBPACK_IMPORTED_MODULE_12__.color2Class)(textColor)}`;
                }
                return hash;
            }), cssVarsRef, props)
            : undefined;
        return Object.assign(Object.assign({}, tagPublicMethods), { rtlEnabled: rtlEnabledRef, mergedClsPrefix: mergedClsPrefixRef, contentRef, mergedBordered: mergedBorderedRef, handleClick,
            handleCloseClick, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });
    },
    render() {
        var _a, _b;
        const { mergedClsPrefix, rtlEnabled, color: { borderColor } = {}, onRender, $slots } = this;
        onRender === null || onRender === void 0 ? void 0 : onRender();
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: [
                `${mergedClsPrefix}-tag`,
                this.themeClass,
                {
                    [`${mergedClsPrefix}-tag--rtl`]: rtlEnabled,
                    [`${mergedClsPrefix}-tag--disabled`]: this.disabled,
                    [`${mergedClsPrefix}-tag--checkable`]: this.checkable,
                    [`${mergedClsPrefix}-tag--checked`]: this.checkable && this.checked,
                    [`${mergedClsPrefix}-tag--round`]: this.round
                }
            ], style: this.cssVars, onClick: this.handleClick, onMouseenter: this.onMouseenter, onMouseleave: this.onMouseleave },
            (0,_utils__WEBPACK_IMPORTED_MODULE_13__.resolveWrappedSlot)($slots.avatar, (children) => children && ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-tag__avatar` }, children))),
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: `${mergedClsPrefix}-tag__content`, ref: "contentRef" }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a)),
            !this.checkable && this.closable ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal__WEBPACK_IMPORTED_MODULE_14__["default"], { clsPrefix: mergedClsPrefix, class: `${mergedClsPrefix}-tag__close`, disabled: this.disabled, onClick: this.handleCloseClick })) : null,
            !this.checkable && this.mergedBordered ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-tag__border`, style: { borderColor } })) : null));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/tag/src/common-props.js":
/*!**********************************************************!*\
  !*** ./node_modules/naive-ui/es/tag/src/common-props.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    color: Object,
    type: {
        type: String,
        default: 'default'
    },
    round: Boolean,
    size: {
        type: String,
        default: 'medium'
    },
    closable: Boolean,
    disabled: {
        type: Boolean,
        default: undefined
    }
});


/***/ }),

/***/ "./node_modules/naive-ui/es/tag/src/styles/index.cssr.js":
/*!***************************************************************!*\
  !*** ./node_modules/naive-ui/es/tag/src/styles/index.cssr.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");
 // vars:
// --n-bezier
// --n-border-radius
// --n-border
// --n-close-color
// --n-close-color-hover
// --n-close-color-pressed
// --n-close-margin
// --n-close-size
// --n-color
// --n-color-checkable
// --n-color-checked
// --n-color-checked-hover
// --n-color-checked-pressed
// --n-color-hover-checkable
// --n-color-pressed-checkable
// --n-font-size
// --n-height
// --n-opacity-disabled
// --n-padding
// --n-text-color
// --n-text-color-checkable
// --n-text-color-checked
// --n-text-color-hover-checkable
// --n-text-color-pressed-checkable

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('tag', `
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('border', `
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('avatar', `
 display: flex;
 margin-right: 6px;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('close', `
 font-size: var(--n-close-size);
 margin: var(--n-close-margin);
 transition: color .3s var(--n-bezier);
 cursor: pointer;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('round', `
 padding: 0 calc(var(--n-height) / 2);
 border-radius: calc(var(--n-height) / 2);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('avatar', `
 margin-left: calc((var(--n-height) - 8px) / -2);
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('disabled', `
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('checkable', `
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('disabled', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', 'background-color: var(--n-color-hover-checkable);', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('checked', 'color: var(--n-text-color-hover-checkable);')]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', 'background-color: var(--n-color-pressed-checkable);', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('checked', 'color: var(--n-text-color-pressed-checkable);')])]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('checked', `
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cNotM)('disabled', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', 'background-color: var(--n-color-checked-hover);'), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', 'background-color: var(--n-color-checked-pressed);')])])])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/tag/styles/_common.js":
/*!********************************************************!*\
  !*** ./node_modules/naive-ui/es/tag/styles/_common.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    closeSizeSmall: '14px',
    closeSizeMedium: '14px',
    closeSizeLarge: '14px',
    // closeSize
    padding: '0 7px',
    closeMargin: '0 0 0 3px',
    closeMarginRtl: '0 3px 0 0'
});


/***/ }),

/***/ "./node_modules/naive-ui/es/tag/styles/light.js":
/*!******************************************************!*\
  !*** ./node_modules/naive-ui/es/tag/styles/light.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_common */ "./node_modules/naive-ui/es/tag/styles/_common.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/index.js");
/* harmony import */ var _styles_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_styles/common */ "./node_modules/naive-ui/es/_styles/common/light.js");



const self = (vars) => {
    const { textColor2, primaryColorHover, primaryColorPressed, primaryColor, infoColor, successColor, warningColor, errorColor, baseColor, borderColor, opacityDisabled, tagColor, closeColor, closeColorHover, closeColorPressed, borderRadiusSmall: borderRadius, fontSizeTiny, fontSizeSmall, fontSizeMedium, heightTiny, heightSmall, heightMedium } = vars;
    return Object.assign(Object.assign({}, _common__WEBPACK_IMPORTED_MODULE_0__["default"]), { heightSmall: heightTiny, heightMedium: heightSmall, heightLarge: heightMedium, borderRadius,
        opacityDisabled, fontSizeSmall: fontSizeTiny, fontSizeMedium: fontSizeSmall, fontSizeLarge: fontSizeMedium, 
        // checked
        textColorCheckable: textColor2, textColorHoverCheckable: primaryColorHover, textColorPressedCheckable: primaryColorPressed, textColorChecked: baseColor, colorCheckable: '#0000', colorHoverCheckable: '#0000', colorPressedCheckable: '#0000', colorChecked: primaryColor, colorCheckedHover: primaryColorHover, colorCheckedPressed: primaryColorPressed, 
        // default
        border: `1px solid ${borderColor}`, textColor: textColor2, color: tagColor, closeColor: closeColor, closeColorHover: closeColorHover, closeColorPressed: closeColorPressed, borderPrimary: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, { alpha: 0.3 })}`, textColorPrimary: primaryColor, colorPrimary: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, { alpha: 0.1 }), closeColorPrimary: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, { alpha: 0.75 }), closeColorHoverPrimary: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, { alpha: 0.6 }), closeColorPressedPrimary: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, { alpha: 0.9 }), borderInfo: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, { alpha: 0.3 })}`, textColorInfo: infoColor, colorInfo: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, { alpha: 0.1 }), closeColorInfo: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, { alpha: 0.75 }), closeColorHoverInfo: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, { alpha: 0.6 }), closeColorPressedInfo: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, { alpha: 0.9 }), borderSuccess: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, { alpha: 0.3 })}`, textColorSuccess: successColor, colorSuccess: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, { alpha: 0.1 }), closeColorSuccess: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, { alpha: 0.75 }), closeColorHoverSuccess: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, { alpha: 0.6 }), closeColorPressedSuccess: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, { alpha: 0.9 }), borderWarning: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, { alpha: 0.35 })}`, textColorWarning: warningColor, colorWarning: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, { alpha: 0.12 }), closeColorWarning: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, { alpha: 0.75 }), closeColorHoverWarning: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, { alpha: 0.6 }), closeColorPressedWarning: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, { alpha: 0.9 }), borderError: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, { alpha: 0.23 })}`, textColorError: errorColor, colorError: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, { alpha: 0.08 }), closeColorError: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, { alpha: 0.65 }), closeColorHoverError: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, { alpha: 0.5 }), closeColorPressedError: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, { alpha: 0.8 }) });
};
const tagLight = {
    name: 'Tag',
    common: _styles_common__WEBPACK_IMPORTED_MODULE_2__["default"],
    self
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (tagLight);


/***/ }),

/***/ "./node_modules/seemly/es/misc/index.js":
/*!**********************************************!*\
  !*** ./node_modules/seemly/es/misc/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createId": () => (/* binding */ createId),
/* harmony export */   "repeat": () => (/* binding */ repeat),
/* harmony export */   "indexMap": () => (/* binding */ indexMap),
/* harmony export */   "sleep": () => (/* binding */ sleep)
/* harmony export */ });
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
function createId(length = 8) {
    return Math.random()
        .toString(16)
        .slice(2, 2 + length);
}
function repeat(count, v) {
    const ret = [];
    for (let i = 0; i < count; ++i) {
        ret.push(v);
    }
    return ret;
}
function indexMap(count, createValue) {
    const ret = [];
    if (!createValue) {
        for (let i = 0; i < count; ++i) {
            ret.push(i);
        }
        return ret;
    }
    for (let i = 0; i < count; ++i) {
        ret.push(createValue(i));
    }
    return ret;
}

function sleep(ms) {
    return __awaiter(this, void 0, void 0, function* () {
        return new Promise(resolve => {
            setTimeout(resolve, ms);
        });
    });
}


/***/ }),

/***/ "./node_modules/treemate/es/check.js":
/*!*******************************************!*\
  !*** ./node_modules/treemate/es/check.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SubtreeNotLoadedError": () => (/* binding */ SubtreeNotLoadedError),
/* harmony export */   "getCheckedKeys": () => (/* binding */ getCheckedKeys),
/* harmony export */   "getExtendedCheckedKeySet": () => (/* binding */ getExtendedCheckedKeySet)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/treemate/es/utils.js");

class SubtreeNotLoadedError extends Error {
    constructor() {
        super();
        this.message =
            'SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded.';
    }
}
function getExtendedCheckedKeySetAfterCheck(checkKeys, currentCheckedKeys, treeMate) {
    return getExtendedCheckedKeySet(currentCheckedKeys.concat(checkKeys), treeMate);
}
function getAvailableAscendantNodeSet(uncheckedKeys, treeMate) {
    const visitedKeys = new Set();
    uncheckedKeys.forEach((uncheckedKey) => {
        const uncheckedTreeNode = treeMate.treeNodeMap.get(uncheckedKey);
        if (uncheckedTreeNode !== undefined) {
            let nodeCursor = uncheckedTreeNode.parent;
            while (nodeCursor !== null) {
                if (nodeCursor.disabled)
                    break;
                if (visitedKeys.has(nodeCursor.key))
                    break;
                else {
                    visitedKeys.add(nodeCursor.key);
                }
                nodeCursor = nodeCursor.parent;
            }
        }
    });
    return visitedKeys;
}
function getExtendedCheckedKeySetAfterUncheck(uncheckedKeys, currentCheckedKeys, treeMate) {
    const extendedCheckedKeySet = getExtendedCheckedKeySet(currentCheckedKeys, treeMate);
    const extendedKeySetToUncheck = getExtendedCheckedKeySet(uncheckedKeys, treeMate, true);
    const ascendantKeySet = getAvailableAscendantNodeSet(uncheckedKeys, treeMate);
    const keysToRemove = [];
    extendedCheckedKeySet.forEach((key) => {
        if (extendedKeySetToUncheck.has(key) || ascendantKeySet.has(key)) {
            keysToRemove.push(key);
        }
    });
    keysToRemove.forEach((key) => extendedCheckedKeySet.delete(key));
    return extendedCheckedKeySet;
}
function getCheckedKeys(options, treeMate) {
    const { checkedKeys, keysToCheck, keysToUncheck, indeterminateKeys, cascade, leafOnly, checkStrategy } = options;
    if (!cascade) {
        if (keysToCheck !== undefined) {
            return {
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.merge)(checkedKeys, keysToCheck),
                indeterminateKeys: Array.from(indeterminateKeys)
            };
        }
        else if (keysToUncheck !== undefined) {
            return {
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.minus)(checkedKeys, keysToUncheck),
                indeterminateKeys: Array.from(indeterminateKeys)
            };
        }
        else {
            return {
                checkedKeys: Array.from(checkedKeys),
                indeterminateKeys: Array.from(indeterminateKeys)
            };
        }
    }
    const { levelTreeNodeMap } = treeMate;
    let extendedCheckedKeySet;
    if (keysToUncheck !== undefined) {
        extendedCheckedKeySet = getExtendedCheckedKeySetAfterUncheck(keysToUncheck, checkedKeys, treeMate);
    }
    else if (keysToCheck !== undefined) {
        extendedCheckedKeySet = getExtendedCheckedKeySetAfterCheck(keysToCheck, checkedKeys, treeMate);
    }
    else {
        extendedCheckedKeySet = getExtendedCheckedKeySet(checkedKeys, treeMate);
    }
    const checkStrategyIsParent = checkStrategy === 'parent';
    const checkStrategyIsChild = checkStrategy === 'child' || leafOnly;
    const syntheticCheckedKeySet = extendedCheckedKeySet;
    const syntheticIndeterminateKeySet = new Set();
    const maxLevel = Math.max.apply(null, Array.from(levelTreeNodeMap.keys()));
    // cascade check
    // 1. if tree is fully loaded, it just works
    // 2. if the tree is not fully loaded, we assume that keys which is in not
    //    loaded tree are not in checked keys
    //    for example:
    //    a -- b(fully-loaded)   -- c(fully-loaded)
    //      |- d(partial-loaded) -- ?e(not-loaded)
    //    in the case, `e` is assumed not to be checked, nor we can't calc `d`'s
    //    and `a`'s status
    for (let level = maxLevel; level >= 0; level -= 1) {
        const levelIsZero = level === 0;
        // it should exists, nor it is a bug
        const levelTreeNodes = levelTreeNodeMap.get(level);
        for (const levelTreeNode of levelTreeNodes) {
            if (levelTreeNode.isLeaf)
                continue;
            const { key: levelTreeNodeKey, shallowLoaded } = levelTreeNode;
            if (checkStrategyIsChild && shallowLoaded) {
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                levelTreeNode.children.forEach((v) => {
                    if (!v.disabled &&
                        !v.isLeaf &&
                        v.shallowLoaded &&
                        syntheticCheckedKeySet.has(v.key)) {
                        syntheticCheckedKeySet.delete(v.key);
                    }
                });
            }
            if (levelTreeNode.disabled || !shallowLoaded) {
                continue;
            }
            let fullyChecked = true;
            let partialChecked = false;
            let allDisabled = true;
            // it is shallow loaded, so `children` must exist
            for (const childNode of levelTreeNode.children) {
                const childKey = childNode.key;
                if (childNode.disabled)
                    continue;
                if (allDisabled)
                    allDisabled = false;
                if (syntheticCheckedKeySet.has(childKey)) {
                    partialChecked = true;
                }
                else if (syntheticIndeterminateKeySet.has(childKey)) {
                    partialChecked = true;
                    fullyChecked = false;
                    break;
                }
                else {
                    fullyChecked = false;
                    if (partialChecked) {
                        break;
                    }
                }
            }
            if (fullyChecked && !allDisabled) {
                if (checkStrategyIsParent) {
                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                    levelTreeNode.children.forEach((v) => {
                        if (!v.disabled && syntheticCheckedKeySet.has(v.key)) {
                            syntheticCheckedKeySet.delete(v.key);
                        }
                    });
                }
                syntheticCheckedKeySet.add(levelTreeNodeKey);
            }
            else if (partialChecked) {
                syntheticIndeterminateKeySet.add(levelTreeNodeKey);
            }
            if (levelIsZero &&
                checkStrategyIsChild &&
                syntheticCheckedKeySet.has(levelTreeNodeKey)) {
                syntheticCheckedKeySet.delete(levelTreeNodeKey);
            }
        }
    }
    return {
        checkedKeys: Array.from(syntheticCheckedKeySet),
        indeterminateKeys: Array.from(syntheticIndeterminateKeySet)
    };
}
// unchecking is safe when doing cascade uncheck in async mode
function getExtendedCheckedKeySet(checkedKeys, treeMate, isUnchecking = false) {
    const { treeNodeMap, getChildren } = treeMate;
    const visitedKeySet = new Set();
    const extendedKeySet = new Set(checkedKeys);
    checkedKeys.forEach((checkedKey) => {
        const checkedTreeNode = treeNodeMap.get(checkedKey);
        if (checkedTreeNode !== undefined) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.traverseWithCb)(checkedTreeNode, (treeNode) => {
                if (treeNode.disabled) {
                    return _utils__WEBPACK_IMPORTED_MODULE_0__.TRAVERSE_COMMAND.STOP;
                }
                const { key } = treeNode;
                if (visitedKeySet.has(key))
                    return;
                visitedKeySet.add(key);
                // Adding keys before loaded check is okay, since if not valid error
                // would be thrown
                extendedKeySet.add(key);
                if ((0,_utils__WEBPACK_IMPORTED_MODULE_0__.isExpilicitlyNotLoaded)(treeNode.rawNode, getChildren)) {
                    if (isUnchecking) {
                        return _utils__WEBPACK_IMPORTED_MODULE_0__.TRAVERSE_COMMAND.STOP;
                    }
                    else {
                        throw new SubtreeNotLoadedError();
                    }
                }
            });
        }
    });
    return extendedKeySet;
}


/***/ }),

/***/ "./node_modules/treemate/es/contains.js":
/*!**********************************************!*\
  !*** ./node_modules/treemate/es/contains.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "contains": () => (/* binding */ contains)
/* harmony export */ });
function contains(parent, child) {
    const parentKey = parent.key;
    // eslint-disable-next-line no-unmodified-loop-condition
    while (child) {
        if (child.key === parentKey)
            return true;
        child = child.parent;
    }
    return false;
}


/***/ }),

/***/ "./node_modules/treemate/es/create.js":
/*!********************************************!*\
  !*** ./node_modules/treemate/es/create.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createTreeMate": () => (/* binding */ createTreeMate)
/* harmony export */ });
/* harmony import */ var _check__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./check */ "./node_modules/treemate/es/check.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/treemate/es/utils.js");
/* harmony import */ var _path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./path */ "./node_modules/treemate/es/path.js");
/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./move */ "./node_modules/treemate/es/move.js");
/* harmony import */ var _flatten__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./flatten */ "./node_modules/treemate/es/flatten.js");
/* harmony import */ var _contains__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contains */ "./node_modules/treemate/es/contains.js");






function createTreeNodes(rawNodes, treeNodeMap, levelTreeNodeMap, nodeProto, getChildren, parent = null, level = 0) {
    const treeNodes = [];
    rawNodes.forEach((rawNode, index) => {
        var _a;
        if ( true &&
            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNodeInvalid)(rawNode, getChildren)) {
            console.error('[treemate]: node', rawNode, 'is invalid');
        }
        const treeNode = Object.create(nodeProto);
        treeNode.rawNode = rawNode;
        treeNode.siblings = treeNodes;
        treeNode.level = level;
        treeNode.index = index;
        treeNode.isFirstChild = index === 0;
        treeNode.isLastChild = index + 1 === rawNodes.length;
        treeNode.parent = parent;
        if (!treeNode.ignored) {
            const rawChildren = getChildren(rawNode);
            if (Array.isArray(rawChildren)) {
                treeNode.children = createTreeNodes(rawChildren, treeNodeMap, levelTreeNodeMap, nodeProto, getChildren, treeNode, level + 1);
            }
        }
        treeNodes.push(treeNode);
        treeNodeMap.set(treeNode.key, treeNode);
        if (!levelTreeNodeMap.has(level))
            levelTreeNodeMap.set(level, []);
        (_a = levelTreeNodeMap.get(level)) === null || _a === void 0 ? void 0 : _a.push(treeNode);
    });
    return treeNodes;
}
function createTreeMate(rawNodes, options = {}) {
    var _a;
    const treeNodeMap = new Map();
    const levelTreeNodeMap = new Map();
    const { getDisabled = _utils__WEBPACK_IMPORTED_MODULE_0__.isDisabled, getIgnored = _utils__WEBPACK_IMPORTED_MODULE_0__.isIgnored, getIsGroup = _utils__WEBPACK_IMPORTED_MODULE_0__.isGroup, getKey = _utils__WEBPACK_IMPORTED_MODULE_0__.defaultGetKey } = options;
    const _getChildren = (_a = options.getChildren) !== null && _a !== void 0 ? _a : _utils__WEBPACK_IMPORTED_MODULE_0__.defaultGetChildren;
    const getChildren = options.ignoreEmptyChildren
        ? (node) => {
            const children = _getChildren(node);
            if (Array.isArray(children)) {
                if (!children.length)
                    return null;
                return children;
            }
            return children;
        }
        : _getChildren;
    const nodeProto = Object.assign({
        get key() {
            // do not pass parent or related things to it
            // the key need to be specified explicitly
            return getKey(this.rawNode);
        },
        get disabled() {
            return getDisabled(this.rawNode);
        },
        get isGroup() {
            return getIsGroup(this.rawNode);
        },
        get isLeaf() {
            return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isLeaf)(this.rawNode, getChildren);
        },
        get shallowLoaded() {
            return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isShallowLoaded)(this.rawNode, getChildren);
        },
        get ignored() {
            return getIgnored(this.rawNode);
        },
        contains(node) {
            return (0,_contains__WEBPACK_IMPORTED_MODULE_1__.contains)(this, node);
        }
    }, _move__WEBPACK_IMPORTED_MODULE_2__.moveMethods);
    const treeNodes = createTreeNodes(rawNodes, treeNodeMap, levelTreeNodeMap, nodeProto, getChildren);
    function getNode(key) {
        if (key === null || key === undefined)
            return null;
        const tmNode = treeNodeMap.get(key);
        if (tmNode && !tmNode.isGroup && !tmNode.ignored) {
            return tmNode;
        }
        return null;
    }
    function _getNode(key) {
        if (key === null || key === undefined)
            return null;
        const tmNode = treeNodeMap.get(key);
        if (tmNode && !tmNode.ignored) {
            return tmNode;
        }
        return null;
    }
    function getPrev(key, options) {
        const node = _getNode(key);
        if (!node)
            return null;
        return node.getPrev(options);
    }
    function getNext(key, options) {
        const node = _getNode(key);
        if (!node)
            return null;
        return node.getNext(options);
    }
    function getParent(key) {
        const node = _getNode(key);
        if (!node)
            return null;
        return node.getParent();
    }
    function getChild(key) {
        const node = _getNode(key);
        if (!node)
            return null;
        return node.getChild();
    }
    const treemate = {
        treeNodes,
        treeNodeMap,
        levelTreeNodeMap,
        maxLevel: Math.max(...levelTreeNodeMap.keys()),
        getChildren,
        getFlattenedNodes(expandedKeys) {
            return (0,_flatten__WEBPACK_IMPORTED_MODULE_3__.flatten)(treeNodes, expandedKeys);
        },
        getNode,
        getPrev,
        getNext,
        getParent,
        getChild,
        getFirstAvailableNode() {
            return (0,_move__WEBPACK_IMPORTED_MODULE_2__.getFirstAvailableNode)(treeNodes);
        },
        getPath(key, options = {}) {
            return (0,_path__WEBPACK_IMPORTED_MODULE_4__.getPath)(key, options, treemate);
        },
        getCheckedKeys(checkedKeys, options = {}) {
            const { cascade = true, leafOnly = false, checkStrategy = 'all' } = options;
            return (0,_check__WEBPACK_IMPORTED_MODULE_5__.getCheckedKeys)({
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapCheckedKeys)(checkedKeys),
                indeterminateKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapIndeterminateKeys)(checkedKeys),
                cascade,
                leafOnly,
                checkStrategy
            }, treemate);
        },
        check(keysToCheck, checkedKeys, options = {}) {
            const { cascade = true, leafOnly = false, checkStrategy = 'all' } = options;
            return (0,_check__WEBPACK_IMPORTED_MODULE_5__.getCheckedKeys)({
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapCheckedKeys)(checkedKeys),
                indeterminateKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapIndeterminateKeys)(checkedKeys),
                keysToCheck: keysToCheck === undefined || keysToCheck === null
                    ? []
                    : (0,_utils__WEBPACK_IMPORTED_MODULE_0__.toArray)(keysToCheck),
                cascade,
                leafOnly,
                checkStrategy
            }, treemate);
        },
        uncheck(keysToUncheck, checkedKeys, options = {}) {
            const { cascade = true, leafOnly = false, checkStrategy = 'all' } = options;
            return (0,_check__WEBPACK_IMPORTED_MODULE_5__.getCheckedKeys)({
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapCheckedKeys)(checkedKeys),
                indeterminateKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapIndeterminateKeys)(checkedKeys),
                keysToUncheck: keysToUncheck === null || keysToUncheck === undefined
                    ? []
                    : (0,_utils__WEBPACK_IMPORTED_MODULE_0__.toArray)(keysToUncheck),
                cascade,
                leafOnly,
                checkStrategy
            }, treemate);
        },
        getNonLeafKeys(options = {}) {
            return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getNonLeafKeys)(treeNodes, options);
        }
    };
    return treemate;
}


/***/ }),

/***/ "./node_modules/treemate/es/flatten.js":
/*!*********************************************!*\
  !*** ./node_modules/treemate/es/flatten.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "flatten": () => (/* binding */ flatten)
/* harmony export */ });
function flatten(treeNodes, expandedKeys) {
    const expandedKeySet = expandedKeys ? new Set(expandedKeys) : undefined;
    const flattenedNodes = [];
    function traverse(treeNodes) {
        treeNodes.forEach((treeNode) => {
            flattenedNodes.push(treeNode);
            if (treeNode.isLeaf || !treeNode.children || treeNode.ignored)
                return;
            if (treeNode.isGroup) {
                // group node shouldn't be expanded
                traverse(treeNode.children);
            }
            else if (
            // normal non-leaf node
            expandedKeySet === undefined ||
                expandedKeySet.has(treeNode.key)) {
                traverse(treeNode.children);
            }
        });
    }
    traverse(treeNodes);
    return flattenedNodes;
}


/***/ }),

/***/ "./node_modules/treemate/es/move.js":
/*!******************************************!*\
  !*** ./node_modules/treemate/es/move.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFirstAvailableNode": () => (/* binding */ getFirstAvailableNode),
/* harmony export */   "moveMethods": () => (/* binding */ moveMethods)
/* harmony export */ });
function getFirstAvailableNode(nodes) {
    if (nodes.length === 0)
        return null;
    const node = nodes[0];
    if (node.isGroup || node.ignored || node.disabled) {
        return node.getNext();
    }
    return node;
}
function rawGetNext(node, loop) {
    const sibs = node.siblings;
    const l = sibs.length;
    const { index } = node;
    if (loop) {
        return sibs[(index + 1) % l];
    }
    else {
        if (index === sibs.length - 1)
            return null;
        return sibs[index + 1];
    }
}
function move(fromNode, dir, { loop = false, includeDisabled = false } = {}) {
    const iterate = dir === 'prev' ? rawGetPrev : rawGetNext;
    const getChildOptions = {
        reverse: dir === 'prev'
    };
    let meet = false;
    let endNode = null;
    function traverse(node) {
        if (node === null)
            return;
        if (node === fromNode) {
            if (!meet) {
                meet = true;
            }
            else if (!fromNode.disabled && !fromNode.isGroup) {
                endNode = fromNode;
                return;
            }
        }
        else {
            if ((!node.disabled || includeDisabled) &&
                !node.ignored &&
                !node.isGroup) {
                endNode = node;
                return;
            }
        }
        if (node.isGroup) {
            const child = getChild(node, getChildOptions);
            if (child !== null) {
                endNode = child;
            }
            else {
                traverse(iterate(node, loop));
            }
        }
        else {
            const nextNode = iterate(node, false);
            if (nextNode !== null) {
                traverse(nextNode);
            }
            else {
                const parent = rawGetParent(node);
                if (parent === null || parent === void 0 ? void 0 : parent.isGroup) {
                    traverse(iterate(parent, loop));
                }
                else if (loop) {
                    traverse(iterate(node, true));
                }
            }
        }
    }
    traverse(fromNode);
    return endNode;
}
function rawGetPrev(node, loop) {
    const sibs = node.siblings;
    const l = sibs.length;
    const { index } = node;
    if (loop) {
        return sibs[(index - 1 + l) % l];
    }
    else {
        if (index === 0)
            return null;
        return sibs[index - 1];
    }
}
function rawGetParent(node) {
    return node.parent;
}
function getChild(node, options = {}) {
    const { reverse = false } = options;
    const { children } = node;
    if (children) {
        const { length } = children;
        const start = reverse ? length - 1 : 0;
        const end = reverse ? -1 : length;
        const delta = reverse ? -1 : 1;
        for (let i = start; i !== end; i += delta) {
            const child = children[i];
            if (!child.disabled && !child.ignored) {
                if (child.isGroup) {
                    const childInGroup = getChild(child, options);
                    if (childInGroup !== null)
                        return childInGroup;
                }
                else {
                    return child;
                }
            }
        }
    }
    return null;
}
const moveMethods = {
    getChild() {
        if (this.ignored)
            return null;
        return getChild(this);
    },
    getParent() {
        const { parent } = this;
        if (parent === null || parent === void 0 ? void 0 : parent.isGroup) {
            return parent.getParent();
        }
        return parent;
    },
    getNext(options = {}) {
        return move(this, 'next', options);
    },
    getPrev(options = {}) {
        return move(this, 'prev', options);
    }
};


/***/ }),

/***/ "./node_modules/treemate/es/path.js":
/*!******************************************!*\
  !*** ./node_modules/treemate/es/path.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPath": () => (/* binding */ getPath)
/* harmony export */ });
function getPath(key, { includeGroup = false, includeSelf = true }, treeMate) {
    var _a;
    const treeNodeMap = treeMate.treeNodeMap;
    let treeNode = key === null || key === undefined ? null : (_a = treeNodeMap.get(key)) !== null && _a !== void 0 ? _a : null;
    const mergedPath = {
        keyPath: [],
        treeNodePath: [],
        treeNode: treeNode
    };
    if (treeNode === null || treeNode === void 0 ? void 0 : treeNode.ignored) {
        mergedPath.treeNode = null;
        return mergedPath;
    }
    while (treeNode) {
        if (!treeNode.ignored && (includeGroup || !treeNode.isGroup)) {
            mergedPath.treeNodePath.push(treeNode);
        }
        treeNode = treeNode.parent;
    }
    mergedPath.treeNodePath.reverse();
    if (!includeSelf)
        mergedPath.treeNodePath.pop();
    mergedPath.keyPath = mergedPath.treeNodePath.map((treeNode) => treeNode.key);
    return mergedPath;
}


/***/ }),

/***/ "./node_modules/treemate/es/utils.js":
/*!*******************************************!*\
  !*** ./node_modules/treemate/es/utils.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "toArray": () => (/* binding */ toArray),
/* harmony export */   "TRAVERSE_COMMAND": () => (/* binding */ TRAVERSE_COMMAND),
/* harmony export */   "traverseWithCb": () => (/* binding */ traverseWithCb),
/* harmony export */   "getNonLeafKeys": () => (/* binding */ getNonLeafKeys),
/* harmony export */   "isLeaf": () => (/* binding */ isLeaf),
/* harmony export */   "defaultGetChildren": () => (/* binding */ defaultGetChildren),
/* harmony export */   "defaultGetKey": () => (/* binding */ defaultGetKey),
/* harmony export */   "isIgnored": () => (/* binding */ isIgnored),
/* harmony export */   "isShallowLoaded": () => (/* binding */ isShallowLoaded),
/* harmony export */   "isDisabled": () => (/* binding */ isDisabled),
/* harmony export */   "isExpilicitlyNotLoaded": () => (/* binding */ isExpilicitlyNotLoaded),
/* harmony export */   "isNodeInvalid": () => (/* binding */ isNodeInvalid),
/* harmony export */   "unwrapCheckedKeys": () => (/* binding */ unwrapCheckedKeys),
/* harmony export */   "unwrapIndeterminateKeys": () => (/* binding */ unwrapIndeterminateKeys),
/* harmony export */   "merge": () => (/* binding */ merge),
/* harmony export */   "minus": () => (/* binding */ minus),
/* harmony export */   "isGroup": () => (/* binding */ isGroup),
/* harmony export */   "createIndexGetter": () => (/* binding */ createIndexGetter)
/* harmony export */ });
function toArray(arg) {
    if (Array.isArray(arg))
        return arg;
    return [arg];
}
// Do not use enum for lint plugin has error
const TRAVERSE_COMMAND = {
    STOP: 'STOP'
};
function traverseWithCb(treeNode, callback) {
    const command = callback(treeNode);
    if (treeNode.children !== undefined && command !== TRAVERSE_COMMAND.STOP) {
        treeNode.children.forEach((childNode) => traverseWithCb(childNode, callback));
    }
}
function getNonLeafKeys(treeNodes, options = {}) {
    const { preserveGroup = false } = options;
    const keys = [];
    const cb = preserveGroup
        ? (node) => {
            if (!node.isLeaf) {
                keys.push(node.key);
                traverse(node.children);
            }
        }
        : (node) => {
            if (!node.isLeaf) {
                if (!node.isGroup)
                    keys.push(node.key);
                traverse(node.children);
            }
        };
    function traverse(nodes) {
        nodes.forEach(cb);
    }
    traverse(treeNodes);
    return keys;
}
function isLeaf(rawNode, getChildren) {
    const { isLeaf } = rawNode;
    if (isLeaf !== undefined)
        return isLeaf;
    else if (!getChildren(rawNode))
        return true;
    return false;
}
function defaultGetChildren(node) {
    return node.children;
}
function defaultGetKey(node) {
    return node.key;
}
function isIgnored() {
    return false;
}
function isShallowLoaded(rawNode, getChildren) {
    const { isLeaf } = rawNode;
    if (isLeaf === false && !Array.isArray(getChildren(rawNode)))
        return false;
    return true;
}
function isDisabled(rawNode) {
    return rawNode.disabled === true;
}
function isExpilicitlyNotLoaded(rawNode, getChildren) {
    return (rawNode.isLeaf === false && !Array.isArray(getChildren(rawNode)));
}
function isNodeInvalid(rawNode, getChildren) {
    if (rawNode.isLeaf === true) {
        const children = getChildren(rawNode);
        if (Array.isArray(children) && children.length > 0)
            return true;
    }
    return false;
}
function unwrapCheckedKeys(result) {
    var _a;
    if (result === undefined || result === null)
        return [];
    if (Array.isArray(result))
        return result;
    return (_a = result.checkedKeys) !== null && _a !== void 0 ? _a : [];
}
function unwrapIndeterminateKeys(result) {
    var _a;
    if (result === undefined || result === null || Array.isArray(result)) {
        return [];
    }
    return (_a = result.indeterminateKeys) !== null && _a !== void 0 ? _a : [];
}
function merge(originalKeys, keysToAdd) {
    const set = new Set(originalKeys);
    keysToAdd.forEach((key) => {
        if (!set.has(key)) {
            set.add(key);
        }
    });
    return Array.from(set);
}
function minus(originalKeys, keysToRemove) {
    const set = new Set(originalKeys);
    keysToRemove.forEach((key) => {
        if (set.has(key)) {
            set.delete(key);
        }
    });
    return Array.from(set);
}
function isGroup(rawNode) {
    return (rawNode === null || rawNode === void 0 ? void 0 : rawNode.type) === 'group';
}
function createIndexGetter(treeNodes) {
    const map = new Map();
    treeNodes.forEach((treeNode, i) => {
        map.set(treeNode.key, i);
    });
    return (key) => { var _a; return (_a = map.get(key)) !== null && _a !== void 0 ? _a : null; };
}


/***/ }),

/***/ "./node_modules/vdirs/es/mousemoveoutside.js":
/*!***************************************************!*\
  !*** ./node_modules/vdirs/es/mousemoveoutside.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var evtd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! evtd */ "./node_modules/evtd/es/delegate.js");

const ctxKey = '@@mmoContext';
const mousemoveoutside = {
    mounted(el, { value }) {
        el[ctxKey] = {
            handler: undefined
        };
        if (typeof value === 'function') {
            el[ctxKey].handler = value;
            (0,evtd__WEBPACK_IMPORTED_MODULE_0__.on)('mousemoveoutside', el, value);
        }
    },
    updated(el, { value }) {
        const ctx = el[ctxKey];
        if (typeof value === 'function') {
            if (ctx.handler) {
                if (ctx.handler !== value) {
                    (0,evtd__WEBPACK_IMPORTED_MODULE_0__.off)('mousemoveoutside', el, ctx.handler);
                    ctx.handler = value;
                    (0,evtd__WEBPACK_IMPORTED_MODULE_0__.on)('mousemoveoutside', el, value);
                }
            }
            else {
                el[ctxKey].handler = value;
                (0,evtd__WEBPACK_IMPORTED_MODULE_0__.on)('mousemoveoutside', el, value);
            }
        }
        else {
            if (ctx.handler) {
                (0,evtd__WEBPACK_IMPORTED_MODULE_0__.off)('mousemoveoutside', el, ctx.handler);
                ctx.handler = undefined;
            }
        }
    },
    unmounted(el) {
        const { handler } = el[ctxKey];
        if (handler) {
            (0,evtd__WEBPACK_IMPORTED_MODULE_0__.off)('mousemoveoutside', el, handler);
        }
        el[ctxKey].handler = undefined;
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mousemoveoutside);


/***/ }),

/***/ "./node_modules/vooks/es/use-compitable.js":
/*!*************************************************!*\
  !*** ./node_modules/vooks/es/use-compitable.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useCompitable)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

function useCompitable(reactive, keys) {
    // @ts-expect-error
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
        for (const key of keys) {
            if (reactive[key] !== undefined)
                return reactive[key];
        }
        return reactive[keys[keys.length - 1]];
    });
}


/***/ }),

/***/ "./node_modules/vueuc/es/focus-trap/src/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/vueuc/es/focus-trap/src/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FocusTrap": () => (/* binding */ FocusTrap)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/misc/index.js");
/* harmony import */ var evtd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! evtd */ "./node_modules/evtd/es/delegate.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ "./node_modules/vueuc/es/focus-trap/src/utils.js");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared */ "./node_modules/vueuc/es/shared/resolve-to.js");





let stack = [];
const FocusTrap = (0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'FocusTrap',
    props: {
        disabled: Boolean,
        active: Boolean,
        autoFocus: {
            type: Boolean,
            default: true
        },
        onEsc: Function,
        initialFocusTo: String,
        finalFocusTo: String,
        returnFocusOnDeactivated: {
            type: Boolean,
            default: true
        }
    },
    setup(props) {
        const id = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.createId)();
        const focusableStartRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const focusableEndRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        let activated = false;
        let ignoreInternalFocusChange = false;
        const lastFocusedElement = document.activeElement;
        function isCurrentActive() {
            const currentActiveId = stack[stack.length - 1];
            return currentActiveId === id;
        }
        function handleDocumentKeydown(e) {
            var _a;
            if (e.code === 'Escape') {
                if (isCurrentActive()) {
                    (_a = props.onEsc) === null || _a === void 0 ? void 0 : _a.call(props);
                }
            }
        }
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(() => {
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(() => props.active, (value) => {
                if (value) {
                    activate();
                    (0,evtd__WEBPACK_IMPORTED_MODULE_2__.on)('keydown', document, handleDocumentKeydown);
                }
                else {
                    (0,evtd__WEBPACK_IMPORTED_MODULE_2__.off)('keydown', document, handleDocumentKeydown);
                    if (activated) {
                        deactivate();
                    }
                }
            }, {
                immediate: true
            });
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onBeforeUnmount)(() => {
            (0,evtd__WEBPACK_IMPORTED_MODULE_2__.off)('keydown', document, handleDocumentKeydown);
            if (activated)
                deactivate();
        });
        function handleDocumentFocus(e) {
            if (ignoreInternalFocusChange)
                return;
            if (isCurrentActive()) {
                const mainEl = getMainEl();
                if (mainEl === null)
                    return;
                if (mainEl.contains(e.target))
                    return;
                // I don't handle shift + tab status since it's too tricky to handle
                // Not impossible but I need to sleep
                resetFocusTo('first');
            }
        }
        function getMainEl() {
            const focusableStartEl = focusableStartRef.value;
            if (focusableStartEl === null)
                return null;
            let mainEl = focusableStartEl;
            while (true) {
                mainEl = mainEl.nextSibling;
                if (mainEl === null)
                    break;
                if (mainEl instanceof Element && mainEl.tagName === 'DIV') {
                    break;
                }
            }
            return mainEl;
        }
        function activate() {
            var _a;
            if (props.disabled)
                return;
            stack.push(id);
            if (props.autoFocus) {
                const { initialFocusTo } = props;
                if (initialFocusTo === undefined) {
                    resetFocusTo('first');
                }
                else {
                    (_a = (0,_shared__WEBPACK_IMPORTED_MODULE_3__.resolveTo)(initialFocusTo)) === null || _a === void 0 ? void 0 : _a.focus();
                }
            }
            activated = true;
            document.addEventListener('focus', handleDocumentFocus, true);
        }
        function deactivate() {
            var _a;
            if (props.disabled)
                return;
            document.removeEventListener('focus', handleDocumentFocus, true);
            stack = stack.filter((idInStack) => idInStack !== id);
            if (isCurrentActive())
                return;
            const { finalFocusTo } = props;
            if (finalFocusTo !== undefined) {
                (_a = (0,_shared__WEBPACK_IMPORTED_MODULE_3__.resolveTo)(finalFocusTo)) === null || _a === void 0 ? void 0 : _a.focus();
            }
            else if (props.returnFocusOnDeactivated) {
                if (lastFocusedElement instanceof HTMLElement) {
                    ignoreInternalFocusChange = true;
                    lastFocusedElement.focus({ preventScroll: true });
                    ignoreInternalFocusChange = false;
                }
            }
        }
        function resetFocusTo(target) {
            if (!isCurrentActive())
                return;
            if (props.active) {
                const focusableStartEl = focusableStartRef.value;
                const focusableEndEl = focusableEndRef.value;
                if (focusableStartEl !== null && focusableEndEl !== null) {
                    const mainEl = getMainEl();
                    if (mainEl == null || mainEl === focusableEndEl) {
                        ignoreInternalFocusChange = true;
                        focusableStartEl.focus({ preventScroll: true });
                        ignoreInternalFocusChange = false;
                        return;
                    }
                    ignoreInternalFocusChange = true;
                    const focused = target === 'first'
                        ? (0,_utils__WEBPACK_IMPORTED_MODULE_4__.focusFirstDescendant)(mainEl)
                        : (0,_utils__WEBPACK_IMPORTED_MODULE_4__.focusLastDescendant)(mainEl);
                    ignoreInternalFocusChange = false;
                    if (!focused) {
                        ignoreInternalFocusChange = true;
                        focusableStartEl.focus({ preventScroll: true });
                        ignoreInternalFocusChange = false;
                    }
                }
            }
        }
        function handleStartFocus(e) {
            if (ignoreInternalFocusChange)
                return;
            const mainEl = getMainEl();
            if (mainEl === null)
                return;
            if (e.relatedTarget !== null && mainEl.contains(e.relatedTarget)) {
                // if it comes from inner, focus last
                resetFocusTo('last');
            }
            else {
                // otherwise focus first
                resetFocusTo('first');
            }
        }
        function handleEndFocus(e) {
            if (ignoreInternalFocusChange)
                return;
            if (e.relatedTarget !== null &&
                e.relatedTarget === focusableStartRef.value) {
                // if it comes from first, focus last
                resetFocusTo('last');
            }
            else {
                // otherwise focus first
                resetFocusTo('first');
            }
        }
        return {
            focusableStartRef,
            focusableEndRef,
            focusableStyle: 'position: absolute; height: 0; width: 0;',
            handleStartFocus,
            handleEndFocus
        };
    },
    render() {
        const { default: defaultSlot } = this.$slots;
        if (defaultSlot === undefined)
            return null;
        if (this.disabled)
            return defaultSlot();
        const { active, focusableStyle } = this;
        return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, [
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('div', {
                'aria-hidden': 'true',
                tabindex: active ? '0' : '-1',
                ref: 'focusableStartRef',
                style: focusableStyle,
                onFocus: this.handleStartFocus
            }),
            defaultSlot(),
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('div', {
                'aria-hidden': 'true',
                style: focusableStyle,
                ref: 'focusableEndRef',
                tabindex: active ? '0' : '-1',
                onFocus: this.handleEndFocus
            })
        ]);
    }
});


/***/ }),

/***/ "./node_modules/vueuc/es/focus-trap/src/utils.js":
/*!*******************************************************!*\
  !*** ./node_modules/vueuc/es/focus-trap/src/utils.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "focusFirstDescendant": () => (/* binding */ focusFirstDescendant),
/* harmony export */   "focusLastDescendant": () => (/* binding */ focusLastDescendant)
/* harmony export */ });
/* eslint-disable @typescript-eslint/strict-boolean-expressions */
// ref https://www.w3.org/TR/wai-aria-practices-1.1/examples/dialog-modal/js/dialog.js
function isHTMLElement(node) {
    return node instanceof HTMLElement;
}
function focusFirstDescendant(node) {
    for (let i = 0; i < node.childNodes.length; i++) {
        const child = node.childNodes[i];
        if (isHTMLElement(child)) {
            if (attemptFocus(child) || focusFirstDescendant(child)) {
                return true;
            }
        }
    }
    return false;
}
function focusLastDescendant(element) {
    for (let i = element.childNodes.length - 1; i >= 0; i--) {
        const child = element.childNodes[i];
        if (isHTMLElement(child)) {
            if (attemptFocus(child) || focusLastDescendant(child)) {
                return true;
            }
        }
    }
    return false;
}
function attemptFocus(element) {
    if (!isFocusable(element)) {
        return false;
    }
    try {
        element.focus();
    }
    catch (e) { }
    return document.activeElement === element;
}
function isFocusable(element) {
    if (element.tabIndex > 0 ||
        (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)) {
        return true;
    }
    if (element.getAttribute('disabled')) {
        return false;
    }
    switch (element.nodeName) {
        case 'A':
            return (!!element.href &&
                element.rel !== 'ignore');
        case 'INPUT':
            return (element.type !== 'hidden' &&
                element.type !== 'file');
        case 'BUTTON':
        case 'SELECT':
        case 'TEXTAREA':
            return true;
        default:
            return false;
    }
}


/***/ }),

/***/ "./node_modules/vueuc/es/overflow/src/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/vueuc/es/overflow/src/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _css_render_vue3_ssr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @css-render/vue3-ssr */ "./node_modules/@css-render/vue3-ssr/esm/index.js");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "./node_modules/vueuc/es/shared/cssr.js");
/* eslint-disable @typescript-eslint/strict-boolean-expressions */



const hiddenAttr = 'v-hidden';
const style = (0,_shared__WEBPACK_IMPORTED_MODULE_1__.c)('[v-hidden]', {
    display: 'none!important'
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'Overflow',
    props: {
        getCounter: Function,
        getTail: Function,
        updateCounter: Function,
        onUpdateOverflow: Function
    },
    setup(props, { slots }) {
        const selfRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const counterRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        function deriveCounter() {
            const { value: self } = selfRef;
            const { getCounter, getTail } = props;
            let counter;
            if (getCounter !== undefined)
                counter = getCounter();
            else {
                counter = counterRef.value;
            }
            if (!self || !counter)
                return;
            if (counter.hasAttribute(hiddenAttr)) {
                counter.removeAttribute(hiddenAttr);
            }
            const { children } = self;
            const containerWidth = self.offsetWidth;
            const childWidths = [];
            const tail = slots.tail ? getTail === null || getTail === void 0 ? void 0 : getTail() : null;
            let childWidthSum = tail ? tail.offsetWidth : 0;
            let overflow = false;
            const len = self.children.length - (slots.tail ? 1 : 0);
            for (let i = 0; i < len - 1; ++i) {
                if (i < 0)
                    continue;
                const child = children[i];
                if (overflow) {
                    if (!child.hasAttribute(hiddenAttr)) {
                        child.setAttribute(hiddenAttr, '');
                    }
                    continue;
                }
                else if (child.hasAttribute(hiddenAttr)) {
                    child.removeAttribute(hiddenAttr);
                }
                const childWidth = child.offsetWidth;
                childWidthSum += childWidth;
                childWidths[i] = childWidth;
                if (childWidthSum > containerWidth) {
                    const { updateCounter } = props;
                    for (let j = i; j >= 0; --j) {
                        const restCount = len - 1 - j;
                        if (updateCounter !== undefined) {
                            updateCounter(restCount);
                        }
                        else {
                            counter.textContent = `${restCount}`;
                        }
                        const counterWidth = counter.offsetWidth;
                        childWidthSum -= childWidths[j];
                        if (childWidthSum + counterWidth <= containerWidth || j === 0) {
                            overflow = true;
                            i = j - 1;
                            if (tail) {
                                // tail too long or 1st element too long
                                // we only consider tail now
                                if (i === -1) {
                                    tail.style.maxWidth = `${containerWidth - counterWidth}px`;
                                    tail.style.boxSizing = 'border-box';
                                }
                                else {
                                    tail.style.maxWidth = '';
                                }
                            }
                            break;
                        }
                    }
                }
            }
            const { onUpdateOverflow } = props;
            if (!overflow) {
                if (onUpdateOverflow !== undefined) {
                    onUpdateOverflow(false);
                }
                counter.setAttribute(hiddenAttr, '');
            }
            else {
                if (onUpdateOverflow !== undefined) {
                    onUpdateOverflow(true);
                }
            }
        }
        const ssrAdapter = (0,_css_render_vue3_ssr__WEBPACK_IMPORTED_MODULE_2__.useSsrAdapter)();
        style.mount({
            id: 'vueuc/overflow',
            head: true,
            anchorMetaName: _shared__WEBPACK_IMPORTED_MODULE_1__.cssrAnchorMetaName,
            ssr: ssrAdapter
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(deriveCounter);
        // besides onMounted, other case should be manually triggered, or we shoud watch items
        return {
            selfRef,
            counterRef,
            sync: deriveCounter
        };
    },
    render() {
        const { $slots } = this;
        // eslint-disable-next-line @typescript-eslint/no-floating-promises
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(this.sync);
        // It shouldn't have border
        return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('div', {
            class: 'v-overflow',
            ref: 'selfRef'
        }, [
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)($slots, 'default'),
            // $slots.counter should only has 1 element
            $slots.counter
                ? $slots.counter()
                : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('span', {
                    style: {
                        display: 'inline-block'
                    },
                    ref: 'counterRef'
                }),
            // $slots.tail should only has 1 element
            $slots.tail ? $slots.tail() : null
        ]);
    }
}));


/***/ }),

/***/ "./node_modules/vueuc/es/shared/resolve-to.js":
/*!****************************************************!*\
  !*** ./node_modules/vueuc/es/shared/resolve-to.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "resolveTo": () => (/* binding */ resolveTo)
/* harmony export */ });
function resolveTo(selector) {
    if (typeof selector === 'string') {
        return document.querySelector(selector);
    }
    return selector();
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfbmFpdmUtdWlfZXNfc2VsZWN0X3NyY19TZWxlY3RfanMubWluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNKO0FBQ1Q7QUFDSztBQUNBO0FBQ3hDLGlFQUFlLG9EQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsUUFBUSxtREFBUSxnQkFBZ0IsMERBQUssRUFBRSwwQ0FBSztBQUM1QztBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUMsb0JBQW9CLHNDQUFDLENBQUMsNkNBQVMsSUFBSTtBQUNuQyx1QkFBdUIsVUFBVTtBQUNqQyxtQ0FBbUMsVUFBVTtBQUM3QyxrRUFBa0U7QUFDbEUsK0JBQStCLHNDQUFDLENBQUMsOENBQVM7QUFDMUMsYUFBYTtBQUNiO0FBQ0E7QUFDQSxDQUFDLENBQUMsRUFBQzs7Ozs7Ozs7Ozs7Ozs7OztBQzlCaUQsQ0FBQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSwrQ0FBRTtBQUNqQjtBQUNBO0FBQ0EsSUFBSSw4Q0FBQztBQUNMO0FBQ0EsQ0FBQyxHQUFHLDhDQUFDO0FBQ0w7QUFDQSxDQUFDLEdBQUcsK0NBQUU7QUFDTjtBQUNBO0FBQ0EsQ0FBQyxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7QUNoQnFDO0FBQ3pDLGlFQUFlLG9EQUFlO0FBQzlCO0FBQ0E7QUFDQSxnQkFBZ0Isc0NBQUMsVUFBVSwyREFBMkQ7QUFDdEYsWUFBWSxzQ0FBQyxRQUFRLGNBQWM7QUFDbkMsZ0JBQWdCLHNDQUFDLFdBQVcsd0xBQXdMO0FBQ3BOO0FBQ0EsQ0FBQyxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUnFCO0FBQ29CO0FBQzVDLGlFQUFlLHlEQUFXLFVBQVUsc0NBQUMsVUFBVSxnR0FBZ0c7QUFDL0ksSUFBSSxzQ0FBQyxRQUFRLDJFQUEyRTtBQUN4RixRQUFR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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnQkFBZ0I7QUFDNUMsb0NBQW9DLFFBQVE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxVQUFVO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELDhCQUE4QjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbUVBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVEQUFrQjtBQUM5QztBQUNBLFNBQVM7QUFDVCxRQUFRLDhDQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0EsUUFBUSw2Q0FBUTtBQUNoQjtBQUNBLGVBQWUsc0NBQUM7QUFDaEI7QUFDQTtBQUNBLFNBQVM7QUFDVCxZQUFZLCtDQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQ0FBQztBQUNuQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7OztBQzFJSTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL2Nsb3NlL3NyYy9DbG9zZS5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL2Nsb3NlL3NyYy9zdHlsZXMvaW5kZXguY3Nzci5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL2ljb25zL0NoZWNrbWFyay5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL2ljb25zL0Nsb3NlLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9faW50ZXJuYWwvaWNvbnMvRW1wdHkuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9zZWxlY3QtbWVudS9zcmMvU2VsZWN0R3JvdXBIZWFkZXIuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9zZWxlY3QtbWVudS9zcmMvU2VsZWN0TWVudS5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL3NlbGVjdC1tZW51L3NyYy9TZWxlY3RPcHRpb24uanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9zZWxlY3QtbWVudS9zcmMvc3R5bGVzL2luZGV4LmNzc3IuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9zZWxlY3QtbWVudS9zdHlsZXMvX2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL3NlbGVjdC1tZW51L3N0eWxlcy9saWdodC5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL3NlbGVjdGlvbi9zcmMvU2VsZWN0aW9uLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9faW50ZXJuYWwvc2VsZWN0aW9uL3NyYy9zdHlsZXMvaW5kZXguY3Nzci5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL3NlbGVjdGlvbi9zdHlsZXMvX2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL3NlbGVjdGlvbi9zdHlsZXMvbGlnaHQuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL191dGlscy9jc3MvZm9ybWF0LWxlbmd0aC5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX3V0aWxzL25haXZlL2F0dHJpYnV0ZS5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX3V0aWxzL3Z1ZS9mbGF0dGVuLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9fdXRpbHMvdnVlL2dldC1maXJzdC1zbG90LXZub2RlLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9fdXRpbHMvdnVlL2tlZXAuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL191dGlscy92dWUvcmVuZGVyLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9lbXB0eS9zcmMvRW1wdHkuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL2VtcHR5L3NyYy9zdHlsZXMvaW5kZXguY3Nzci5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvZW1wdHkvc3R5bGVzL19jb21tb24uanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL2VtcHR5L3N0eWxlcy9saWdodC5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvcG9wb3Zlci9zcmMvUG9wb3Zlci5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvcG9wb3Zlci9zcmMvUG9wb3ZlckJvZHkuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL3BvcG92ZXIvc3JjL3N0eWxlcy9pbmRleC5jc3NyLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9wb3BvdmVyL3N0eWxlcy9fY29tbW9uLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9wb3BvdmVyL3N0eWxlcy9saWdodC5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvc2VsZWN0L3NyYy9TZWxlY3QuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL3NlbGVjdC9zcmMvc3R5bGVzL2luZGV4LmNzc3IuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL3NlbGVjdC9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL3NlbGVjdC9zdHlsZXMvbGlnaHQuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL3RhZy9zcmMvVGFnLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy90YWcvc3JjL2NvbW1vbi1wcm9wcy5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvdGFnL3NyYy9zdHlsZXMvaW5kZXguY3Nzci5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvdGFnL3N0eWxlcy9fY29tbW9uLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy90YWcvc3R5bGVzL2xpZ2h0LmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9zZWVtbHkvZXMvbWlzYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvdHJlZW1hdGUvZXMvY2hlY2suanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL2NvbnRhaW5zLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy90cmVlbWF0ZS9lcy9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL2ZsYXR0ZW4uanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL21vdmUuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL3BhdGguanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL3V0aWxzLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy92ZGlycy9lcy9tb3VzZW1vdmVvdXRzaWRlLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy92b29rcy9lcy91c2UtY29tcGl0YWJsZS5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvdnVldWMvZXMvZm9jdXMtdHJhcC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3Z1ZXVjL2VzL2ZvY3VzLXRyYXAvc3JjL3V0aWxzLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy92dWV1Yy9lcy9vdmVyZmxvdy9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3Z1ZXVjL2VzL3NoYXJlZC9yZXNvbHZlLXRvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGgsIGRlZmluZUNvbXBvbmVudCwgdG9SZWYgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgdXNlU3R5bGUgfSBmcm9tICcuLi8uLi8uLi9fbWl4aW5zJztcbmltcG9ydCBOQmFzZUljb24gZnJvbSAnLi4vLi4vaWNvbic7XG5pbXBvcnQgeyBDbG9zZUljb24gfSBmcm9tICcuLi8uLi9pY29ucyc7XG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZXMvaW5kZXguY3Nzcic7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdCYXNlQ2xvc2UnLFxuICAgIHByb3BzOiB7XG4gICAgICAgIGNsc1ByZWZpeDoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICAgICAgfSxcbiAgICAgICAgb25DbGljazogRnVuY3Rpb25cbiAgICB9LFxuICAgIHNldHVwKHByb3BzKSB7XG4gICAgICAgIHVzZVN0eWxlKCctYmFzZS1jbG9zZScsIHN0eWxlLCB0b1JlZihwcm9wcywgJ2Nsc1ByZWZpeCcpKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY2xzUHJlZml4LCBkaXNhYmxlZCB9ID0gcHJvcHM7XG4gICAgICAgICAgICByZXR1cm4gKGgoTkJhc2VJY29uLCB7IHJvbGU6IFwiYnV0dG9uXCIsIGFyaWFEaXNhYmxlZDogZGlzYWJsZWQsIGFyaWFMYWJlbDogXCJjbG9zZVwiLCBjbHNQcmVmaXg6IGNsc1ByZWZpeCwgY2xhc3M6IFtcbiAgICAgICAgICAgICAgICAgICAgYCR7Y2xzUHJlZml4fS1iYXNlLWNsb3NlYCxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQgJiYgYCR7Y2xzUHJlZml4fS1iYXNlLWNsb3NlLS1kaXNhYmxlZGBcbiAgICAgICAgICAgICAgICBdLCBvbkNsaWNrOiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IHByb3BzLm9uQ2xpY2sgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IGgoQ2xvc2VJY29uLCBudWxsKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgIH1cbn0pO1xuIiwiaW1wb3J0IHsgY0IsIGNNLCBjIH0gZnJvbSAnLi4vLi4vLi4vLi4vX3V0aWxzL2Nzc3InOyAvLyB2YXJzOlxuLy8gLS1uLWNsb3NlLWNvbG9yXG4vLyAtLW4tY2xvc2UtY29sb3ItaG92ZXJcbi8vIC0tbi1jbG9zZS1jb2xvci1wcmVzc2VkXG4vLyAtLW4tY2xvc2UtY29sb3ItZGlzYWJsZWRcblxuZXhwb3J0IGRlZmF1bHQgY0IoJ2Jhc2UtY2xvc2UnLCBgXG4gY3Vyc29yOiBwb2ludGVyO1xuIGNvbG9yOiB2YXIoLS1uLWNsb3NlLWNvbG9yKTtcbmAsIFtjKCcmOmhvdmVyJywge1xuICBjb2xvcjogJ3ZhcigtLW4tY2xvc2UtY29sb3ItaG92ZXIpJ1xufSksIGMoJyY6YWN0aXZlJywge1xuICBjb2xvcjogJ3ZhcigtLW4tY2xvc2UtY29sb3ItcHJlc3NlZCknXG59KSwgY00oJ2Rpc2FibGVkJywge1xuICBjdXJzb3I6ICdub3QtYWxsb3dlZCFpbXBvcnRhbnQnLFxuICBjb2xvcjogJ3ZhcigtLW4tY2xvc2UtY29sb3ItZGlzYWJsZWQpJ1xufSldKTsiLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnQ2hlY2ttYXJrJyxcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoaChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIgfSxcbiAgICAgICAgICAgIGgoXCJnXCIsIHsgZmlsbDogXCJub25lXCIgfSxcbiAgICAgICAgICAgICAgICBoKFwicGF0aFwiLCB7IGQ6IFwiTTE0LjA0NiAzLjQ4NmEuNzUuNzUgMCAwIDEtLjAzMiAxLjA2bC03LjkzIDcuNDc0YS44NS44NSAwIDAgMS0xLjE4OC0uMDIybC0yLjY4LTIuNzJhLjc1Ljc1IDAgMSAxIDEuMDY4LTEuMDUzbDIuMjM0IDIuMjY3bDcuNDY4LTcuMDM4YS43NS43NSAwIDAgMSAxLjA2LjAzMnpcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9KSkpKTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGggfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgcmVwbGFjZWFibGUgfSBmcm9tICcuL3JlcGxhY2VhYmxlJztcbmV4cG9ydCBkZWZhdWx0IHJlcGxhY2VhYmxlKCdjbG9zZScsIGgoXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAxMiAxMlwiLCB2ZXJzaW9uOiBcIjEuMVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImFyaWEtaGlkZGVuXCI6IHRydWUgfSxcbiAgICBoKFwiZ1wiLCB7IHN0cm9rZTogXCJub25lXCIsIFwic3Ryb2tlLXdpZHRoXCI6IFwiMVwiLCBmaWxsOiBcIm5vbmVcIiwgXCJmaWxsLXJ1bGVcIjogXCJldmVub2RkXCIgfSxcbiAgICAgICAgaChcImdcIiwgeyBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCBcImZpbGwtcnVsZVwiOiBcIm5vbnplcm9cIiB9LFxuICAgICAgICAgICAgaChcInBhdGhcIiwgeyBkOiBcIk0yLjA4ODU5MTE2LDIuMjE1Njk0NSBMMi4xNDY0NDY2MSwyLjE0NjQ0NjYxIEMyLjMyMDAxMjk2LDEuOTcyODgwMjYgMi41ODk0MzczNiwxLjk1MzU5NTExIDIuNzg0MzA1NSwyLjA4ODU5MTE2IEwyLjg1MzU1MzM5LDIuMTQ2NDQ2NjEgTDYsNS4yOTMgTDkuMTQ2NDQ2NjEsMi4xNDY0NDY2MSBDOS4zNDE3MDg3NiwxLjk1MTE4NDQ2IDkuNjU4MjkxMjQsMS45NTExODQ0NiA5Ljg1MzU1MzM5LDIuMTQ2NDQ2NjEgQzEwLjA0ODgxNTUsMi4zNDE3MDg3NiAxMC4wNDg4MTU1LDIuNjU4MjkxMjQgOS44NTM1NTMzOSwyLjg1MzU1MzM5IEw2LjcwNyw2IEw5Ljg1MzU1MzM5LDkuMTQ2NDQ2NjEgQzEwLjAyNzExOTcsOS4zMjAwMTI5NiAxMC4wNDY0MDQ5LDkuNTg5NDM3MzYgOS45MTE0MDg4NCw5Ljc4NDMwNTUgTDkuODUzNTUzMzksOS44NTM1NTMzOSBDOS42Nzk5ODcwNCwxMC4wMjcxMTk3IDkuNDEwNTYyNjQsMTAuMDQ2NDA0OSA5LjIxNTY5NDUsOS45MTE0MDg4NCBMOS4xNDY0NDY2MSw5Ljg1MzU1MzM5IEw2LDYuNzA3IEwyLjg1MzU1MzM5LDkuODUzNTUzMzkgQzIuNjU4MjkxMjQsMTAuMDQ4ODE1NSAyLjM0MTcwODc2LDEwLjA0ODgxNTUgMi4xNDY0NDY2MSw5Ljg1MzU1MzM5IEMxLjk1MTE4NDQ2LDkuNjU4MjkxMjQgMS45NTExODQ0Niw5LjM0MTcwODc2IDIuMTQ2NDQ2NjEsOS4xNDY0NDY2MSBMNS4yOTMsNiBMMi4xNDY0NDY2MSwyLjg1MzU1MzM5IEMxLjk3Mjg4MDI2LDIuNjc5OTg3MDQgMS45NTM1OTUxMSwyLjQxMDU2MjY0IDIuMDg4NTkxMTYsMi4yMTU2OTQ1IEwyLjE0NjQ0NjYxLDIuMTQ2NDQ2NjEgTDIuMDg4NTkxMTYsMi4yMTU2OTQ1IFpcIiB9KSkpKSk7XG4iLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnRW1wdHknLFxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChoKFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMjggMjhcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgfSxcbiAgICAgICAgICAgIGgoXCJwYXRoXCIsIHsgZDogXCJNMjYgNy41QzI2IDExLjA4OTkgMjMuMDg5OSAxNCAxOS41IDE0QzE1LjkxMDEgMTQgMTMgMTEuMDg5OSAxMyA3LjVDMTMgMy45MTAxNSAxNS45MTAxIDEgMTkuNSAxQzIzLjA4OTkgMSAyNiAzLjkxMDE1IDI2IDcuNVpNMTYuODUzNiA0LjE0NjQ1QzE2LjY1ODMgMy45NTExOCAxNi4zNDE3IDMuOTUxMTggMTYuMTQ2NCA0LjE0NjQ1QzE1Ljk1MTIgNC4zNDE3MSAxNS45NTEyIDQuNjU4MjkgMTYuMTQ2NCA0Ljg1MzU1TDE4Ljc5MjkgNy41TDE2LjE0NjQgMTAuMTQ2NEMxNS45NTEyIDEwLjM0MTcgMTUuOTUxMiAxMC42NTgzIDE2LjE0NjQgMTAuODUzNkMxNi4zNDE3IDExLjA0ODggMTYuNjU4MyAxMS4wNDg4IDE2Ljg1MzYgMTAuODUzNkwxOS41IDguMjA3MTFMMjIuMTQ2NCAxMC44NTM2QzIyLjM0MTcgMTEuMDQ4OCAyMi42NTgzIDExLjA0ODggMjIuODUzNiAxMC44NTM2QzIzLjA0ODggMTAuNjU4MyAyMy4wNDg4IDEwLjM0MTcgMjIuODUzNiAxMC4xNDY0TDIwLjIwNzEgNy41TDIyLjg1MzYgNC44NTM1NUMyMy4wNDg4IDQuNjU4MjkgMjMuMDQ4OCA0LjM0MTcxIDIyLjg1MzYgNC4xNDY0NUMyMi42NTgzIDMuOTUxMTggMjIuMzQxNyAzLjk1MTE4IDIyLjE0NjQgNC4xNDY0NUwxOS41IDYuNzkyODlMMTYuODUzNiA0LjE0NjQ1WlwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0pLFxuICAgICAgICAgICAgaChcInBhdGhcIiwgeyBkOiBcIk0yNSAyMi43NVYxMi41OTkxQzI0LjU1NzIgMTMuMDc2NSAyNC4wNTMgMTMuNDk2MSAyMy41IDEzLjg0NTRWMTZIMTcuNUwxNy4zOTgyIDE2LjAwNjhDMTcuMDMyMiAxNi4wNTY1IDE2Ljc1IDE2LjM3MDMgMTYuNzUgMTYuNzVDMTYuNzUgMTguMjY4OCAxNS41MTg4IDE5LjUgMTQgMTkuNUMxMi40ODEyIDE5LjUgMTEuMjUgMTguMjY4OCAxMS4yNSAxNi43NUwxMS4yNDMyIDE2LjY0ODJDMTEuMTkzNSAxNi4yODIyIDEwLjg3OTcgMTYgMTAuNSAxNkg0LjVWNy4yNUM0LjUgNi4yODM1IDUuMjgzNSA1LjUgNi4yNSA1LjVIMTIuMjY5NkMxMi40MTQ2IDQuOTc0NjMgMTIuNjE1MyA0LjQ3MjM3IDEyLjg2NSA0SDYuMjVDNC40NTUwNyA0IDMgNS40NTUwNyAzIDcuMjVWMjIuNzVDMyAyNC41NDQ5IDQuNDU1MDcgMjYgNi4yNSAyNkgyMS43NUMyMy41NDQ5IDI2IDI1IDI0LjU0NDkgMjUgMjIuNzVaTTQuNSAyMi43NVYxNy41SDkuODE1OTdMOS44NTc1MSAxNy43MDQxQzEwLjI5MDUgMTkuNTkxOSAxMS45ODA4IDIxIDE0IDIxTDE0LjIxNSAyMC45OTQ3QzE2LjIwOTUgMjAuODk1MyAxNy44NDIgMTkuNDIwOSAxOC4xODQgMTcuNUgyMy41VjIyLjc1QzIzLjUgMjMuNzE2NSAyMi43MTY1IDI0LjUgMjEuNzUgMjQuNUg2LjI1QzUuMjgzNSAyNC41IDQuNSAyMy43MTY1IDQuNSAyMi43NVpcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9KSkpO1xuICAgIH1cbn0pO1xuIiwiaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50LCBpbmplY3QgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnLi4vLi4vLi4vX3V0aWxzJztcbmltcG9ydCB7IGludGVybmFsU2VsZWN0aW9uTWVudUluamVjdGlvbktleSB9IGZyb20gJy4vaW50ZXJmYWNlJztcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ05CYXNlU2VsZWN0R3JvdXBIZWFkZXInLFxuICAgIHByb3BzOiB7XG4gICAgICAgIGNsc1ByZWZpeDoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdG1Ob2RlOiB7XG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXR1cCgpIHtcbiAgICAgICAgY29uc3QgeyByZW5kZXJMYWJlbFJlZiwgcmVuZGVyT3B0aW9uUmVmXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICB9ID0gaW5qZWN0KGludGVybmFsU2VsZWN0aW9uTWVudUluamVjdGlvbktleSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW5kZXJMYWJlbDogcmVuZGVyTGFiZWxSZWYsXG4gICAgICAgICAgICByZW5kZXJPcHRpb246IHJlbmRlck9wdGlvblJlZlxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGNsc1ByZWZpeCwgcmVuZGVyTGFiZWwsIHJlbmRlck9wdGlvbiwgdG1Ob2RlOiB7IHJhd05vZGUgfSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSByZW5kZXJMYWJlbFxuICAgICAgICAgICAgPyByZW5kZXJMYWJlbChyYXdOb2RlLCBmYWxzZSlcbiAgICAgICAgICAgIDogcmVuZGVyKHJhd05vZGUubGFiZWwsIHJhd05vZGUsIGZhbHNlKTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3QtZ3JvdXAtaGVhZGVyYCB9LCBjaGlsZHJlbikpO1xuICAgICAgICByZXR1cm4gcmF3Tm9kZS5yZW5kZXJcbiAgICAgICAgICAgID8gcmF3Tm9kZS5yZW5kZXIoeyBub2RlLCBvcHRpb246IHJhd05vZGUgfSlcbiAgICAgICAgICAgIDogcmVuZGVyT3B0aW9uXG4gICAgICAgICAgICAgICAgPyByZW5kZXJPcHRpb24oeyBub2RlLCBvcHRpb246IHJhd05vZGUsIHNlbGVjdGVkOiBmYWxzZSB9KVxuICAgICAgICAgICAgICAgIDogbm9kZTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGgsIHJlZiwgb25Nb3VudGVkLCBjb21wdXRlZCwgZGVmaW5lQ29tcG9uZW50LCB0b1JlZiwgcHJvdmlkZSwgbmV4dFRpY2ssIHdhdGNoIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGNyZWF0ZUluZGV4R2V0dGVyIH0gZnJvbSAndHJlZW1hdGUnO1xuaW1wb3J0IHsgVmlydHVhbExpc3QgfSBmcm9tICd2dWV1Yyc7XG5pbXBvcnQgeyBkZXB4LCBnZXRQYWRkaW5nLCBoYXBwZW5zSW4gfSBmcm9tICdzZWVtbHknO1xuaW1wb3J0IHsgTkVtcHR5IH0gZnJvbSAnLi4vLi4vLi4vZW1wdHknO1xuaW1wb3J0IHsgTlNjcm9sbGJhciB9IGZyb20gJy4uLy4uL3Njcm9sbGJhcic7XG5pbXBvcnQgeyBmb3JtYXRMZW5ndGgsIHJlc29sdmVTbG90LCByZXNvbHZlV3JhcHBlZFNsb3QgfSBmcm9tICcuLi8uLi8uLi9fdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlS2V5IH0gZnJvbSAnLi4vLi4vLi4vX3V0aWxzL2Nzc3InO1xuaW1wb3J0IHsgdXNlVGhlbWVDbGFzcywgdXNlVGhlbWUgfSBmcm9tICcuLi8uLi8uLi9fbWl4aW5zJztcbmltcG9ydCBOSW50ZXJuYWxMb2FkaW5nIGZyb20gJy4uLy4uL2xvYWRpbmcnO1xuaW1wb3J0IE5Gb2N1c0RldGVjdG9yIGZyb20gJy4uLy4uL2ZvY3VzLWRldGVjdG9yJztcbmltcG9ydCB7IGludGVybmFsU2VsZWN0TWVudUxpZ2h0IH0gZnJvbSAnLi4vc3R5bGVzJztcbmltcG9ydCBOU2VsZWN0T3B0aW9uIGZyb20gJy4vU2VsZWN0T3B0aW9uJztcbmltcG9ydCBOU2VsZWN0R3JvdXBIZWFkZXIgZnJvbSAnLi9TZWxlY3RHcm91cEhlYWRlcic7XG5pbXBvcnQgeyBpbnRlcm5hbFNlbGVjdGlvbk1lbnVJbmplY3Rpb25LZXksIGludGVybmFsU2VsZWN0aW9uTWVudUJvZHlJbmplY3Rpb25LZXkgfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZXMvaW5kZXguY3Nzcic7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdJbnRlcm5hbFNlbGVjdE1lbnUnLFxuICAgIHByb3BzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHVzZVRoZW1lLnByb3BzKSwgeyBjbHNQcmVmaXg6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sIHNjcm9sbGFibGU6IHtcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgICAgIH0sIHRyZWVNYXRlOiB7XG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LCBtdWx0aXBsZTogQm9vbGVhbiwgc2l6ZToge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgZGVmYXVsdDogJ21lZGl1bSdcbiAgICAgICAgfSwgdmFsdWU6IHtcbiAgICAgICAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlciwgQXJyYXldLFxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9LCB3aWR0aDogW051bWJlciwgU3RyaW5nXSwgYXV0b1BlbmRpbmc6IEJvb2xlYW4sIHZpcnR1YWxTY3JvbGw6IHtcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgICAgIH0sIFxuICAgICAgICAvLyBzaG93IGlzIHVzZWQgdG8gdG9nZ2xlIHBlbmRpbmcgc3RhdGUgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgc2hvdzoge1xuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICAgICAgfSwgbG9hZGluZzogQm9vbGVhbiwgZm9jdXNhYmxlOiBCb29sZWFuLCByZW5kZXJMYWJlbDogRnVuY3Rpb24sIHJlbmRlck9wdGlvbjogRnVuY3Rpb24sIG9uTW91c2Vkb3duOiBGdW5jdGlvbiwgb25TY3JvbGw6IEZ1bmN0aW9uLCBvbkZvY3VzOiBGdW5jdGlvbiwgb25CbHVyOiBGdW5jdGlvbiwgb25LZXl1cDogRnVuY3Rpb24sIG9uS2V5ZG93bjogRnVuY3Rpb24sIG9uVGFiT3V0OiBGdW5jdGlvbiwgb25Nb3VzZWVudGVyOiBGdW5jdGlvbiwgb25Nb3VzZWxlYXZlOiBGdW5jdGlvbiwgcmVzZXRNZW51T25PcHRpb25zQ2hhbmdlOiB7XG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgICAgICB9LCBpbmxpbmVUaGVtZURpc2FibGVkOiBCb29sZWFuLCBcbiAgICAgICAgLy8gZGVwcmVjYXRlZFxuICAgICAgICBvblRvZ2dsZTogRnVuY3Rpb24gfSksXG4gICAgc2V0dXAocHJvcHMpIHtcbiAgICAgICAgY29uc3QgdGhlbWVSZWYgPSB1c2VUaGVtZSgnSW50ZXJuYWxTZWxlY3RNZW51JywgJy1pbnRlcm5hbC1zZWxlY3QtbWVudScsIHN0eWxlLCBpbnRlcm5hbFNlbGVjdE1lbnVMaWdodCwgcHJvcHMsIHRvUmVmKHByb3BzLCAnY2xzUHJlZml4JykpO1xuICAgICAgICBjb25zdCBzZWxmUmVmID0gcmVmKG51bGwpO1xuICAgICAgICBjb25zdCB2aXJ0dWFsTGlzdFJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsYmFyUmVmID0gcmVmKG51bGwpO1xuICAgICAgICBjb25zdCBmbGF0dGVuZWROb2Rlc1JlZiA9IGNvbXB1dGVkKCgpID0+IHByb3BzLnRyZWVNYXRlLmdldEZsYXR0ZW5lZE5vZGVzKCkpO1xuICAgICAgICBjb25zdCBmSW5kZXhHZXR0ZXJSZWYgPSBjb21wdXRlZCgoKSA9PiBjcmVhdGVJbmRleEdldHRlcihmbGF0dGVuZWROb2Rlc1JlZi52YWx1ZSkpO1xuICAgICAgICBjb25zdCBwZW5kaW5nTm9kZVJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgZnVuY3Rpb24gaW5pdFBlbmRpbmdOb2RlKCkge1xuICAgICAgICAgICAgY29uc3QgeyB0cmVlTWF0ZSB9ID0gcHJvcHM7XG4gICAgICAgICAgICBsZXQgZGVmYXVsdFBlbmRpbmdOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChwcm9wcy5hdXRvUGVuZGluZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGVuZGluZ05vZGUgPSB0cmVlTWF0ZS5nZXRGaXJzdEF2YWlsYWJsZU5vZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBlbmRpbmdOb2RlID0gdHJlZU1hdGUuZ2V0Tm9kZSgodmFsdWUgfHwgW10pWyh2YWx1ZSB8fCBbXSkubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBlbmRpbmdOb2RlID0gdHJlZU1hdGUuZ2V0Tm9kZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWZhdWx0UGVuZGluZ05vZGUgfHwgZGVmYXVsdFBlbmRpbmdOb2RlLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGVuZGluZ05vZGUgPSB0cmVlTWF0ZS5nZXRGaXJzdEF2YWlsYWJsZU5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBlbmRpbmdOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFBlbmRpbmdUbU5vZGUoZGVmYXVsdFBlbmRpbmdOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluaXRQZW5kaW5nTm9kZVdhdGNoU3RvcEhhbmRsZTtcbiAgICAgICAgd2F0Y2godG9SZWYocHJvcHMsICdzaG93JyksICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaW5pdFBlbmRpbmdOb2RlV2F0Y2hTdG9wSGFuZGxlID0gd2F0Y2gocHJvcHMucmVzZXRNZW51T25PcHRpb25zQ2hhbmdlXG4gICAgICAgICAgICAgICAgICAgID8gW3RvUmVmKHByb3BzLCAndHJlZU1hdGUnKSwgdG9SZWYocHJvcHMsICdtdWx0aXBsZScpXVxuICAgICAgICAgICAgICAgICAgICA6IFt0b1JlZihwcm9wcywgJ211bHRpcGxlJyldLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRQZW5kaW5nTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICB2b2lkIG5leHRUaWNrKHNjcm9sbFRvUGVuZGluZ05vZGUpO1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbml0UGVuZGluZ05vZGVXYXRjaFN0b3BIYW5kbGUgPT09IG51bGwgfHwgaW5pdFBlbmRpbmdOb2RlV2F0Y2hTdG9wSGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0UGVuZGluZ05vZGVXYXRjaFN0b3BIYW5kbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpdGVtU2l6ZVJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZXB4KHRoZW1lUmVmLnZhbHVlLnNlbGZbY3JlYXRlS2V5KCdvcHRpb25IZWlnaHQnLCBwcm9wcy5zaXplKV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcGFkZGluZ1JlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBnZXRQYWRkaW5nKHRoZW1lUmVmLnZhbHVlLnNlbGZbY3JlYXRlS2V5KCdwYWRkaW5nJywgcHJvcHMuc2l6ZSldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHZhbHVlU2V0UmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3BzLm11bHRpcGxlICYmIEFycmF5LmlzQXJyYXkocHJvcHMudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXQocHJvcHMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGVtcHR5UmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG1Ob2RlcyA9IGZsYXR0ZW5lZE5vZGVzUmVmLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRtTm9kZXMgJiYgdG1Ob2Rlcy5sZW5ndGggPT09IDA7XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBkb1RvZ2dsZSh0bU5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25Ub2dnbGUgfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKG9uVG9nZ2xlKVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlKHRtTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZG9TY3JvbGwoZSkge1xuICAgICAgICAgICAgY29uc3QgeyBvblNjcm9sbCB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAob25TY3JvbGwpXG4gICAgICAgICAgICAgICAgb25TY3JvbGwoZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVxdWlyZWQsIHNjcm9sbGVyIHN5bmMgbmVlZCB0byBiZSB0cmlnZ2VyZWQgbWFudWFsbHlcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVmlydHVhbExpc3RTY3JvbGwoZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gc2Nyb2xsYmFyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3luYygpO1xuICAgICAgICAgICAgZG9TY3JvbGwoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVmlydHVhbExpc3RSZXNpemUoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBzY3JvbGxiYXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zeW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0UGVuZGluZ1RtTm9kZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHBlbmRpbmdUbU5vZGUgfSA9IHBlbmRpbmdOb2RlUmVmO1xuICAgICAgICAgICAgaWYgKHBlbmRpbmdUbU5vZGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdUbU5vZGU7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVPcHRpb25Nb3VzZUVudGVyKGUsIHRtTm9kZSkge1xuICAgICAgICAgICAgaWYgKHRtTm9kZS5kaXNhYmxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzZXRQZW5kaW5nVG1Ob2RlKHRtTm9kZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU9wdGlvbkNsaWNrKGUsIHRtTm9kZSkge1xuICAgICAgICAgICAgaWYgKHRtTm9kZS5kaXNhYmxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkb1RvZ2dsZSh0bU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGtleWJvYXJkIHJlbGF0ZWQgbWV0aG9kc1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVLZXlVcChlKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoaGFwcGVuc0luKGUsICdhY3Rpb24nKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAoX2EgPSBwcm9wcy5vbktleXVwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoaGFwcGVuc0luKGUsICdhY3Rpb24nKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAoX2EgPSBwcm9wcy5vbktleWRvd24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gcHJvcHMub25Nb3VzZWRvd24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICAgICAgICAgIGlmIChwcm9wcy5mb2N1c2FibGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBwZW5kaW5nVG1Ob2RlIH0gPSBwZW5kaW5nTm9kZVJlZjtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nVG1Ob2RlKSB7XG4gICAgICAgICAgICAgICAgc2V0UGVuZGluZ1RtTm9kZShwZW5kaW5nVG1Ob2RlLmdldE5leHQoeyBsb29wOiB0cnVlIH0pLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwcmV2KCkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogcGVuZGluZ1RtTm9kZSB9ID0gcGVuZGluZ05vZGVSZWY7XG4gICAgICAgICAgICBpZiAocGVuZGluZ1RtTm9kZSkge1xuICAgICAgICAgICAgICAgIHNldFBlbmRpbmdUbU5vZGUocGVuZGluZ1RtTm9kZS5nZXRQcmV2KHsgbG9vcDogdHJ1ZSB9KSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2V0UGVuZGluZ1RtTm9kZSh0bU5vZGUsIGRvU2Nyb2xsID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHBlbmRpbmdOb2RlUmVmLnZhbHVlID0gdG1Ob2RlO1xuICAgICAgICAgICAgaWYgKGRvU2Nyb2xsKVxuICAgICAgICAgICAgICAgIHNjcm9sbFRvUGVuZGluZ05vZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzY3JvbGxUb1BlbmRpbmdOb2RlKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGNvbnN0IHRtTm9kZSA9IHBlbmRpbmdOb2RlUmVmLnZhbHVlO1xuICAgICAgICAgICAgaWYgKCF0bU5vZGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgZkluZGV4ID0gZkluZGV4R2V0dGVyUmVmLnZhbHVlKHRtTm9kZS5rZXkpO1xuICAgICAgICAgICAgaWYgKGZJbmRleCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAocHJvcHMudmlydHVhbFNjcm9sbCkge1xuICAgICAgICAgICAgICAgIChfYSA9IHZpcnR1YWxMaXN0UmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2Nyb2xsVG8oeyBpbmRleDogZkluZGV4IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKF9iID0gc2Nyb2xsYmFyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgICAgICAgICBpbmRleDogZkluZGV4LFxuICAgICAgICAgICAgICAgICAgICBlbFNpemU6IGl0ZW1TaXplUmVmLnZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRm9jdXNpbihlKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKChfYSA9IHNlbGZSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAoX2IgPSBwcm9wcy5vbkZvY3VzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwcm9wcywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRm9jdXNvdXQoZSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICghKChfYSA9IHNlbGZSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSkge1xuICAgICAgICAgICAgICAgIChfYiA9IHByb3BzLm9uQmx1cikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvcHMsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3ZpZGUoaW50ZXJuYWxTZWxlY3Rpb25NZW51SW5qZWN0aW9uS2V5LCB7XG4gICAgICAgICAgICBoYW5kbGVPcHRpb25Nb3VzZUVudGVyLFxuICAgICAgICAgICAgaGFuZGxlT3B0aW9uQ2xpY2ssXG4gICAgICAgICAgICB2YWx1ZVNldFJlZixcbiAgICAgICAgICAgIG11bHRpcGxlUmVmOiB0b1JlZihwcm9wcywgJ211bHRpcGxlJyksXG4gICAgICAgICAgICB2YWx1ZVJlZjogdG9SZWYocHJvcHMsICd2YWx1ZScpLFxuICAgICAgICAgICAgcmVuZGVyTGFiZWxSZWY6IHRvUmVmKHByb3BzLCAncmVuZGVyTGFiZWwnKSxcbiAgICAgICAgICAgIHJlbmRlck9wdGlvblJlZjogdG9SZWYocHJvcHMsICdyZW5kZXJPcHRpb24nKSxcbiAgICAgICAgICAgIHBlbmRpbmdUbU5vZGVSZWY6IHBlbmRpbmdOb2RlUmVmXG4gICAgICAgIH0pO1xuICAgICAgICBwcm92aWRlKGludGVybmFsU2VsZWN0aW9uTWVudUJvZHlJbmplY3Rpb25LZXksIHNlbGZSZWYpO1xuICAgICAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gc2Nyb2xsYmFyUmVmO1xuICAgICAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgICAgIHZhbHVlLnN5bmMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNzc1ZhcnNSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNpemUgfSA9IHByb3BzO1xuICAgICAgICAgICAgY29uc3QgeyBjb21tb246IHsgY3ViaWNCZXppZXJFYXNlSW5PdXQgfSwgc2VsZjogeyBoZWlnaHQsIGJvcmRlclJhZGl1cywgY29sb3IsIGdyb3VwSGVhZGVyVGV4dENvbG9yLCBhY3Rpb25EaXZpZGVyQ29sb3IsIG9wdGlvblRleHRDb2xvclByZXNzZWQsIG9wdGlvblRleHRDb2xvciwgb3B0aW9uVGV4dENvbG9yRGlzYWJsZWQsIG9wdGlvblRleHRDb2xvckFjdGl2ZSwgb3B0aW9uT3BhY2l0eURpc2FibGVkLCBvcHRpb25DaGVja0NvbG9yLCBhY3Rpb25UZXh0Q29sb3IsIG9wdGlvbkNvbG9yUGVuZGluZywgb3B0aW9uQ29sb3JBY3RpdmUsIGxvYWRpbmdDb2xvciwgbG9hZGluZ1NpemUsIFtjcmVhdGVLZXkoJ29wdGlvbkZvbnRTaXplJywgc2l6ZSldOiBmb250U2l6ZSwgW2NyZWF0ZUtleSgnb3B0aW9uSGVpZ2h0Jywgc2l6ZSldOiBvcHRpb25IZWlnaHQsIFtjcmVhdGVLZXkoJ29wdGlvblBhZGRpbmcnLCBzaXplKV06IG9wdGlvblBhZGRpbmcgfSB9ID0gdGhlbWVSZWYudmFsdWU7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICctLW4taGVpZ2h0JzogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICctLW4tYWN0aW9uLWRpdmlkZXItY29sb3InOiBhY3Rpb25EaXZpZGVyQ29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1hY3Rpb24tdGV4dC1jb2xvcic6IGFjdGlvblRleHRDb2xvcixcbiAgICAgICAgICAgICAgICAnLS1uLWJlemllcic6IGN1YmljQmV6aWVyRWFzZUluT3V0LFxuICAgICAgICAgICAgICAgICctLW4tYm9yZGVyLXJhZGl1cyc6IGJvcmRlclJhZGl1cyxcbiAgICAgICAgICAgICAgICAnLS1uLWNvbG9yJzogY29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1vcHRpb24tZm9udC1zaXplJzogZm9udFNpemUsXG4gICAgICAgICAgICAgICAgJy0tbi1ncm91cC1oZWFkZXItdGV4dC1jb2xvcic6IGdyb3VwSGVhZGVyVGV4dENvbG9yLFxuICAgICAgICAgICAgICAgICctLW4tb3B0aW9uLWNoZWNrLWNvbG9yJzogb3B0aW9uQ2hlY2tDb2xvcixcbiAgICAgICAgICAgICAgICAnLS1uLW9wdGlvbi1jb2xvci1wZW5kaW5nJzogb3B0aW9uQ29sb3JQZW5kaW5nLFxuICAgICAgICAgICAgICAgICctLW4tb3B0aW9uLWNvbG9yLWFjdGl2ZSc6IG9wdGlvbkNvbG9yQWN0aXZlLFxuICAgICAgICAgICAgICAgICctLW4tb3B0aW9uLWhlaWdodCc6IG9wdGlvbkhlaWdodCxcbiAgICAgICAgICAgICAgICAnLS1uLW9wdGlvbi1vcGFjaXR5LWRpc2FibGVkJzogb3B0aW9uT3BhY2l0eURpc2FibGVkLFxuICAgICAgICAgICAgICAgICctLW4tb3B0aW9uLXRleHQtY29sb3InOiBvcHRpb25UZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1vcHRpb24tdGV4dC1jb2xvci1hY3RpdmUnOiBvcHRpb25UZXh0Q29sb3JBY3RpdmUsXG4gICAgICAgICAgICAgICAgJy0tbi1vcHRpb24tdGV4dC1jb2xvci1kaXNhYmxlZCc6IG9wdGlvblRleHRDb2xvckRpc2FibGVkLFxuICAgICAgICAgICAgICAgICctLW4tb3B0aW9uLXRleHQtY29sb3ItcHJlc3NlZCc6IG9wdGlvblRleHRDb2xvclByZXNzZWQsXG4gICAgICAgICAgICAgICAgJy0tbi1vcHRpb24tcGFkZGluZyc6IG9wdGlvblBhZGRpbmcsXG4gICAgICAgICAgICAgICAgJy0tbi1vcHRpb24tcGFkZGluZy1sZWZ0JzogZ2V0UGFkZGluZyhvcHRpb25QYWRkaW5nLCAnbGVmdCcpLFxuICAgICAgICAgICAgICAgICctLW4tbG9hZGluZy1jb2xvcic6IGxvYWRpbmdDb2xvcixcbiAgICAgICAgICAgICAgICAnLS1uLWxvYWRpbmctc2l6ZSc6IGxvYWRpbmdTaXplXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBpbmxpbmVUaGVtZURpc2FibGVkIH0gPSBwcm9wcztcbiAgICAgICAgY29uc3QgdGhlbWVDbGFzc0hhbmRsZSA9IGlubGluZVRoZW1lRGlzYWJsZWRcbiAgICAgICAgICAgID8gdXNlVGhlbWVDbGFzcygnaW50ZXJuYWwtc2VsZWN0LW1lbnUnLCBjb21wdXRlZCgoKSA9PiBwcm9wcy5zaXplWzBdKSwgY3NzVmFyc1JlZiwgcHJvcHMpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgZXhwb3NlZFByb3BzID0ge1xuICAgICAgICAgICAgc2VsZlJlZixcbiAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICBwcmV2LFxuICAgICAgICAgICAgZ2V0UGVuZGluZ1RtTm9kZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IG1lcmdlZFRoZW1lOiB0aGVtZVJlZiwgdmlydHVhbExpc3RSZWYsXG4gICAgICAgICAgICBzY3JvbGxiYXJSZWYsIGl0ZW1TaXplOiBpdGVtU2l6ZVJlZiwgcGFkZGluZzogcGFkZGluZ1JlZiwgZmxhdHRlbmVkTm9kZXM6IGZsYXR0ZW5lZE5vZGVzUmVmLCBlbXB0eTogZW1wdHlSZWYsIHZpcnR1YWxMaXN0Q29udGFpbmVyKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHZpcnR1YWxMaXN0UmVmO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUubGlzdEVsUmVmO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpcnR1YWxMaXN0Q29udGVudCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSB2aXJ0dWFsTGlzdFJlZjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlLml0ZW1zRWxSZWY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9TY3JvbGwsXG4gICAgICAgICAgICBoYW5kbGVGb2N1c2luLFxuICAgICAgICAgICAgaGFuZGxlRm9jdXNvdXQsXG4gICAgICAgICAgICBoYW5kbGVLZXlVcCxcbiAgICAgICAgICAgIGhhbmRsZUtleURvd24sXG4gICAgICAgICAgICBoYW5kbGVNb3VzZURvd24sXG4gICAgICAgICAgICBoYW5kbGVWaXJ0dWFsTGlzdFJlc2l6ZSxcbiAgICAgICAgICAgIGhhbmRsZVZpcnR1YWxMaXN0U2Nyb2xsLCBjc3NWYXJzOiBpbmxpbmVUaGVtZURpc2FibGVkID8gdW5kZWZpbmVkIDogY3NzVmFyc1JlZi52YWx1ZSwgdGhlbWVDbGFzczogdGhlbWVDbGFzc0hhbmRsZSA9PT0gbnVsbCB8fCB0aGVtZUNsYXNzSGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZUNsYXNzSGFuZGxlLnRoZW1lQ2xhc3MsIG9uUmVuZGVyOiB0aGVtZUNsYXNzSGFuZGxlID09PSBudWxsIHx8IHRoZW1lQ2xhc3NIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lQ2xhc3NIYW5kbGUub25SZW5kZXIgfSwgZXhwb3NlZFByb3BzKTtcbiAgICB9LFxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyAkc2xvdHMsIHZpcnR1YWxTY3JvbGwsIGNsc1ByZWZpeCwgbWVyZ2VkVGhlbWUsIHRoZW1lQ2xhc3MsIG9uUmVuZGVyIH0gPSB0aGlzO1xuICAgICAgICBvblJlbmRlciA9PT0gbnVsbCB8fCBvblJlbmRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25SZW5kZXIoKTtcbiAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgcmVmOiBcInNlbGZSZWZcIiwgdGFiaW5kZXg6IHRoaXMuZm9jdXNhYmxlID8gMCA6IC0xLCBjbGFzczogW1xuICAgICAgICAgICAgICAgIGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3QtbWVudWAsXG4gICAgICAgICAgICAgICAgdGhlbWVDbGFzcyxcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxlICYmIGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3QtbWVudS0tbXVsdGlwbGVgXG4gICAgICAgICAgICBdLCBzdHlsZTogW3sgd2lkdGg6IGZvcm1hdExlbmd0aCh0aGlzLndpZHRoKSB9LCB0aGlzLmNzc1ZhcnNdLCBvbkZvY3VzaW46IHRoaXMuaGFuZGxlRm9jdXNpbiwgb25Gb2N1c291dDogdGhpcy5oYW5kbGVGb2N1c291dCwgb25LZXl1cDogdGhpcy5oYW5kbGVLZXlVcCwgb25LZXlkb3duOiB0aGlzLmhhbmRsZUtleURvd24sIG9uTW91c2Vkb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93biwgb25Nb3VzZWVudGVyOiB0aGlzLm9uTW91c2VlbnRlciwgb25Nb3VzZWxlYXZlOiB0aGlzLm9uTW91c2VsZWF2ZSB9LFxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID8gKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdC1tZW51X19sb2FkaW5nYCB9LFxuICAgICAgICAgICAgICAgIGgoTkludGVybmFsTG9hZGluZywgeyBjbHNQcmVmaXg6IGNsc1ByZWZpeCwgc3Ryb2tlV2lkdGg6IDIwIH0pKSkgOiAhdGhpcy5lbXB0eSA/IChoKE5TY3JvbGxiYXIsIHsgcmVmOiBcInNjcm9sbGJhclJlZlwiLCB0aGVtZTogbWVyZ2VkVGhlbWUucGVlcnMuU2Nyb2xsYmFyLCB0aGVtZU92ZXJyaWRlczogbWVyZ2VkVGhlbWUucGVlck92ZXJyaWRlcy5TY3JvbGxiYXIsIHNjcm9sbGFibGU6IHRoaXMuc2Nyb2xsYWJsZSwgY29udGFpbmVyOiB2aXJ0dWFsU2Nyb2xsID8gdGhpcy52aXJ0dWFsTGlzdENvbnRhaW5lciA6IHVuZGVmaW5lZCwgY29udGVudDogdmlydHVhbFNjcm9sbCA/IHRoaXMudmlydHVhbExpc3RDb250ZW50IDogdW5kZWZpbmVkLCBvblNjcm9sbDogdmlydHVhbFNjcm9sbCA/IHVuZGVmaW5lZCA6IHRoaXMuZG9TY3JvbGwgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcnR1YWxTY3JvbGwgPyAoaChWaXJ0dWFsTGlzdCwgeyByZWY6IFwidmlydHVhbExpc3RSZWZcIiwgY2xhc3M6IGAke2Nsc1ByZWZpeH0tdmlydHVhbC1saXN0YCwgaXRlbXM6IHRoaXMuZmxhdHRlbmVkTm9kZXMsIGl0ZW1TaXplOiB0aGlzLml0ZW1TaXplLCBzaG93U2Nyb2xsYmFyOiBmYWxzZSwgcGFkZGluZ1RvcDogdGhpcy5wYWRkaW5nLnRvcCwgcGFkZGluZ0JvdHRvbTogdGhpcy5wYWRkaW5nLmJvdHRvbSwgb25SZXNpemU6IHRoaXMuaGFuZGxlVmlydHVhbExpc3RSZXNpemUsIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZVZpcnR1YWxMaXN0U2Nyb2xsLCBpdGVtUmVzaXphYmxlOiB0cnVlIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICh7IGl0ZW06IHRtTm9kZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRtTm9kZS5pc0dyb3VwID8gKGgoTlNlbGVjdEdyb3VwSGVhZGVyLCB7IGtleTogdG1Ob2RlLmtleSwgY2xzUHJlZml4OiBjbHNQcmVmaXgsIHRtTm9kZTogdG1Ob2RlIH0pKSA6IHRtTm9kZS5pZ25vcmVkID8gbnVsbCA6IChoKE5TZWxlY3RPcHRpb24sIHsgY2xzUHJlZml4OiBjbHNQcmVmaXgsIGtleTogdG1Ob2RlLmtleSwgdG1Ob2RlOiB0bU5vZGUgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSkgOiAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LW1lbnUtb3B0aW9uLXdyYXBwZXJgLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IHRoaXMucGFkZGluZy50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogdGhpcy5wYWRkaW5nLmJvdHRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LCB0aGlzLmZsYXR0ZW5lZE5vZGVzLm1hcCgodG1Ob2RlKSA9PiB0bU5vZGUuaXNHcm91cCA/IChoKE5TZWxlY3RHcm91cEhlYWRlciwgeyBrZXk6IHRtTm9kZS5rZXksIGNsc1ByZWZpeDogY2xzUHJlZml4LCB0bU5vZGU6IHRtTm9kZSB9KSkgOiAoaChOU2VsZWN0T3B0aW9uLCB7IGNsc1ByZWZpeDogY2xzUHJlZml4LCBrZXk6IHRtTm9kZS5rZXksIHRtTm9kZTogdG1Ob2RlIH0pKSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkgOiAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LW1lbnVfX2VtcHR5YCB9LCByZXNvbHZlU2xvdCgkc2xvdHMuZW1wdHksICgpID0+IFtcbiAgICAgICAgICAgICAgICBoKE5FbXB0eSwgeyB0aGVtZTogbWVyZ2VkVGhlbWUucGVlcnMuRW1wdHksIHRoZW1lT3ZlcnJpZGVzOiBtZXJnZWRUaGVtZS5wZWVyT3ZlcnJpZGVzLkVtcHR5IH0pXG4gICAgICAgICAgICBdKSkpLFxuICAgICAgICAgICAgcmVzb2x2ZVdyYXBwZWRTbG90KCRzbG90cy5hY3Rpb24sIChjaGlsZHJlbikgPT4gY2hpbGRyZW4gJiYgW1xuICAgICAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdC1tZW51X19hY3Rpb25gLCBcImRhdGEtYWN0aW9uXCI6IHRydWUsIGtleTogXCJhY3Rpb25cIiB9LCBjaGlsZHJlbiksXG4gICAgICAgICAgICAgICAgaChORm9jdXNEZXRlY3RvciwgeyBvbkZvY3VzOiB0aGlzLm9uVGFiT3V0LCBrZXk6IFwiZm9jdXMtZGV0ZWN0b3JcIiB9KVxuICAgICAgICAgICAgXSkpKTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGgsIGluamVjdCwgZGVmaW5lQ29tcG9uZW50LCBUcmFuc2l0aW9uIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICd2b29rcyc7XG5pbXBvcnQgeyBDaGVja21hcmtJY29uIH0gZnJvbSAnLi4vLi4vaWNvbnMnO1xuaW1wb3J0IE5CYXNlSWNvbiBmcm9tICcuLi8uLi9pY29uJztcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJy4uLy4uLy4uL191dGlscyc7XG5pbXBvcnQgeyBpbnRlcm5hbFNlbGVjdGlvbk1lbnVJbmplY3Rpb25LZXkgfSBmcm9tICcuL2ludGVyZmFjZSc7XG5jb25zdCBjaGVja01hcmtJY29uID0gaChDaGVja21hcmtJY29uKTtcbmZ1bmN0aW9uIHJlbmRlckNoZWNrTWFyayhzaG93LCBjbHNQcmVmaXgpIHtcbiAgICByZXR1cm4gKGgoVHJhbnNpdGlvbiwgeyBuYW1lOiBcImZhZGUtaW4tc2NhbGUtdXAtdHJhbnNpdGlvblwiIH0sIHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gc2hvdyA/IChoKE5CYXNlSWNvbiwgeyBjbHNQcmVmaXg6IGNsc1ByZWZpeCwgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Qtb3B0aW9uX19jaGVja2AgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gY2hlY2tNYXJrSWNvblxuICAgICAgICB9KSkgOiBudWxsXG4gICAgfSkpO1xufVxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnTkJhc2VTZWxlY3RPcHRpb24nLFxuICAgIHByb3BzOiB7XG4gICAgICAgIGNsc1ByZWZpeDoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdG1Ob2RlOiB7XG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXR1cChwcm9wcykge1xuICAgICAgICBjb25zdCB7IHZhbHVlUmVmLCBwZW5kaW5nVG1Ob2RlUmVmLCBtdWx0aXBsZVJlZiwgdmFsdWVTZXRSZWYsIHJlbmRlckxhYmVsUmVmLCByZW5kZXJPcHRpb25SZWYsIGhhbmRsZU9wdGlvbkNsaWNrLCBoYW5kbGVPcHRpb25Nb3VzZUVudGVyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICB9ID0gaW5qZWN0KGludGVybmFsU2VsZWN0aW9uTWVudUluamVjdGlvbktleSk7XG4gICAgICAgIGNvbnN0IGlzUGVuZGluZ1JlZiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogcGVuZGluZ1RtTm9kZSB9ID0gcGVuZGluZ1RtTm9kZVJlZjtcbiAgICAgICAgICAgIGlmICghcGVuZGluZ1RtTm9kZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHMudG1Ob2RlLmtleSA9PT0gcGVuZGluZ1RtTm9kZS5rZXk7XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhlKSB7XG4gICAgICAgICAgICBjb25zdCB7IHRtTm9kZSB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAodG1Ob2RlLmRpc2FibGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGhhbmRsZU9wdGlvbkNsaWNrKGUsIHRtTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcihlKSB7XG4gICAgICAgICAgICBjb25zdCB7IHRtTm9kZSB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAodG1Ob2RlLmRpc2FibGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGhhbmRsZU9wdGlvbk1vdXNlRW50ZXIoZSwgdG1Ob2RlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmUoZSkge1xuICAgICAgICAgICAgY29uc3QgeyB0bU5vZGUgfSA9IHByb3BzO1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogaXNQZW5kaW5nIH0gPSBpc1BlbmRpbmdSZWY7XG4gICAgICAgICAgICBpZiAodG1Ob2RlLmRpc2FibGVkIHx8IGlzUGVuZGluZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBoYW5kbGVPcHRpb25Nb3VzZUVudGVyKGUsIHRtTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZVJlZixcbiAgICAgICAgICAgIGlzR3JvdXBlZDogdXNlTWVtbygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0bU5vZGUgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGFyZW50IH0gPSB0bU5vZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQucmF3Tm9kZS50eXBlID09PSAnZ3JvdXAnO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBpc1BlbmRpbmc6IGlzUGVuZGluZ1JlZixcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHZhbHVlUmVmO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IG11bHRpcGxlIH0gPSBtdWx0aXBsZVJlZjtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IHByb3BzLnRtTm9kZS5yYXdOb2RlLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiB2YWx1ZVNldCB9ID0gdmFsdWVTZXRSZWY7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVNldC5oYXMob3B0aW9uVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBvcHRpb25WYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHJlbmRlckxhYmVsOiByZW5kZXJMYWJlbFJlZixcbiAgICAgICAgICAgIHJlbmRlck9wdGlvbjogcmVuZGVyT3B0aW9uUmVmLFxuICAgICAgICAgICAgaGFuZGxlTW91c2VNb3ZlLFxuICAgICAgICAgICAgaGFuZGxlTW91c2VFbnRlcixcbiAgICAgICAgICAgIGhhbmRsZUNsaWNrXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2xzUHJlZml4LCB0bU5vZGU6IHsgcmF3Tm9kZSB9LCBpc1NlbGVjdGVkLCBpc1BlbmRpbmcsIGlzR3JvdXBlZCwgbXVsdGlwbGUsIHJlbmRlck9wdGlvbiwgcmVuZGVyTGFiZWwsIGhhbmRsZUNsaWNrLCBoYW5kbGVNb3VzZUVudGVyLCBoYW5kbGVNb3VzZU1vdmUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNob3dDaGVja01hcmsgPSBtdWx0aXBsZSAmJiBpc1NlbGVjdGVkO1xuICAgICAgICBjb25zdCBjaGVja21hcmsgPSByZW5kZXJDaGVja01hcmsoc2hvd0NoZWNrTWFyaywgY2xzUHJlZml4KTtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSByZW5kZXJMYWJlbFxuICAgICAgICAgICAgPyBbcmVuZGVyTGFiZWwocmF3Tm9kZSwgaXNTZWxlY3RlZCksIGNoZWNrbWFya11cbiAgICAgICAgICAgIDogW3JlbmRlcihyYXdOb2RlLmxhYmVsLCByYXdOb2RlLCBpc1NlbGVjdGVkKSwgY2hlY2ttYXJrXTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IChoKFwiZGl2XCIsIHsgY2xhc3M6IFtcbiAgICAgICAgICAgICAgICBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LW9wdGlvbmAsXG4gICAgICAgICAgICAgICAgcmF3Tm9kZS5jbGFzcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LW9wdGlvbi0tZGlzYWJsZWRgXTogcmF3Tm9kZS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgW2Ake2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Qtb3B0aW9uLS1zZWxlY3RlZGBdOiBpc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICBbYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdC1vcHRpb24tLWdyb3VwZWRgXTogaXNHcm91cGVkLFxuICAgICAgICAgICAgICAgICAgICBbYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdC1vcHRpb24tLXBlbmRpbmdgXTogaXNQZW5kaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSwgc3R5bGU6IHJhd05vZGUuc3R5bGUsIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLCBvbk1vdXNlZW50ZXI6IGhhbmRsZU1vdXNlRW50ZXIsIG9uTW91c2Vtb3ZlOiBoYW5kbGVNb3VzZU1vdmUgfSxcbiAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdC1vcHRpb25fX2NvbnRlbnRgIH0sIGNoaWxkcmVuKSkpO1xuICAgICAgICByZXR1cm4gcmF3Tm9kZS5yZW5kZXJcbiAgICAgICAgICAgID8gcmF3Tm9kZS5yZW5kZXIoeyBub2RlLCBvcHRpb246IHJhd05vZGUsIHNlbGVjdGVkOiBpc1NlbGVjdGVkIH0pXG4gICAgICAgICAgICA6IHJlbmRlck9wdGlvblxuICAgICAgICAgICAgICAgID8gcmVuZGVyT3B0aW9uKHsgbm9kZSwgb3B0aW9uOiByYXdOb2RlLCBzZWxlY3RlZDogaXNTZWxlY3RlZCB9KVxuICAgICAgICAgICAgICAgIDogbm9kZTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGMsIGNCLCBjRSwgY00sIGNOb3RNIH0gZnJvbSAnLi4vLi4vLi4vLi4vX3V0aWxzL2Nzc3InO1xuaW1wb3J0IGZhZGVJblNjYWxlVXBUcmFuc2l0aW9uIGZyb20gJy4uLy4uLy4uLy4uL19zdHlsZXMvdHJhbnNpdGlvbnMvZmFkZS1pbi1zY2FsZS11cC5jc3NyJzsgLy8gLS1uLWxvYWRpbmctY29sb3Jcbi8vIC0tbi1sb2FkaW5nLXNpemVcblxuZXhwb3J0IGRlZmF1bHQgY0IoJ2Jhc2Utc2VsZWN0LW1lbnUnLCBgXG4gbGluZS1oZWlnaHQ6IDEuNTtcbiBvdXRsaW5lOiBub25lO1xuIHotaW5kZXg6IDA7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIGJvcmRlci1yYWRpdXM6IHZhcigtLW4tYm9yZGVyLXJhZGl1cyk7XG4gdHJhbnNpdGlvbjpcbiBiYWNrZ3JvdW5kLWNvbG9yIC4zcyB2YXIoLS1uLWJlemllciksXG4gYm94LXNoYWRvdyAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3IpO1xuYCwgW2NNKCdtdWx0aXBsZScsIFtjQignYmFzZS1zZWxlY3Qtb3B0aW9uJywgYFxuIHBhZGRpbmctcmlnaHQ6IDI4cHg7XG4gYCldKSwgY0IoJ3Njcm9sbGJhcicsIGBcbiBtYXgtaGVpZ2h0OiB2YXIoLS1uLWhlaWdodCk7XG4gYCksIGNCKCd2aXJ0dWFsLWxpc3QnLCBgXG4gbWF4LWhlaWdodDogdmFyKC0tbi1oZWlnaHQpO1xuIGApLCBjQignYmFzZS1zZWxlY3Qtb3B0aW9uJywgYFxuIG1pbi1oZWlnaHQ6IHZhcigtLW4tb3B0aW9uLWhlaWdodCk7XG4gZm9udC1zaXplOiB2YXIoLS1uLW9wdGlvbi1mb250LXNpemUpO1xuIGRpc3BsYXk6IGZsZXg7XG4gYWxpZ24taXRlbXM6IGNlbnRlcjtcbiBgLCBbY0UoJ2NvbnRlbnQnLCBgXG4gd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiBvdmVyZmxvdzogaGlkZGVuO1xuIGApXSksIGNCKCdiYXNlLXNlbGVjdC1ncm91cC1oZWFkZXInLCBgXG4gbWluLWhlaWdodDogdmFyKC0tbi1vcHRpb24taGVpZ2h0KTtcbiBmb250LXNpemU6IC45M2VtO1xuIGRpc3BsYXk6IGZsZXg7XG4gYWxpZ24taXRlbXM6IGNlbnRlcjtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0LW1lbnUtb3B0aW9uLXdyYXBwZXInLCBgXG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIHdpZHRoOiAxMDAlO1xuIGApLCBjRSgnbG9hZGluZywgZW1wdHknLCBgXG4gZGlzcGxheTogZmxleDtcbiBwYWRkaW5nOiAxMnB4IDMycHg7XG4gZmxleDogMTtcbiBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiBgKSwgY0UoJ2xvYWRpbmcnLCBgXG4gY29sb3I6IHZhcigtLW4tbG9hZGluZy1jb2xvcik7XG4gZm9udC1zaXplOiB2YXIoLS1uLWxvYWRpbmctc2l6ZSk7XG4gYCksIGNFKCdhY3Rpb24nLCBgXG4gcGFkZGluZzogOHB4IHZhcigtLW4tb3B0aW9uLXBhZGRpbmctbGVmdCk7XG4gZm9udC1zaXplOiB2YXIoLS1uLW9wdGlvbi1mb250LXNpemUpO1xuIHRyYW5zaXRpb246IFxuIGNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYm9yZGVyLWNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLW4tYWN0aW9uLWRpdmlkZXItY29sb3IpO1xuIGNvbG9yOiB2YXIoLS1uLWFjdGlvbi10ZXh0LWNvbG9yKTtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0LWdyb3VwLWhlYWRlcicsIGBcbiBwb3NpdGlvbjogcmVsYXRpdmU7XG4gY3Vyc29yOiBkZWZhdWx0O1xuIHBhZGRpbmc6IHZhcigtLW4tb3B0aW9uLXBhZGRpbmcpO1xuIGNvbG9yOiB2YXIoLS1uLWdyb3VwLWhlYWRlci10ZXh0LWNvbG9yKTtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0LW9wdGlvbicsIGBcbiBjdXJzb3I6IHBvaW50ZXI7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIHBhZGRpbmc6IHZhcigtLW4tb3B0aW9uLXBhZGRpbmcpO1xuIHRyYW5zaXRpb246XG4gYmFja2dyb3VuZC1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGNvbG9yIC4zcyB2YXIoLS1uLWJlemllciksXG4gb3BhY2l0eSAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gY29sb3I6IHZhcigtLW4tb3B0aW9uLXRleHQtY29sb3IpO1xuIG9wYWNpdHk6IDE7XG4gYCwgW2MoJyY6YWN0aXZlJywgYFxuIGNvbG9yOiB2YXIoLS1uLW9wdGlvbi10ZXh0LWNvbG9yLXByZXNzZWQpO1xuIGApLCBjTSgnZ3JvdXBlZCcsIGBcbiBwYWRkaW5nLWxlZnQ6IGNhbGModmFyKC0tbi1vcHRpb24tcGFkZGluZy1sZWZ0KSAqIDEuNSk7XG4gYCksIGNNKCdwZW5kaW5nJywgYFxuIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tb3B0aW9uLWNvbG9yLXBlbmRpbmcpO1xuIGApLCBjTSgnc2VsZWN0ZWQnLCBgXG4gY29sb3I6IHZhcigtLW4tb3B0aW9uLXRleHQtY29sb3ItYWN0aXZlKTtcbiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLW9wdGlvbi1jb2xvci1hY3RpdmUpO1xuIGApLCBjTSgnZGlzYWJsZWQnLCBgXG4gY3Vyc29yOiBub3QtYWxsb3dlZDtcbiBgLCBbY05vdE0oJ3NlbGVjdGVkJywgYFxuIGNvbG9yOiB2YXIoLS1uLW9wdGlvbi10ZXh0LWNvbG9yLWRpc2FibGVkKTtcbiBgKSwgY00oJ3NlbGVjdGVkJywgYFxuIG9wYWNpdHk6IHZhcigtLW4tb3B0aW9uLW9wYWNpdHktZGlzYWJsZWQpO1xuIGApXSksIGNFKCdjaGVjaycsIGBcbiBmb250LXNpemU6IDE2cHg7XG4gcG9zaXRpb246IGFic29sdXRlO1xuIHJpZ2h0OiA4cHg7XG4gdG9wOiBjYWxjKDUwJSAtIDdweCk7XG4gY29sb3I6IHZhcigtLW4tb3B0aW9uLWNoZWNrLWNvbG9yKTtcbiB0cmFuc2l0aW9uOiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGAsIFtmYWRlSW5TY2FsZVVwVHJhbnNpdGlvbih7XG4gIGVudGVyU2NhbGU6ICcwLjUnXG59KV0pXSldKTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgaGVpZ2h0OiAnY2FsYyh2YXIoLS1uLW9wdGlvbi1oZWlnaHQpICogNy42KScsXG4gICAgcGFkZGluZ1NtYWxsOiAnNHB4IDAnLFxuICAgIHBhZGRpbmdNZWRpdW06ICc0cHggMCcsXG4gICAgcGFkZGluZ0xhcmdlOiAnNHB4IDAnLFxuICAgIHBhZGRpbmdIdWdlOiAnNHB4IDAnLFxuICAgIG9wdGlvblBhZGRpbmdTbWFsbDogJzAgMTJweCcsXG4gICAgb3B0aW9uUGFkZGluZ01lZGl1bTogJzAgMTJweCcsXG4gICAgb3B0aW9uUGFkZGluZ0xhcmdlOiAnMCAxMnB4JyxcbiAgICBvcHRpb25QYWRkaW5nSHVnZTogJzAgMTJweCcsXG4gICAgbG9hZGluZ1NpemU6ICcxOHB4J1xufTtcbiIsImltcG9ydCB7IGVtcHR5TGlnaHQgfSBmcm9tICcuLi8uLi8uLi9lbXB0eS9zdHlsZXMnO1xuaW1wb3J0IHsgc2Nyb2xsYmFyTGlnaHQgfSBmcm9tICcuLi8uLi9zY3JvbGxiYXIvc3R5bGVzJztcbmltcG9ydCB7IGNvbW1vbkxpZ2h0IH0gZnJvbSAnLi4vLi4vLi4vX3N0eWxlcy9jb21tb24nO1xuaW1wb3J0IGNvbW1vblZhcmlhYmxlcyBmcm9tICcuL19jb21tb24nO1xuaW1wb3J0IHsgY3JlYXRlVGhlbWUgfSBmcm9tICcuLi8uLi8uLi9fbWl4aW5zJztcbmV4cG9ydCBjb25zdCBzZWxmID0gKHZhcnMpID0+IHtcbiAgICBjb25zdCB7IGJvcmRlclJhZGl1cywgcG9wb3ZlckNvbG9yLCB0ZXh0Q29sb3IzLCBkaXZpZGVyQ29sb3IsIHRleHRDb2xvcjIsIHByaW1hcnlDb2xvclByZXNzZWQsIHRleHRDb2xvckRpc2FibGVkLCBwcmltYXJ5Q29sb3IsIG9wYWNpdHlEaXNhYmxlZCwgaG92ZXJDb2xvciwgZm9udFNpemVTbWFsbCwgZm9udFNpemVNZWRpdW0sIGZvbnRTaXplTGFyZ2UsIGZvbnRTaXplSHVnZSwgaGVpZ2h0U21hbGwsIGhlaWdodE1lZGl1bSwgaGVpZ2h0TGFyZ2UsIGhlaWdodEh1Z2UgfSA9IHZhcnM7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uVmFyaWFibGVzKSwgeyBvcHRpb25Gb250U2l6ZVNtYWxsOiBmb250U2l6ZVNtYWxsLCBvcHRpb25Gb250U2l6ZU1lZGl1bTogZm9udFNpemVNZWRpdW0sIG9wdGlvbkZvbnRTaXplTGFyZ2U6IGZvbnRTaXplTGFyZ2UsIG9wdGlvbkZvbnRTaXplSHVnZTogZm9udFNpemVIdWdlLCBvcHRpb25IZWlnaHRTbWFsbDogaGVpZ2h0U21hbGwsIG9wdGlvbkhlaWdodE1lZGl1bTogaGVpZ2h0TWVkaXVtLCBvcHRpb25IZWlnaHRMYXJnZTogaGVpZ2h0TGFyZ2UsIG9wdGlvbkhlaWdodEh1Z2U6IGhlaWdodEh1Z2UsIGJvcmRlclJhZGl1czogYm9yZGVyUmFkaXVzLCBjb2xvcjogcG9wb3ZlckNvbG9yLCBncm91cEhlYWRlclRleHRDb2xvcjogdGV4dENvbG9yMywgYWN0aW9uRGl2aWRlckNvbG9yOiBkaXZpZGVyQ29sb3IsIG9wdGlvblRleHRDb2xvcjogdGV4dENvbG9yMiwgb3B0aW9uVGV4dENvbG9yUHJlc3NlZDogcHJpbWFyeUNvbG9yUHJlc3NlZCwgb3B0aW9uVGV4dENvbG9yRGlzYWJsZWQ6IHRleHRDb2xvckRpc2FibGVkLCBvcHRpb25UZXh0Q29sb3JBY3RpdmU6IHByaW1hcnlDb2xvciwgb3B0aW9uT3BhY2l0eURpc2FibGVkOiBvcGFjaXR5RGlzYWJsZWQsIG9wdGlvbkNoZWNrQ29sb3I6IHByaW1hcnlDb2xvciwgb3B0aW9uQ29sb3JQZW5kaW5nOiBob3ZlckNvbG9yLCBvcHRpb25Db2xvckFjdGl2ZTogaG92ZXJDb2xvciwgYWN0aW9uVGV4dENvbG9yOiB0ZXh0Q29sb3IyLCBsb2FkaW5nQ29sb3I6IHByaW1hcnlDb2xvciB9KTtcbn07XG5jb25zdCBpbnRlcm5hbFNlbGVjdE1lbnVMaWdodCA9IGNyZWF0ZVRoZW1lKHtcbiAgICBuYW1lOiAnSW50ZXJuYWxTZWxlY3RNZW51JyxcbiAgICBjb21tb246IGNvbW1vbkxpZ2h0LFxuICAgIHBlZXJzOiB7XG4gICAgICAgIFNjcm9sbGJhcjogc2Nyb2xsYmFyTGlnaHQsXG4gICAgICAgIEVtcHR5OiBlbXB0eUxpZ2h0XG4gICAgfSxcbiAgICBzZWxmXG59KTtcbmV4cG9ydCBkZWZhdWx0IGludGVybmFsU2VsZWN0TWVudUxpZ2h0O1xuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqL1xuaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50LCBGcmFnbWVudCwgcmVmLCBjb21wdXRlZCwgd2F0Y2gsIHRvUmVmLCBuZXh0VGljaywgd2F0Y2hFZmZlY3QsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBWT3ZlcmZsb3cgfSBmcm9tICd2dWV1Yyc7XG5pbXBvcnQgeyBOUG9wb3ZlciB9IGZyb20gJy4uLy4uLy4uL3BvcG92ZXInO1xuaW1wb3J0IHsgTlRhZyB9IGZyb20gJy4uLy4uLy4uL3RhZyc7XG5pbXBvcnQgeyB1c2VUaGVtZUNsYXNzLCB1c2VUaGVtZSB9IGZyb20gJy4uLy4uLy4uL19taXhpbnMnO1xuaW1wb3J0IHsgY3JlYXRlS2V5LCBnZXRUaXRsZUF0dHJpYnV0ZSwgcmVuZGVyIH0gZnJvbSAnLi4vLi4vLi4vX3V0aWxzJztcbmltcG9ydCBTdWZmaXggZnJvbSAnLi4vLi4vc3VmZml4JztcbmltcG9ydCB7IGludGVybmFsU2VsZWN0aW9uTGlnaHQgfSBmcm9tICcuLi9zdHlsZXMnO1xuaW1wb3J0IHN0eWxlIGZyb20gJy4vc3R5bGVzL2luZGV4LmNzc3InO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnSW50ZXJuYWxTZWxlY3Rpb24nLFxuICAgIHByb3BzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHVzZVRoZW1lLnByb3BzKSwgeyBjbHNQcmVmaXg6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sIGJvcmRlcmVkOiB7XG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gICAgICAgIH0sIGFjdGl2ZTogQm9vbGVhbiwgcGF0dGVybjoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgZGVmYXVsdDogJydcbiAgICAgICAgfSwgcGxhY2Vob2xkZXI6IFN0cmluZywgc2VsZWN0ZWRPcHRpb246IHtcbiAgICAgICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICAgICAgfSwgc2VsZWN0ZWRPcHRpb25zOiB7XG4gICAgICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICAgICAgfSwgbXVsdGlwbGU6IEJvb2xlYW4sIGZpbHRlcmFibGU6IEJvb2xlYW4sIGNsZWFyYWJsZTogQm9vbGVhbiwgZGlzYWJsZWQ6IEJvb2xlYW4sIHNpemU6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdtZWRpdW0nXG4gICAgICAgIH0sIGxvYWRpbmc6IEJvb2xlYW4sIGF1dG9mb2N1czogQm9vbGVhbiwgc2hvd0Fycm93OiB7XG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgICAgICB9LCBpbnB1dFByb3BzOiBPYmplY3QsIGZvY3VzZWQ6IEJvb2xlYW4sIHJlbmRlclRhZzogRnVuY3Rpb24sIG9uS2V5dXA6IEZ1bmN0aW9uLCBvbktleWRvd246IEZ1bmN0aW9uLCBvbkNsaWNrOiBGdW5jdGlvbiwgb25CbHVyOiBGdW5jdGlvbiwgb25Gb2N1czogRnVuY3Rpb24sIG9uRGVsZXRlT3B0aW9uOiBGdW5jdGlvbiwgbWF4VGFnQ291bnQ6IFtTdHJpbmcsIE51bWJlcl0sIG9uQ2xlYXI6IEZ1bmN0aW9uLCBvblBhdHRlcm5JbnB1dDogRnVuY3Rpb24sIG9uUGF0dGVybkZvY3VzOiBGdW5jdGlvbiwgb25QYXR0ZXJuQmx1cjogRnVuY3Rpb24sIHJlbmRlckxhYmVsOiBGdW5jdGlvbiwgc3RhdHVzOiBTdHJpbmcsIGlubGluZVRoZW1lRGlzYWJsZWQ6IEJvb2xlYW4gfSksXG4gICAgc2V0dXAocHJvcHMpIHtcbiAgICAgICAgY29uc3QgcGF0dGVybklucHV0TWlycm9yUmVmID0gcmVmKG51bGwpO1xuICAgICAgICBjb25zdCBwYXR0ZXJuSW5wdXRSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IHNlbGZSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IG11bHRpcGxlRWxSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IHNpbmdsZUVsUmVmID0gcmVmKG51bGwpO1xuICAgICAgICBjb25zdCBwYXR0ZXJuSW5wdXRXcmFwcGVyUmVmID0gcmVmKG51bGwpO1xuICAgICAgICBjb25zdCBjb3VudGVyUmVmID0gcmVmKG51bGwpO1xuICAgICAgICBjb25zdCBjb3VudGVyV3JhcHBlclJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgY29uc3Qgb3ZlcmZsb3dSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IGlucHV0VGFnRWxSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IHNob3dUYWdzUG9wb3ZlclJlZiA9IHJlZihmYWxzZSk7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5JbnB1dEZvY3VzZWRSZWYgPSByZWYoZmFsc2UpO1xuICAgICAgICBjb25zdCBob3ZlclJlZiA9IHJlZihmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRoZW1lUmVmID0gdXNlVGhlbWUoJ0ludGVybmFsU2VsZWN0aW9uJywgJy1pbnRlcm5hbC1zZWxlY3Rpb24nLCBzdHlsZSwgaW50ZXJuYWxTZWxlY3Rpb25MaWdodCwgcHJvcHMsIHRvUmVmKHByb3BzLCAnY2xzUHJlZml4JykpO1xuICAgICAgICBjb25zdCBtZXJnZWRDbGVhcmFibGVSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHByb3BzLmNsZWFyYWJsZSAmJiAhcHJvcHMuZGlzYWJsZWQgJiYgKGhvdmVyUmVmLnZhbHVlIHx8IHByb3BzLmFjdGl2ZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZmlsdGVyYWJsZVBsYWNlaG9sZGVyUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHByb3BzLnNlbGVjdGVkT3B0aW9uXG4gICAgICAgICAgICAgICAgPyBwcm9wcy5yZW5kZXJUYWdcbiAgICAgICAgICAgICAgICAgICAgPyBwcm9wcy5yZW5kZXJUYWcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uOiBwcm9wcy5zZWxlY3RlZE9wdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNsb3NlOiAoKSA9PiB7IH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBwcm9wcy5yZW5kZXJMYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwcm9wcy5yZW5kZXJMYWJlbChwcm9wcy5zZWxlY3RlZE9wdGlvbiwgdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVuZGVyKHByb3BzLnNlbGVjdGVkT3B0aW9uLmxhYmVsLCBwcm9wcy5zZWxlY3RlZE9wdGlvbiwgdHJ1ZSlcbiAgICAgICAgICAgICAgICA6IHByb3BzLnBsYWNlaG9sZGVyO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbGFiZWxSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBwcm9wcy5zZWxlY3RlZE9wdGlvbjtcbiAgICAgICAgICAgIGlmICghb3B0aW9uKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLmxhYmVsO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISEoQXJyYXkuaXNBcnJheShwcm9wcy5zZWxlY3RlZE9wdGlvbnMpICYmIHByb3BzLnNlbGVjdGVkT3B0aW9ucy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzLnNlbGVjdGVkT3B0aW9uICE9PSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZnVuY3Rpb24gc3luY01pcnJvcldpZHRoKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogcGF0dGVybklucHV0TWlycm9yRWwgfSA9IHBhdHRlcm5JbnB1dE1pcnJvclJlZjtcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuSW5wdXRNaXJyb3JFbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHBhdHRlcm5JbnB1dEVsIH0gPSBwYXR0ZXJuSW5wdXRSZWY7XG4gICAgICAgICAgICAgICAgaWYgKHBhdHRlcm5JbnB1dEVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm5JbnB1dEVsLnN0eWxlLndpZHRoID0gYCR7cGF0dGVybklucHV0TWlycm9yRWwub2Zmc2V0V2lkdGh9cHhgO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMubWF4VGFnQ291bnQgIT09ICdyZXNwb25zaXZlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gb3ZlcmZsb3dSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zeW5jKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGlkZUlucHV0VGFnKCkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogaW5wdXRUYWdFbCB9ID0gaW5wdXRUYWdFbFJlZjtcbiAgICAgICAgICAgIGlmIChpbnB1dFRhZ0VsKVxuICAgICAgICAgICAgICAgIGlucHV0VGFnRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzaG93SW5wdXRUYWcoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBpbnB1dFRhZ0VsIH0gPSBpbnB1dFRhZ0VsUmVmO1xuICAgICAgICAgICAgaWYgKGlucHV0VGFnRWwpXG4gICAgICAgICAgICAgICAgaW5wdXRUYWdFbC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgIH1cbiAgICAgICAgd2F0Y2godG9SZWYocHJvcHMsICdhY3RpdmUnKSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgICAgIGhpZGVJbnB1dFRhZygpO1xuICAgICAgICB9KTtcbiAgICAgICAgd2F0Y2godG9SZWYocHJvcHMsICdwYXR0ZXJuJyksICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIHZvaWQgbmV4dFRpY2soc3luY01pcnJvcldpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIGRvRm9jdXMoZSkge1xuICAgICAgICAgICAgY29uc3QgeyBvbkZvY3VzIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmIChvbkZvY3VzKVxuICAgICAgICAgICAgICAgIG9uRm9jdXMoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZG9CbHVyKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25CbHVyIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmIChvbkJsdXIpXG4gICAgICAgICAgICAgICAgb25CbHVyKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRvRGVsZXRlT3B0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9uRGVsZXRlT3B0aW9uIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmIChvbkRlbGV0ZU9wdGlvbilcbiAgICAgICAgICAgICAgICBvbkRlbGV0ZU9wdGlvbih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZG9DbGVhcihlKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9uQ2xlYXIgfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKG9uQ2xlYXIpXG4gICAgICAgICAgICAgICAgb25DbGVhcihlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkb1BhdHRlcm5JbnB1dCh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgeyBvblBhdHRlcm5JbnB1dCB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAob25QYXR0ZXJuSW5wdXQpXG4gICAgICAgICAgICAgICAgb25QYXR0ZXJuSW5wdXQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzaW4oZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFlLnJlbGF0ZWRUYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAhKChfYSA9IHNlbGZSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSkge1xuICAgICAgICAgICAgICAgIGRvRm9jdXMoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRm9jdXNvdXQoZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKChfYSA9IHNlbGZSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRvQmx1cihlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVDbGVhcihlKSB7XG4gICAgICAgICAgICBkb0NsZWFyKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgICAgICAgICBob3ZlclJlZi52YWx1ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcbiAgICAgICAgICAgIGhvdmVyUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGUpIHtcbiAgICAgICAgICAgIGlmICghcHJvcHMuYWN0aXZlIHx8ICFwcm9wcy5maWx0ZXJhYmxlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gcGF0dGVybklucHV0UmVmLnZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVEZWxldGVPcHRpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICBkb0RlbGV0ZU9wdGlvbihvcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVBhdHRlcm5LZXlEb3duKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmNvZGUgPT09ICdCYWNrc3BhY2UnICYmICFpc0NvbXBvc2l0aW5nUmVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wcy5wYXR0ZXJuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNlbGVjdGVkT3B0aW9ucyB9ID0gcHJvcHM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbnMgPT09IG51bGwgfHwgc2VsZWN0ZWRPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZE9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZWxldGVPcHRpb24oc2VsZWN0ZWRPcHRpb25zW3NlbGVjdGVkT3B0aW9ucy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNDb21wb3NpdGluZ1JlZiA9IHJlZihmYWxzZSk7XG4gICAgICAgIC8vIHRoZSBjb21wb3NpdGlvbiBlbmQgaXMgbGF0ZXIgdGhhbiBpdHMgaW5wdXQgc28gd2UgY2FuIGNhY2hlZCB0aGUgZXZlbnRcbiAgICAgICAgLy8gYW5kIHJldHVybiB0aGUgaW5wdXQgZXZlbnRcbiAgICAgICAgbGV0IGNhY2hlZElucHV0RXZlbnQgPSBudWxsO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVQYXR0ZXJuSW5wdXRJbnB1dChlKSB7XG4gICAgICAgICAgICAvLyB3ZSBzaG91bGQgc3luYyBtaXJyb3Igd2lkdGggaGVyZVxuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogcGF0dGVybklucHV0TWlycm9yRWwgfSA9IHBhdHRlcm5JbnB1dE1pcnJvclJlZjtcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuSW5wdXRNaXJyb3JFbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0VGV4dCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHBhdHRlcm5JbnB1dE1pcnJvckVsLnRleHRDb250ZW50ID0gaW5wdXRUZXh0O1xuICAgICAgICAgICAgICAgIHN5bmNNaXJyb3JXaWR0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0NvbXBvc2l0aW5nUmVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZG9QYXR0ZXJuSW5wdXQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWNoZWRJbnB1dEV2ZW50ID0gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVDb21wb3NpdGlvblN0YXJ0KCkge1xuICAgICAgICAgICAgaXNDb21wb3NpdGluZ1JlZi52YWx1ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ29tcG9zaXRpb25FbmQoKSB7XG4gICAgICAgICAgICBpc0NvbXBvc2l0aW5nUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICBkb1BhdHRlcm5JbnB1dChjYWNoZWRJbnB1dEV2ZW50KTtcbiAgICAgICAgICAgIGNhY2hlZElucHV0RXZlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVBhdHRlcm5JbnB1dEZvY3VzKGUpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHBhdHRlcm5JbnB1dEZvY3VzZWRSZWYudmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgKF9hID0gcHJvcHMub25QYXR0ZXJuRm9jdXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVQYXR0ZXJuSW5wdXRCbHVyKGUpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHBhdHRlcm5JbnB1dEZvY3VzZWRSZWYudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIChfYSA9IHByb3BzLm9uUGF0dGVybkJsdXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBibHVyKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmIChwcm9wcy5maWx0ZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybklucHV0Rm9jdXNlZFJlZi52YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIChfYSA9IHBhdHRlcm5JbnB1dFdyYXBwZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgKF9iID0gcGF0dGVybklucHV0UmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmx1cigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBtdWx0aXBsZUVsIH0gPSBtdWx0aXBsZUVsUmVmO1xuICAgICAgICAgICAgICAgIG11bHRpcGxlRWwgPT09IG51bGwgfHwgbXVsdGlwbGVFbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbXVsdGlwbGVFbC5ibHVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBzaW5nbGVFbCB9ID0gc2luZ2xlRWxSZWY7XG4gICAgICAgICAgICAgICAgc2luZ2xlRWwgPT09IG51bGwgfHwgc2luZ2xlRWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpbmdsZUVsLmJsdXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBmb2N1cygpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgaWYgKHByb3BzLmZpbHRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuSW5wdXRGb2N1c2VkUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgKF9hID0gcGF0dGVybklucHV0V3JhcHBlclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIChfYiA9IG11bHRpcGxlRWxSZWYudmFsdWUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKF9jID0gc2luZ2xlRWxSZWYudmFsdWUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGZvY3VzSW5wdXQoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBwYXR0ZXJuSW5wdXRFbCB9ID0gcGF0dGVybklucHV0UmVmO1xuICAgICAgICAgICAgaWYgKHBhdHRlcm5JbnB1dEVsKSB7XG4gICAgICAgICAgICAgICAgc2hvd0lucHV0VGFnKCk7XG4gICAgICAgICAgICAgICAgcGF0dGVybklucHV0RWwuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBibHVySW5wdXQoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBwYXR0ZXJuSW5wdXRFbCB9ID0gcGF0dGVybklucHV0UmVmO1xuICAgICAgICAgICAgaWYgKHBhdHRlcm5JbnB1dEVsKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybklucHV0RWwuYmx1cigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdW50ZXIoY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGNvdW50ZXJSZWY7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5zZXRUZXh0Q29udGVudChgKyR7Y291bnR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q291bnRlcigpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGNvdW50ZXJXcmFwcGVyUmVmO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldFRhaWwoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0dGVybklucHV0UmVmLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbnRlclRpbWVySWQgPSBudWxsO1xuICAgICAgICBmdW5jdGlvbiBjbGVhckVudGVyVGltZXIoKSB7XG4gICAgICAgICAgICBpZiAoZW50ZXJUaW1lcklkICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZW50ZXJUaW1lcklkKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyQ291bnRlcigpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5hY3RpdmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2xlYXJFbnRlclRpbWVyKCk7XG4gICAgICAgICAgICBlbnRlclRpbWVySWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2hvd1RhZ3NQb3BvdmVyUmVmLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZUNvdW50ZXIoKSB7XG4gICAgICAgICAgICBjbGVhckVudGVyVGltZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBvblBvcG92ZXJVcGRhdGVTaG93KHNob3cpIHtcbiAgICAgICAgICAgIGlmICghc2hvdykge1xuICAgICAgICAgICAgICAgIGNsZWFyRW50ZXJUaW1lcigpO1xuICAgICAgICAgICAgICAgIHNob3dUYWdzUG9wb3ZlclJlZi52YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICAgICAgICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0dGVybklucHV0V3JhcHBlckVsID0gcGF0dGVybklucHV0V3JhcHBlclJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhdHRlcm5JbnB1dFdyYXBwZXJFbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHBhdHRlcm5JbnB1dFdyYXBwZXJFbC50YWJJbmRleCA9XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmRpc2FibGVkIHx8IHBhdHRlcm5JbnB1dEZvY3VzZWRSZWYudmFsdWUgPyAtMSA6IDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgaW5saW5lVGhlbWVEaXNhYmxlZCB9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IGNzc1ZhcnNSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNpemUgfSA9IHByb3BzO1xuICAgICAgICAgICAgY29uc3QgeyBjb21tb246IHsgY3ViaWNCZXppZXJFYXNlSW5PdXQgfSwgc2VsZjogeyBib3JkZXJSYWRpdXMsIGNvbG9yLCBwbGFjZWhvbGRlckNvbG9yLCB0ZXh0Q29sb3IsIHBhZGRpbmdTaW5nbGUsIHBhZGRpbmdNdWx0aXBsZSwgY2FyZXRDb2xvciwgY29sb3JEaXNhYmxlZCwgdGV4dENvbG9yRGlzYWJsZWQsIHBsYWNlaG9sZGVyQ29sb3JEaXNhYmxlZCwgY29sb3JBY3RpdmUsIGJveFNoYWRvd0ZvY3VzLCBib3hTaGFkb3dBY3RpdmUsIGJveFNoYWRvd0hvdmVyLCBib3JkZXIsIGJvcmRlckZvY3VzLCBib3JkZXJIb3ZlciwgYm9yZGVyQWN0aXZlLCBhcnJvd0NvbG9yLCBhcnJvd0NvbG9yRGlzYWJsZWQsIGxvYWRpbmdDb2xvciwgXG4gICAgICAgICAgICAvLyBmb3JtIHdhcm5pbmdcbiAgICAgICAgICAgIGNvbG9yQWN0aXZlV2FybmluZywgYm94U2hhZG93Rm9jdXNXYXJuaW5nLCBib3hTaGFkb3dBY3RpdmVXYXJuaW5nLCBib3hTaGFkb3dIb3Zlcldhcm5pbmcsIGJvcmRlcldhcm5pbmcsIGJvcmRlckZvY3VzV2FybmluZywgYm9yZGVySG92ZXJXYXJuaW5nLCBib3JkZXJBY3RpdmVXYXJuaW5nLCBcbiAgICAgICAgICAgIC8vIGZvcm0gZXJyb3JcbiAgICAgICAgICAgIGNvbG9yQWN0aXZlRXJyb3IsIGJveFNoYWRvd0ZvY3VzRXJyb3IsIGJveFNoYWRvd0FjdGl2ZUVycm9yLCBib3hTaGFkb3dIb3ZlckVycm9yLCBib3JkZXJFcnJvciwgYm9yZGVyRm9jdXNFcnJvciwgYm9yZGVySG92ZXJFcnJvciwgYm9yZGVyQWN0aXZlRXJyb3IsIFxuICAgICAgICAgICAgLy8gY2xlYXJcbiAgICAgICAgICAgIGNsZWFyQ29sb3IsIGNsZWFyQ29sb3JIb3ZlciwgY2xlYXJDb2xvclByZXNzZWQsIGNsZWFyU2l6ZSwgXG4gICAgICAgICAgICAvLyBhcnJvd1xuICAgICAgICAgICAgYXJyb3dTaXplLCBbY3JlYXRlS2V5KCdoZWlnaHQnLCBzaXplKV06IGhlaWdodCwgW2NyZWF0ZUtleSgnZm9udFNpemUnLCBzaXplKV06IGZvbnRTaXplIH0gfSA9IHRoZW1lUmVmLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAnLS1uLWJlemllcic6IGN1YmljQmV6aWVyRWFzZUluT3V0LFxuICAgICAgICAgICAgICAgICctLW4tYm9yZGVyJzogYm9yZGVyLFxuICAgICAgICAgICAgICAgICctLW4tYm9yZGVyLWFjdGl2ZSc6IGJvcmRlckFjdGl2ZSxcbiAgICAgICAgICAgICAgICAnLS1uLWJvcmRlci1mb2N1cyc6IGJvcmRlckZvY3VzLFxuICAgICAgICAgICAgICAgICctLW4tYm9yZGVyLWhvdmVyJzogYm9yZGVySG92ZXIsXG4gICAgICAgICAgICAgICAgJy0tbi1ib3JkZXItcmFkaXVzJzogYm9yZGVyUmFkaXVzLFxuICAgICAgICAgICAgICAgICctLW4tYm94LXNoYWRvdy1hY3RpdmUnOiBib3hTaGFkb3dBY3RpdmUsXG4gICAgICAgICAgICAgICAgJy0tbi1ib3gtc2hhZG93LWZvY3VzJzogYm94U2hhZG93Rm9jdXMsXG4gICAgICAgICAgICAgICAgJy0tbi1ib3gtc2hhZG93LWhvdmVyJzogYm94U2hhZG93SG92ZXIsXG4gICAgICAgICAgICAgICAgJy0tbi1jYXJldC1jb2xvcic6IGNhcmV0Q29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1jb2xvcic6IGNvbG9yLFxuICAgICAgICAgICAgICAgICctLW4tY29sb3ItYWN0aXZlJzogY29sb3JBY3RpdmUsXG4gICAgICAgICAgICAgICAgJy0tbi1jb2xvci1kaXNhYmxlZCc6IGNvbG9yRGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgJy0tbi1mb250LXNpemUnOiBmb250U2l6ZSxcbiAgICAgICAgICAgICAgICAnLS1uLWhlaWdodCc6IGhlaWdodCxcbiAgICAgICAgICAgICAgICAnLS1uLXBhZGRpbmctc2luZ2xlJzogcGFkZGluZ1NpbmdsZSxcbiAgICAgICAgICAgICAgICAnLS1uLXBhZGRpbmctbXVsdGlwbGUnOiBwYWRkaW5nTXVsdGlwbGUsXG4gICAgICAgICAgICAgICAgJy0tbi1wbGFjZWhvbGRlci1jb2xvcic6IHBsYWNlaG9sZGVyQ29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1wbGFjZWhvbGRlci1jb2xvci1kaXNhYmxlZCc6IHBsYWNlaG9sZGVyQ29sb3JEaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAnLS1uLXRleHQtY29sb3InOiB0ZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi10ZXh0LWNvbG9yLWRpc2FibGVkJzogdGV4dENvbG9yRGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgJy0tbi1hcnJvdy1jb2xvcic6IGFycm93Q29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1hcnJvdy1jb2xvci1kaXNhYmxlZCc6IGFycm93Q29sb3JEaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAnLS1uLWxvYWRpbmctY29sb3InOiBsb2FkaW5nQ29sb3IsXG4gICAgICAgICAgICAgICAgLy8gZm9ybSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgJy0tbi1jb2xvci1hY3RpdmUtd2FybmluZyc6IGNvbG9yQWN0aXZlV2FybmluZyxcbiAgICAgICAgICAgICAgICAnLS1uLWJveC1zaGFkb3ctZm9jdXMtd2FybmluZyc6IGJveFNoYWRvd0ZvY3VzV2FybmluZyxcbiAgICAgICAgICAgICAgICAnLS1uLWJveC1zaGFkb3ctYWN0aXZlLXdhcm5pbmcnOiBib3hTaGFkb3dBY3RpdmVXYXJuaW5nLFxuICAgICAgICAgICAgICAgICctLW4tYm94LXNoYWRvdy1ob3Zlci13YXJuaW5nJzogYm94U2hhZG93SG92ZXJXYXJuaW5nLFxuICAgICAgICAgICAgICAgICctLW4tYm9yZGVyLXdhcm5pbmcnOiBib3JkZXJXYXJuaW5nLFxuICAgICAgICAgICAgICAgICctLW4tYm9yZGVyLWZvY3VzLXdhcm5pbmcnOiBib3JkZXJGb2N1c1dhcm5pbmcsXG4gICAgICAgICAgICAgICAgJy0tbi1ib3JkZXItaG92ZXItd2FybmluZyc6IGJvcmRlckhvdmVyV2FybmluZyxcbiAgICAgICAgICAgICAgICAnLS1uLWJvcmRlci1hY3RpdmUtd2FybmluZyc6IGJvcmRlckFjdGl2ZVdhcm5pbmcsXG4gICAgICAgICAgICAgICAgLy8gZm9ybSBlcnJvclxuICAgICAgICAgICAgICAgICctLW4tY29sb3ItYWN0aXZlLWVycm9yJzogY29sb3JBY3RpdmVFcnJvcixcbiAgICAgICAgICAgICAgICAnLS1uLWJveC1zaGFkb3ctZm9jdXMtZXJyb3InOiBib3hTaGFkb3dGb2N1c0Vycm9yLFxuICAgICAgICAgICAgICAgICctLW4tYm94LXNoYWRvdy1hY3RpdmUtZXJyb3InOiBib3hTaGFkb3dBY3RpdmVFcnJvcixcbiAgICAgICAgICAgICAgICAnLS1uLWJveC1zaGFkb3ctaG92ZXItZXJyb3InOiBib3hTaGFkb3dIb3ZlckVycm9yLFxuICAgICAgICAgICAgICAgICctLW4tYm9yZGVyLWVycm9yJzogYm9yZGVyRXJyb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1ib3JkZXItZm9jdXMtZXJyb3InOiBib3JkZXJGb2N1c0Vycm9yLFxuICAgICAgICAgICAgICAgICctLW4tYm9yZGVyLWhvdmVyLWVycm9yJzogYm9yZGVySG92ZXJFcnJvcixcbiAgICAgICAgICAgICAgICAnLS1uLWJvcmRlci1hY3RpdmUtZXJyb3InOiBib3JkZXJBY3RpdmVFcnJvcixcbiAgICAgICAgICAgICAgICAvLyBjbGVhclxuICAgICAgICAgICAgICAgICctLW4tY2xlYXItc2l6ZSc6IGNsZWFyU2l6ZSxcbiAgICAgICAgICAgICAgICAnLS1uLWNsZWFyLWNvbG9yJzogY2xlYXJDb2xvcixcbiAgICAgICAgICAgICAgICAnLS1uLWNsZWFyLWNvbG9yLWhvdmVyJzogY2xlYXJDb2xvckhvdmVyLFxuICAgICAgICAgICAgICAgICctLW4tY2xlYXItY29sb3ItcHJlc3NlZCc6IGNsZWFyQ29sb3JQcmVzc2VkLFxuICAgICAgICAgICAgICAgIC8vIGFycm93LXNpemVcbiAgICAgICAgICAgICAgICAnLS1uLWFycm93LXNpemUnOiBhcnJvd1NpemVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0aGVtZUNsYXNzSGFuZGxlID0gaW5saW5lVGhlbWVEaXNhYmxlZFxuICAgICAgICAgICAgPyB1c2VUaGVtZUNsYXNzKCdpbnRlcm5hbC1zZWxlY3Rpb24nLCBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzLnNpemVbMF07XG4gICAgICAgICAgICB9KSwgY3NzVmFyc1JlZiwgcHJvcHMpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lcmdlZFRoZW1lOiB0aGVtZVJlZixcbiAgICAgICAgICAgIG1lcmdlZENsZWFyYWJsZTogbWVyZ2VkQ2xlYXJhYmxlUmVmLFxuICAgICAgICAgICAgcGF0dGVybklucHV0Rm9jdXNlZDogcGF0dGVybklucHV0Rm9jdXNlZFJlZixcbiAgICAgICAgICAgIGZpbHRlcmFibGVQbGFjZWhvbGRlcjogZmlsdGVyYWJsZVBsYWNlaG9sZGVyUmVmLFxuICAgICAgICAgICAgbGFiZWw6IGxhYmVsUmVmLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkUmVmLFxuICAgICAgICAgICAgc2hvd1RhZ3NQYW5lbDogc2hvd1RhZ3NQb3BvdmVyUmVmLFxuICAgICAgICAgICAgaXNDb21wb3NpdGluZzogaXNDb21wb3NpdGluZ1JlZixcbiAgICAgICAgICAgIC8vIGRvbSByZWZcbiAgICAgICAgICAgIGNvdW50ZXJSZWYsXG4gICAgICAgICAgICBjb3VudGVyV3JhcHBlclJlZixcbiAgICAgICAgICAgIHBhdHRlcm5JbnB1dE1pcnJvclJlZixcbiAgICAgICAgICAgIHBhdHRlcm5JbnB1dFJlZixcbiAgICAgICAgICAgIHNlbGZSZWYsXG4gICAgICAgICAgICBtdWx0aXBsZUVsUmVmLFxuICAgICAgICAgICAgc2luZ2xlRWxSZWYsXG4gICAgICAgICAgICBwYXR0ZXJuSW5wdXRXcmFwcGVyUmVmLFxuICAgICAgICAgICAgb3ZlcmZsb3dSZWYsXG4gICAgICAgICAgICBpbnB1dFRhZ0VsUmVmLFxuICAgICAgICAgICAgaGFuZGxlTW91c2VEb3duLFxuICAgICAgICAgICAgaGFuZGxlRm9jdXNpbixcbiAgICAgICAgICAgIGhhbmRsZUNsZWFyLFxuICAgICAgICAgICAgaGFuZGxlTW91c2VFbnRlcixcbiAgICAgICAgICAgIGhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgICAgICBoYW5kbGVEZWxldGVPcHRpb24sXG4gICAgICAgICAgICBoYW5kbGVQYXR0ZXJuS2V5RG93bixcbiAgICAgICAgICAgIGhhbmRsZVBhdHRlcm5JbnB1dElucHV0LFxuICAgICAgICAgICAgaGFuZGxlUGF0dGVybklucHV0Qmx1cixcbiAgICAgICAgICAgIGhhbmRsZVBhdHRlcm5JbnB1dEZvY3VzLFxuICAgICAgICAgICAgaGFuZGxlTW91c2VFbnRlckNvdW50ZXIsXG4gICAgICAgICAgICBoYW5kbGVNb3VzZUxlYXZlQ291bnRlcixcbiAgICAgICAgICAgIGhhbmRsZUZvY3Vzb3V0LFxuICAgICAgICAgICAgaGFuZGxlQ29tcG9zaXRpb25FbmQsXG4gICAgICAgICAgICBoYW5kbGVDb21wb3NpdGlvblN0YXJ0LFxuICAgICAgICAgICAgb25Qb3BvdmVyVXBkYXRlU2hvdyxcbiAgICAgICAgICAgIGZvY3VzLFxuICAgICAgICAgICAgZm9jdXNJbnB1dCxcbiAgICAgICAgICAgIGJsdXIsXG4gICAgICAgICAgICBibHVySW5wdXQsXG4gICAgICAgICAgICB1cGRhdGVDb3VudGVyLFxuICAgICAgICAgICAgZ2V0Q291bnRlcixcbiAgICAgICAgICAgIGdldFRhaWwsXG4gICAgICAgICAgICByZW5kZXJMYWJlbDogcHJvcHMucmVuZGVyTGFiZWwsXG4gICAgICAgICAgICBjc3NWYXJzOiBpbmxpbmVUaGVtZURpc2FibGVkID8gdW5kZWZpbmVkIDogY3NzVmFyc1JlZixcbiAgICAgICAgICAgIHRoZW1lQ2xhc3M6IHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS50aGVtZUNsYXNzLFxuICAgICAgICAgICAgb25SZW5kZXI6IHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS5vblJlbmRlclxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgbXVsdGlwbGUsIHNpemUsIGRpc2FibGVkLCBmaWx0ZXJhYmxlLCBtYXhUYWdDb3VudCwgYm9yZGVyZWQsIGNsc1ByZWZpeCwgb25SZW5kZXIsIHJlbmRlclRhZywgcmVuZGVyTGFiZWwgfSA9IHRoaXM7XG4gICAgICAgIG9uUmVuZGVyID09PSBudWxsIHx8IG9uUmVuZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblJlbmRlcigpO1xuICAgICAgICBjb25zdCBtYXhUYWdDb3VudFJlc3BvbnNpdmUgPSBtYXhUYWdDb3VudCA9PT0gJ3Jlc3BvbnNpdmUnO1xuICAgICAgICBjb25zdCBtYXhUYWdDb3VudE51bWVyaWMgPSB0eXBlb2YgbWF4VGFnQ291bnQgPT09ICdudW1iZXInO1xuICAgICAgICBjb25zdCB1c2VNYXhUYWdDb3VudCA9IG1heFRhZ0NvdW50UmVzcG9uc2l2ZSB8fCBtYXhUYWdDb3VudE51bWVyaWM7XG4gICAgICAgIGNvbnN0IHN1ZmZpeCA9IChoKFN1ZmZpeCwgeyBjbHNQcmVmaXg6IGNsc1ByZWZpeCwgbG9hZGluZzogdGhpcy5sb2FkaW5nLCBzaG93QXJyb3c6IHRoaXMuc2hvd0Fycm93LCBzaG93Q2xlYXI6IHRoaXMubWVyZ2VkQ2xlYXJhYmxlICYmIHRoaXMuc2VsZWN0ZWQsIG9uQ2xlYXI6IHRoaXMuaGFuZGxlQ2xlYXIgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4geyB2YXIgX2EsIF9iOyByZXR1cm4gKF9iID0gKF9hID0gdGhpcy4kc2xvdHMpLmFycm93KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7IH1cbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgYm9keTtcbiAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgICBjb25zdCBjcmVhdGVUYWcgPSAob3B0aW9uKSA9PiAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLXRhZy13cmFwcGVyYCwga2V5OiBvcHRpb24udmFsdWUgfSwgcmVuZGVyVGFnID8gKHJlbmRlclRhZyh7XG4gICAgICAgICAgICAgICAgb3B0aW9uLFxuICAgICAgICAgICAgICAgIGhhbmRsZUNsb3NlOiAoKSA9PiB0aGlzLmhhbmRsZURlbGV0ZU9wdGlvbihvcHRpb24pXG4gICAgICAgICAgICB9KSkgOiAoaChOVGFnLCB7IHNpemU6IHNpemUsIGNsb3NhYmxlOiAhb3B0aW9uLmRpc2FibGVkLCBkaXNhYmxlZDogZGlzYWJsZWQsIGludGVybmFsU3RvcENsaWNrUHJvcGFnYXRpb246IHRydWUsIG9uQ2xvc2U6ICgpID0+IHRoaXMuaGFuZGxlRGVsZXRlT3B0aW9uKG9wdGlvbikgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHJlbmRlckxhYmVsXG4gICAgICAgICAgICAgICAgICAgID8gcmVuZGVyTGFiZWwob3B0aW9uLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICA6IHJlbmRlcihvcHRpb24ubGFiZWwsIG9wdGlvbiwgdHJ1ZSlcbiAgICAgICAgICAgIH0pKSkpO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUYWdzID0gKG1heFRhZ0NvdW50TnVtZXJpY1xuICAgICAgICAgICAgICAgID8gdGhpcy5zZWxlY3RlZE9wdGlvbnMuc2xpY2UoMCwgbWF4VGFnQ291bnQpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnNlbGVjdGVkT3B0aW9ucykubWFwKGNyZWF0ZVRhZyk7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGZpbHRlcmFibGUgPyAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLWlucHV0LXRhZ2AsIHJlZjogXCJpbnB1dFRhZ0VsUmVmXCIsIGtleTogXCJfX2lucHV0LXRhZ19fXCIgfSxcbiAgICAgICAgICAgICAgICBoKFwiaW5wdXRcIiwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pbnB1dFByb3BzLCB7IHJlZjogXCJwYXR0ZXJuSW5wdXRSZWZcIiwgdGFiaW5kZXg6IC0xLCBkaXNhYmxlZDogZGlzYWJsZWQsIHZhbHVlOiB0aGlzLnBhdHRlcm4sIGF1dG9mb2N1czogdGhpcy5hdXRvZm9jdXMsIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLWlucHV0LXRhZ19faW5wdXRgLCBvbkJsdXI6IHRoaXMuaGFuZGxlUGF0dGVybklucHV0Qmx1ciwgb25Gb2N1czogdGhpcy5oYW5kbGVQYXR0ZXJuSW5wdXRGb2N1cywgb25LZXlkb3duOiB0aGlzLmhhbmRsZVBhdHRlcm5LZXlEb3duLCBvbklucHV0OiB0aGlzLmhhbmRsZVBhdHRlcm5JbnB1dElucHV0LCBvbkNvbXBvc2l0aW9uc3RhcnQ6IHRoaXMuaGFuZGxlQ29tcG9zaXRpb25TdGFydCwgb25Db21wb3NpdGlvbmVuZDogdGhpcy5oYW5kbGVDb21wb3NpdGlvbkVuZCB9KSksXG4gICAgICAgICAgICAgICAgaChcInNwYW5cIiwgeyByZWY6IFwicGF0dGVybklucHV0TWlycm9yUmVmXCIsIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLWlucHV0LXRhZ19fbWlycm9yYCB9LCB0aGlzLnBhdHRlcm4pKSkgOiBudWxsO1xuICAgICAgICAgICAgLy8gTWF5IE92ZXJmbG93XG4gICAgICAgICAgICBjb25zdCByZW5kZXJDb3VudGVyID0gbWF4VGFnQ291bnRSZXNwb25zaXZlXG4gICAgICAgICAgICAgICAgPyAoKSA9PiAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLXRhZy13cmFwcGVyYCwgcmVmOiBcImNvdW50ZXJXcmFwcGVyUmVmXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgaChOVGFnLCB7IHNpemU6IHNpemUsIHJlZjogXCJjb3VudGVyUmVmXCIsIG9uTW91c2VlbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyQ291bnRlciwgb25Nb3VzZWxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmVDb3VudGVyLCBkaXNhYmxlZDogZGlzYWJsZWQgfSkpKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IGNvdW50ZXI7XG4gICAgICAgICAgICBpZiAobWF4VGFnQ291bnROdW1lcmljKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMuc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCAtIG1heFRhZ0NvdW50O1xuICAgICAgICAgICAgICAgIGlmIChyZXN0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyID0gKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi10YWctd3JhcHBlcmAsIGtleTogXCJfX2NvdW50ZXJfX1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoKE5UYWcsIHsgc2l6ZTogc2l6ZSwgcmVmOiBcImNvdW50ZXJSZWZcIiwgb25Nb3VzZWVudGVyOiB0aGlzLmhhbmRsZU1vdXNlRW50ZXJDb3VudGVyLCBkaXNhYmxlZDogZGlzYWJsZWQgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IGArJHtyZXN0fWBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGFncyA9IG1heFRhZ0NvdW50UmVzcG9uc2l2ZSA/IChmaWx0ZXJhYmxlID8gKGgoVk92ZXJmbG93LCB7IHJlZjogXCJvdmVyZmxvd1JlZlwiLCB1cGRhdGVDb3VudGVyOiB0aGlzLnVwZGF0ZUNvdW50ZXIsIGdldENvdW50ZXI6IHRoaXMuZ2V0Q291bnRlciwgZ2V0VGFpbDogdGhpcy5nZXRUYWlsLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IG9yaWdpbmFsVGFncyxcbiAgICAgICAgICAgICAgICBjb3VudGVyOiByZW5kZXJDb3VudGVyLFxuICAgICAgICAgICAgICAgIHRhaWw6ICgpID0+IGlucHV0XG4gICAgICAgICAgICB9KSkgOiAoaChWT3ZlcmZsb3csIHsgcmVmOiBcIm92ZXJmbG93UmVmXCIsIHVwZGF0ZUNvdW50ZXI6IHRoaXMudXBkYXRlQ291bnRlciwgZ2V0Q291bnRlcjogdGhpcy5nZXRDb3VudGVyLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IG9yaWdpbmFsVGFncyxcbiAgICAgICAgICAgICAgICBjb3VudGVyOiByZW5kZXJDb3VudGVyXG4gICAgICAgICAgICB9KSkpIDogbWF4VGFnQ291bnROdW1lcmljID8gKG9yaWdpbmFsVGFncy5jb25jYXQoY291bnRlcikpIDogKG9yaWdpbmFsVGFncyk7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJQb3BvdmVyID0gdXNlTWF4VGFnQ291bnRcbiAgICAgICAgICAgICAgICA/ICgpID0+IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tcG9wb3ZlcmAgfSwgbWF4VGFnQ291bnRSZXNwb25zaXZlXG4gICAgICAgICAgICAgICAgICAgID8gb3JpZ2luYWxUYWdzXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5zZWxlY3RlZE9wdGlvbnMubWFwKGNyZWF0ZVRhZykpKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgcG9wb3ZlclByb3BzID0gdXNlTWF4VGFnQ291bnRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdGhpcy5zaG93VGFnc1BhbmVsLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnaG92ZXInLFxuICAgICAgICAgICAgICAgICAgICBvdmVybGFwOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJ3RyaWdnZXInLFxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZVNob3c6IHRoaXMub25Qb3BvdmVyVXBkYXRlU2hvdyxcbiAgICAgICAgICAgICAgICAgICAgdGhlbWU6IHRoaXMubWVyZ2VkVGhlbWUucGVlcnMuUG9wb3ZlcixcbiAgICAgICAgICAgICAgICAgICAgdGhlbWVPdmVycmlkZXM6IHRoaXMubWVyZ2VkVGhlbWUucGVlck92ZXJyaWRlcy5Qb3BvdmVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHNob3dQbGFjZWhvbGRlciA9IHRoaXMuc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICAgICAgOiB0aGlzLmFjdGl2ZVxuICAgICAgICAgICAgICAgICAgICA/ICF0aGlzLnBhdHRlcm4gJiYgIXRoaXMuaXNDb21wb3NpdGluZ1xuICAgICAgICAgICAgICAgICAgICA6IHRydWU7XG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IHNob3dQbGFjZWhvbGRlciA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tcGxhY2Vob2xkZXIgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLW92ZXJsYXlgIH0sIHRoaXMucGxhY2Vob2xkZXIpKSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoZmlsdGVyYWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcG92ZXJUcmlnZ2VyID0gKGgoXCJkaXZcIiwgeyByZWY6IFwicGF0dGVybklucHV0V3JhcHBlclJlZlwiLCBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi10YWdzYCB9LFxuICAgICAgICAgICAgICAgICAgICB0YWdzLFxuICAgICAgICAgICAgICAgICAgICBtYXhUYWdDb3VudFJlc3BvbnNpdmUgPyBudWxsIDogaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIHN1ZmZpeCkpO1xuICAgICAgICAgICAgICAgIGJvZHkgPSAoaChGcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdXNlTWF4VGFnQ291bnQgPyAoaChOUG9wb3ZlciwgT2JqZWN0LmFzc2lnbih7fSwgcG9wb3ZlclByb3BzKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogKCkgPT4gcG9wb3ZlclRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZW5kZXJQb3BvdmVyXG4gICAgICAgICAgICAgICAgICAgIH0pKSA6IChwb3BvdmVyVHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3BvdmVyVHJpZ2dlciA9IChoKFwiZGl2XCIsIHsgcmVmOiBcIm11bHRpcGxlRWxSZWZcIiwgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tdGFnc2AsIHRhYmluZGV4OiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGFncyxcbiAgICAgICAgICAgICAgICAgICAgc3VmZml4KSk7XG4gICAgICAgICAgICAgICAgYm9keSA9IChoKEZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgICAgICAgICB1c2VNYXhUYWdDb3VudCA/IChoKE5Qb3BvdmVyLCBPYmplY3QuYXNzaWduKHt9LCBwb3BvdmVyUHJvcHMpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAoKSA9PiBwb3BvdmVyVHJpZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJlbmRlclBvcG92ZXJcbiAgICAgICAgICAgICAgICAgICAgfSkpIDogKHBvcG92ZXJUcmlnZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzSW5wdXQgPSB0aGlzLnBhdHRlcm4gfHwgdGhpcy5pc0NvbXBvc2l0aW5nO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3dQbGFjZWhvbGRlciA9IHRoaXMuYWN0aXZlID8gIWhhc0lucHV0IDogIXRoaXMuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd1NlbGVjdGVkTGFiZWwgPSB0aGlzLmFjdGl2ZSA/IGZhbHNlIDogdGhpcy5zZWxlY3RlZDtcbiAgICAgICAgICAgICAgICBib2R5ID0gKGgoXCJkaXZcIiwgeyByZWY6IFwicGF0dGVybklucHV0V3JhcHBlclJlZlwiLCBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi1sYWJlbGAgfSxcbiAgICAgICAgICAgICAgICAgICAgaChcImlucHV0XCIsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW5wdXRQcm9wcywgeyByZWY6IFwicGF0dGVybklucHV0UmVmXCIsIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLWlucHV0YCwgdmFsdWU6IHRoaXMuYWN0aXZlID8gdGhpcy5wYXR0ZXJuIDogJycsIHBsYWNlaG9sZGVyOiBcIlwiLCByZWFkb25seTogZGlzYWJsZWQsIGRpc2FibGVkOiBkaXNhYmxlZCwgdGFiaW5kZXg6IC0xLCBhdXRvZm9jdXM6IHRoaXMuYXV0b2ZvY3VzLCBvbkZvY3VzOiB0aGlzLmhhbmRsZVBhdHRlcm5JbnB1dEZvY3VzLCBvbkJsdXI6IHRoaXMuaGFuZGxlUGF0dGVybklucHV0Qmx1ciwgb25JbnB1dDogdGhpcy5oYW5kbGVQYXR0ZXJuSW5wdXRJbnB1dCwgb25Db21wb3NpdGlvbnN0YXJ0OiB0aGlzLmhhbmRsZUNvbXBvc2l0aW9uU3RhcnQsIG9uQ29tcG9zaXRpb25lbmQ6IHRoaXMuaGFuZGxlQ29tcG9zaXRpb25FbmQgfSkpLFxuICAgICAgICAgICAgICAgICAgICBzaG93U2VsZWN0ZWRMYWJlbCA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tbGFiZWxfX3JlbmRlci1sYWJlbCAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tb3ZlcmxheWAsIGtleTogXCJpbnB1dFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tb3ZlcmxheV9fd3JhcHBlcmAgfSwgcmVuZGVyVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZW5kZXJUYWcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb246IHRoaXMuc2VsZWN0ZWRPcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNsb3NlOiAoKSA9PiB7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVuZGVyTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZW5kZXJMYWJlbCh0aGlzLnNlbGVjdGVkT3B0aW9uLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlbmRlcih0aGlzLmxhYmVsLCB0aGlzLnNlbGVjdGVkT3B0aW9uLCB0cnVlKSkpKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHNob3dQbGFjZWhvbGRlciA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tcGxhY2Vob2xkZXIgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLW92ZXJsYXlgLCBrZXk6IFwicGxhY2Vob2xkZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLW92ZXJsYXlfX3dyYXBwZXJgIH0sIHRoaXMuZmlsdGVyYWJsZVBsYWNlaG9sZGVyKSkpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc3VmZml4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBib2R5ID0gKGgoXCJkaXZcIiwgeyByZWY6IFwic2luZ2xlRWxSZWZcIiwgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tbGFiZWxgLCB0YWJpbmRleDogdGhpcy5kaXNhYmxlZCA/IHVuZGVmaW5lZCA6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYWJlbCAhPT0gdW5kZWZpbmVkID8gKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi1pbnB1dGAsIHRpdGxlOiBnZXRUaXRsZUF0dHJpYnV0ZSh0aGlzLmxhYmVsKSwga2V5OiBcImlucHV0XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi1pbnB1dF9fY29udGVudGAgfSwgcmVuZGVyVGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZW5kZXJUYWcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb246IHRoaXMuc2VsZWN0ZWRPcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNsb3NlOiAoKSA9PiB7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVuZGVyTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZW5kZXJMYWJlbCh0aGlzLnNlbGVjdGVkT3B0aW9uLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlbmRlcih0aGlzLmxhYmVsLCB0aGlzLnNlbGVjdGVkT3B0aW9uLCB0cnVlKSkpKSA6IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tcGxhY2Vob2xkZXIgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLW92ZXJsYXlgLCBrZXk6IFwicGxhY2Vob2xkZXJcIiB9LCB0aGlzLnBsYWNlaG9sZGVyKSksXG4gICAgICAgICAgICAgICAgICAgIHN1ZmZpeCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IHJlZjogXCJzZWxmUmVmXCIsIGNsYXNzOiBbXG4gICAgICAgICAgICAgICAgYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbmAsXG4gICAgICAgICAgICAgICAgdGhpcy50aGVtZUNsYXNzLFxuICAgICAgICAgICAgICAgIHN0YXR1cyAmJiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLS0ke3N0YXR1c30tc3RhdHVzYCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLS1hY3RpdmVgXTogdGhpcy5hY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLS1zZWxlY3RlZGBdOiB0aGlzLnNlbGVjdGVkIHx8ICh0aGlzLmFjdGl2ZSAmJiB0aGlzLnBhdHRlcm4pLFxuICAgICAgICAgICAgICAgICAgICBbYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi0tZGlzYWJsZWRgXTogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgW2Ake2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tLW11bHRpcGxlYF06IHRoaXMubXVsdGlwbGUsXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvY3VzIGlzIG5vdCBjb250cm9sbGVkIGJ5IHNlbGVjdGlvbiBpdHNlbGYgc2luY2UgaXQgYWx3YXlzIG5lZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYmUgbWFuYWdlZCB0b2dldGhlciB3aXRoIG1lbnUuIHByb3ZpZGUgOmZvY3VzIHN0eWxlIHdpbGwgY2F1c2VcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFueSByZWR1bmRhbnQgY29kZXMuXG4gICAgICAgICAgICAgICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLS1mb2N1c2BdOiB0aGlzLmZvY3VzZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLCBzdHlsZTogdGhpcy5jc3NWYXJzLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2ssIG9uTW91c2VlbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLCBvbk1vdXNlbGVhdmU6IHRoaXMuaGFuZGxlTW91c2VMZWF2ZSwgb25LZXl1cDogdGhpcy5vbktleXVwLCBvbktleWRvd246IHRoaXMub25LZXlkb3duLCBvbkZvY3VzaW46IHRoaXMuaGFuZGxlRm9jdXNpbiwgb25Gb2N1c291dDogdGhpcy5oYW5kbGVGb2N1c291dCwgb25Nb3VzZWRvd246IHRoaXMuaGFuZGxlTW91c2VEb3duIH0sXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgYm9yZGVyZWQgPyAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uX19ib3JkZXJgIH0pKSA6IG51bGwsXG4gICAgICAgICAgICBib3JkZXJlZCA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb25fX3N0YXRlLWJvcmRlcmAgfSkpIDogbnVsbCkpO1xuICAgIH1cbn0pO1xuIiwiaW1wb3J0IHsgYywgY0IsIGNFLCBjTSwgY05vdE0gfSBmcm9tICcuLi8uLi8uLi8uLi9fdXRpbHMvY3Nzcic7IC8vIHZhcnM6XG4vLyAtLW4tYmV6aWVyXG4vLyAtLW4tYm9yZGVyXG4vLyAtLW4tYm9yZGVyLWFjdGl2ZVxuLy8gLS1uLWJvcmRlci1mb2N1c1xuLy8gLS1uLWJvcmRlci1ob3ZlclxuLy8gLS1uLWJvcmRlci1yYWRpdXNcbi8vIC0tbi1ib3gtc2hhZG93LWFjdGl2ZVxuLy8gLS1uLWJveC1zaGFkb3ctZm9jdXNcbi8vIC0tbi1ib3gtc2hhZG93LWhvdmVyXG4vLyAtLW4tY2FyZXQtY29sb3Jcbi8vIC0tbi1jb2xvclxuLy8gLS1uLWNvbG9yLWFjdGl2ZVxuLy8gLS1uLWNvbG9yLWRpc2FibGVkXG4vLyAtLW4tZm9udC1zaXplXG4vLyAtLW4taGVpZ2h0XG4vLyAtLW4tcGFkZGluZy1zaW5nbGVcbi8vIC0tbi1wYWRkaW5nLW11bHRpcGxlXG4vLyAtLW4tcGxhY2Vob2xkZXItY29sb3Jcbi8vIC0tbi1wbGFjZWhvbGRlci1jb2xvci1kaXNhYmxlZFxuLy8gLS1uLXRleHQtY29sb3Jcbi8vIC0tbi10ZXh0LWNvbG9yLWRpc2FibGVkXG4vLyAtLW4tYXJyb3ctY29sb3Jcbi8vIC0tbi1hcnJvdy1zaXplXG4vLyAtLW4tbG9hZGluZy1jb2xvclxuLy8gLi4uY2xlYXIgdmFyc1xuLy8gLi4uZm9ybSBpdGVtIHZhcnNcblxuZXhwb3J0IGRlZmF1bHQgYyhbY0IoJ2Jhc2Utc2VsZWN0aW9uJywgYFxuIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiB6LWluZGV4OiBhdXRvO1xuIGJveC1zaGFkb3c6IG5vbmU7XG4gd2lkdGg6IDEwMCU7XG4gbWF4LXdpZHRoOiAxMDAlO1xuIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xuIGJvcmRlci1yYWRpdXM6IHZhcigtLW4tYm9yZGVyLXJhZGl1cyk7XG4gbWluLWhlaWdodDogdmFyKC0tbi1oZWlnaHQpO1xuIGxpbmUtaGVpZ2h0OiAxLjU7XG4gZm9udC1zaXplOiB2YXIoLS1uLWZvbnQtc2l6ZSk7XG4gYCwgW2NCKCdiYXNlLWxvYWRpbmcnLCBgXG4gY29sb3I6IHZhcigtLW4tbG9hZGluZy1jb2xvcik7XG4gYCksIGNCKCdiYXNlLXNlbGVjdGlvbi10YWdzJywgJ21pbi1oZWlnaHQ6IHZhcigtLW4taGVpZ2h0KTsnKSwgY0UoJ2JvcmRlciwgc3RhdGUtYm9yZGVyJywgYFxuIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiBsZWZ0OiAwO1xuIHJpZ2h0OiAwO1xuIHRvcDogMDtcbiBib3R0b206IDA7XG4gcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gYm9yZGVyOiB2YXIoLS1uLWJvcmRlcik7XG4gYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcbiB0cmFuc2l0aW9uOlxuIGJveC1zaGFkb3cgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBib3JkZXItY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBgKSwgY0UoJ3N0YXRlLWJvcmRlcicsIGBcbiB6LWluZGV4OiAxO1xuIGJvcmRlci1jb2xvcjogIzAwMDA7XG4gYCksIGNCKCdiYXNlLXN1ZmZpeCcsIGBcbiBjdXJzb3I6IHBvaW50ZXI7XG4gcG9zaXRpb246IGFic29sdXRlO1xuIHRvcDogNTAlO1xuIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiByaWdodDogMTBweDtcbiBgLCBbY0UoJ2Fycm93JywgYFxuIGZvbnQtc2l6ZTogdmFyKC0tbi1hcnJvdy1zaXplKTtcbiBjb2xvcjogdmFyKC0tbi1hcnJvdy1jb2xvcik7XG4gdHJhbnNpdGlvbjogY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBgKV0pLCBjQignYmFzZS1zZWxlY3Rpb24tb3ZlcmxheScsIGBcbiBkaXNwbGF5OiBmbGV4O1xuIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiBwb2ludGVyLWV2ZW50czogbm9uZTtcbiBwb3NpdGlvbjogYWJzb2x1dGU7XG4gdG9wOiAwO1xuIHJpZ2h0OiAwO1xuIGJvdHRvbTogMDtcbiBsZWZ0OiAwO1xuIHBhZGRpbmc6IHZhcigtLW4tcGFkZGluZy1zaW5nbGUpO1xuIHRyYW5zaXRpb246IGNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYCwgW2NFKCd3cmFwcGVyJywgYFxuIGZsZXgtYmFzaXM6IDA7XG4gZmxleC1ncm93OiAxO1xuIG92ZXJmbG93OiBoaWRkZW47XG4gdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gYCldKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXBsYWNlaG9sZGVyJywgYFxuIGNvbG9yOiB2YXIoLS1uLXBsYWNlaG9sZGVyLWNvbG9yKTtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXRhZ3MnLCBgXG4gY3Vyc29yOiBwb2ludGVyO1xuIG91dGxpbmU6IG5vbmU7XG4gYm94LXNpemluZzogYm9yZGVyLWJveDtcbiBwb3NpdGlvbjogcmVsYXRpdmU7XG4gei1pbmRleDogYXV0bztcbiBkaXNwbGF5OiBmbGV4O1xuIHBhZGRpbmc6IHZhcigtLW4tcGFkZGluZy1tdWx0aXBsZSk7XG4gZmxleC13cmFwOiB3cmFwO1xuIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gd2lkdGg6IDEwMCU7XG4gdmVydGljYWwtYWxpZ246IGJvdHRvbTtcbiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yKTtcbiBib3JkZXItcmFkaXVzOiBpbmhlcml0O1xuIHRyYW5zaXRpb246XG4gY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBib3gtc2hhZG93IC4zcyB2YXIoLS1uLWJlemllciksXG4gYmFja2dyb3VuZC1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGApLCBjQignYmFzZS1zZWxlY3Rpb24tbGFiZWwnLCBgXG4gaGVpZ2h0OiB2YXIoLS1uLWhlaWdodCk7XG4gZGlzcGxheTogaW5saW5lLWZsZXg7XG4gd2lkdGg6IDEwMCU7XG4gdmVydGljYWwtYWxpZ246IGJvdHRvbTtcbiBjdXJzb3I6IHBvaW50ZXI7XG4gb3V0bGluZTogbm9uZTtcbiB6LWluZGV4OiBhdXRvO1xuIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIHRyYW5zaXRpb246XG4gY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBib3gtc2hhZG93IC4zcyB2YXIoLS1uLWJlemllciksXG4gYmFja2dyb3VuZC1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGJvcmRlci1yYWRpdXM6IGluaGVyaXQ7XG4gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvcik7XG4gYWxpZ24taXRlbXM6IGNlbnRlcjtcbiBgLCBbY0IoJ2Jhc2Utc2VsZWN0aW9uLWlucHV0JywgYFxuIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xuIG91dGxpbmU6IG5vbmU7XG4gY3Vyc29yOiBwb2ludGVyO1xuIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gYm9yZGVyOm5vbmU7XG4gd2lkdGg6IDEwMCU7XG4gcGFkZGluZzogdmFyKC0tbi1wYWRkaW5nLXNpbmdsZSk7XG4gYmFja2dyb3VuZC1jb2xvcjogIzAwMDA7XG4gY29sb3I6IHZhcigtLW4tdGV4dC1jb2xvcik7XG4gdHJhbnNpdGlvbjogY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBjYXJldC1jb2xvcjogdmFyKC0tbi1jYXJldC1jb2xvcik7XG4gYCwgW2NFKCdjb250ZW50JywgYFxuIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuIG92ZXJmbG93OiBoaWRkZW47XG4gd2hpdGUtc3BhY2U6IG5vd3JhcDsgXG4gYCldKSwgY0UoJ3JlbmRlci1sYWJlbCcsIGBcbiBjb2xvcjogdmFyKC0tbi10ZXh0LWNvbG9yKTtcbiBgKV0pLCBjTm90TSgnZGlzYWJsZWQnLCBbYygnJjpob3ZlcicsIFtjRSgnc3RhdGUtYm9yZGVyJywgYFxuIGJveC1zaGFkb3c6IHZhcigtLW4tYm94LXNoYWRvdy1ob3Zlcik7XG4gYm9yZGVyOiB2YXIoLS1uLWJvcmRlci1ob3Zlcik7XG4gYCldKSwgY00oJ2ZvY3VzJywgW2NFKCdzdGF0ZS1ib3JkZXInLCBgXG4gYm94LXNoYWRvdzogdmFyKC0tbi1ib3gtc2hhZG93LWZvY3VzKTtcbiBib3JkZXI6IHZhcigtLW4tYm9yZGVyLWZvY3VzKTtcbiBgKV0pLCBjTSgnYWN0aXZlJywgW2NFKCdzdGF0ZS1ib3JkZXInLCBgXG4gYm94LXNoYWRvdzogdmFyKC0tbi1ib3gtc2hhZG93LWFjdGl2ZSk7XG4gYm9yZGVyOiB2YXIoLS1uLWJvcmRlci1hY3RpdmUpO1xuIGApLCBjQignYmFzZS1zZWxlY3Rpb24tbGFiZWwnLCAnYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvci1hY3RpdmUpOycpLCBjQignYmFzZS1zZWxlY3Rpb24tdGFncycsICdiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yLWFjdGl2ZSk7JyldKV0pLCBjTSgnZGlzYWJsZWQnLCAnY3Vyc29yOiBub3QtYWxsb3dlZDsnLCBbY0UoJ2Fycm93JywgYFxuIGNvbG9yOiB2YXIoLS1uLWFycm93LWNvbG9yLWRpc2FibGVkKTtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLWxhYmVsJywgYFxuIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvci1kaXNhYmxlZCk7XG4gYCwgW2NCKCdiYXNlLXNlbGVjdGlvbi1pbnB1dCcsIGBcbiBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuIGNvbG9yOiB2YXIoLS1uLXRleHQtY29sb3ItZGlzYWJsZWQpO1xuIGApLCBjRSgncmVuZGVyLWxhYmVsJywgYFxuIGNvbG9yOiB2YXIoLS1uLXRleHQtY29sb3ItZGlzYWJsZWQpO1xuIGApXSksIGNCKCdiYXNlLXNlbGVjdGlvbi10YWdzJywgYFxuIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvci1kaXNhYmxlZCk7XG4gYCksIGNCKCdiYXNlLXNlbGVjdGlvbi1wbGFjZWhvbGRlcicsIGBcbiBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuIGNvbG9yOiB2YXIoLS1uLXBsYWNlaG9sZGVyLWNvbG9yLWRpc2FibGVkKTtcbiBgKV0pLCBjQignYmFzZS1zZWxlY3Rpb24taW5wdXQtdGFnJywgYFxuIGhlaWdodDogY2FsYyh2YXIoLS1uLWhlaWdodCkgLSA2cHgpO1xuIGxpbmUtaGVpZ2h0OiBjYWxjKHZhcigtLW4taGVpZ2h0KSAtIDZweCk7XG4gb3V0bGluZTogbm9uZTtcbiBkaXNwbGF5OiBub25lO1xuIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiBtYXJnaW4tYm90dG9tOiAzcHg7XG4gbWF4LXdpZHRoOiAxMDAlO1xuIHZlcnRpY2FsLWFsaWduOiBib3R0b207XG4gYCwgW2NFKCdpbnB1dCcsIGBcbiBtaW4td2lkdGg6IDFweDtcbiBwYWRkaW5nOiAwO1xuIGJhY2tncm91bmQtY29sb3I6ICMwMDAwO1xuIG91dGxpbmU6IG5vbmU7XG4gYm9yZGVyOiBub25lO1xuIG1heC13aWR0aDogMTAwJTtcbiBvdmVyZmxvdzogaGlkZGVuO1xuIHdpZHRoOiAxZW07XG4gbGluZS1oZWlnaHQ6IGluaGVyaXQ7XG4gY3Vyc29yOiBwb2ludGVyO1xuIGNvbG9yOiB2YXIoLS1uLXRleHQtY29sb3IpO1xuIGNhcmV0LWNvbG9yOiB2YXIoLS1uLWNhcmV0LWNvbG9yKTtcbiBgKSwgY0UoJ21pcnJvcicsIGBcbiBwb3NpdGlvbjogYWJzb2x1dGU7XG4gbGVmdDogMDtcbiB0b3A6IDA7XG4gd2hpdGUtc3BhY2U6IHByZTtcbiB2aXNpYmlsaXR5OiBoaWRkZW47XG4gdXNlci1zZWxlY3Q6IG5vbmU7XG4gb3BhY2l0eTogMDtcbiBgKV0pLCBbJ3dhcm5pbmcnLCAnZXJyb3InXS5tYXAoc3RhdHVzID0+IGNNKGAke3N0YXR1c30tc3RhdHVzYCwgW2NFKCdzdGF0ZS1ib3JkZXInLCBgYm9yZGVyOiB2YXIoLS1uLWJvcmRlci0ke3N0YXR1c30pO2ApLCBjTm90TSgnZGlzYWJsZWQnLCBbYygnJjpob3ZlcicsIFtjRSgnc3RhdGUtYm9yZGVyJywgYFxuIGJveC1zaGFkb3c6IHZhcigtLW4tYm94LXNoYWRvdy1ob3Zlci0ke3N0YXR1c30pO1xuIGJvcmRlcjogdmFyKC0tbi1ib3JkZXItaG92ZXItJHtzdGF0dXN9KTtcbiBgKV0pLCBjTSgnYWN0aXZlJywgW2NFKCdzdGF0ZS1ib3JkZXInLCBgXG4gYm94LXNoYWRvdzogdmFyKC0tbi1ib3gtc2hhZG93LWFjdGl2ZS0ke3N0YXR1c30pO1xuIGJvcmRlcjogdmFyKC0tbi1ib3JkZXItYWN0aXZlLSR7c3RhdHVzfSk7XG4gYCksIGNCKCdiYXNlLXNlbGVjdGlvbi1sYWJlbCcsIGBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yLWFjdGl2ZS0ke3N0YXR1c30pO2ApLCBjQignYmFzZS1zZWxlY3Rpb24tdGFncycsIGBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yLWFjdGl2ZS0ke3N0YXR1c30pO2ApXSksIGNNKCdmb2N1cycsIFtjRSgnc3RhdGUtYm9yZGVyJywgYFxuIGJveC1zaGFkb3c6IHZhcigtLW4tYm94LXNoYWRvdy1mb2N1cy0ke3N0YXR1c30pO1xuIGJvcmRlcjogdmFyKC0tbi1ib3JkZXItZm9jdXMtJHtzdGF0dXN9KTtcbiBgKV0pXSldKSldKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXBvcG92ZXInLCBgXG4gbWFyZ2luLWJvdHRvbTogLTNweDtcbiBkaXNwbGF5OiBmbGV4O1xuIGZsZXgtd3JhcDogd3JhcDtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXRhZy13cmFwcGVyJywgYFxuIG1heC13aWR0aDogMTAwJTtcbiBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiBwYWRkaW5nOiAwIDdweCAzcHggMDtcbiBgLCBbYygnJjpsYXN0LWNoaWxkJywgJ3BhZGRpbmctcmlnaHQ6IDA7JyksIGNCKCd0YWcnLCBgXG4gZm9udC1zaXplOiAxNHB4O1xuIG1heC13aWR0aDogMTAwJTtcbiBgLCBbY0UoJ2NvbnRlbnQnLCBgXG4gbGluZS1oZWlnaHQ6IDEuMjU7XG4gdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gb3ZlcmZsb3c6IGhpZGRlbjtcbiBgKV0pXSldKTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgcGFkZGluZ1NpbmdsZTogJzAgMjZweCAwIDEycHgnLFxuICAgIHBhZGRpbmdNdWx0aXBsZTogJzNweCAyNnB4IDAgMTJweCcsXG4gICAgY2xlYXJTaXplOiAnMTZweCcsXG4gICAgYXJyb3dTaXplOiAnMTZweCdcbn07XG4iLCJpbXBvcnQgeyBjaGFuZ2VDb2xvciB9IGZyb20gJ3NlZW1seSc7XG5pbXBvcnQgeyBjb21tb25MaWdodCB9IGZyb20gJy4uLy4uLy4uL19zdHlsZXMvY29tbW9uJztcbmltcG9ydCB7IHBvcG92ZXJMaWdodCB9IGZyb20gJy4uLy4uLy4uL3BvcG92ZXIvc3R5bGVzJztcbmltcG9ydCBjb21tb25WYXJpYWJsZXMgZnJvbSAnLi9fY29tbW9uJztcbmltcG9ydCB7IGNyZWF0ZVRoZW1lIH0gZnJvbSAnLi4vLi4vLi4vX21peGlucyc7XG5jb25zdCBzZWxmID0gKHZhcnMpID0+IHtcbiAgICBjb25zdCB7IGJvcmRlclJhZGl1cywgdGV4dENvbG9yMiwgdGV4dENvbG9yRGlzYWJsZWQsIGlucHV0Q29sb3IsIGlucHV0Q29sb3JEaXNhYmxlZCwgcHJpbWFyeUNvbG9yLCBwcmltYXJ5Q29sb3JIb3Zlciwgd2FybmluZ0NvbG9yLCB3YXJuaW5nQ29sb3JIb3ZlciwgZXJyb3JDb2xvciwgZXJyb3JDb2xvckhvdmVyLCBib3JkZXJDb2xvciwgaWNvbkNvbG9yLCBpY29uQ29sb3JEaXNhYmxlZCwgY2xlYXJDb2xvciwgY2xlYXJDb2xvckhvdmVyLCBjbGVhckNvbG9yUHJlc3NlZCwgcGxhY2Vob2xkZXJDb2xvciwgcGxhY2Vob2xkZXJDb2xvckRpc2FibGVkLCBmb250U2l6ZVRpbnksIGZvbnRTaXplU21hbGwsIGZvbnRTaXplTWVkaXVtLCBmb250U2l6ZUxhcmdlLCBoZWlnaHRUaW55LCBoZWlnaHRTbWFsbCwgaGVpZ2h0TWVkaXVtLCBoZWlnaHRMYXJnZSB9ID0gdmFycztcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb21tb25WYXJpYWJsZXMpLCB7IGZvbnRTaXplVGlueSxcbiAgICAgICAgZm9udFNpemVTbWFsbCxcbiAgICAgICAgZm9udFNpemVNZWRpdW0sXG4gICAgICAgIGZvbnRTaXplTGFyZ2UsXG4gICAgICAgIGhlaWdodFRpbnksXG4gICAgICAgIGhlaWdodFNtYWxsLFxuICAgICAgICBoZWlnaHRNZWRpdW0sXG4gICAgICAgIGhlaWdodExhcmdlLFxuICAgICAgICBib3JkZXJSYWRpdXMsIFxuICAgICAgICAvLyBkZWZhdWx0XG4gICAgICAgIHRleHRDb2xvcjogdGV4dENvbG9yMiwgdGV4dENvbG9yRGlzYWJsZWQsXG4gICAgICAgIHBsYWNlaG9sZGVyQ29sb3IsXG4gICAgICAgIHBsYWNlaG9sZGVyQ29sb3JEaXNhYmxlZCwgY29sb3I6IGlucHV0Q29sb3IsIGNvbG9yRGlzYWJsZWQ6IGlucHV0Q29sb3JEaXNhYmxlZCwgY29sb3JBY3RpdmU6IGlucHV0Q29sb3IsIGJvcmRlcjogYDFweCBzb2xpZCAke2JvcmRlckNvbG9yfWAsIGJvcmRlckhvdmVyOiBgMXB4IHNvbGlkICR7cHJpbWFyeUNvbG9ySG92ZXJ9YCwgYm9yZGVyQWN0aXZlOiBgMXB4IHNvbGlkICR7cHJpbWFyeUNvbG9yfWAsIGJvcmRlckZvY3VzOiBgMXB4IHNvbGlkICR7cHJpbWFyeUNvbG9ySG92ZXJ9YCwgYm94U2hhZG93SG92ZXI6ICdub25lJywgYm94U2hhZG93QWN0aXZlOiBgMCAwIDAgMnB4ICR7Y2hhbmdlQ29sb3IocHJpbWFyeUNvbG9yLCB7XG4gICAgICAgICAgICBhbHBoYTogMC4yXG4gICAgICAgIH0pfWAsIGJveFNoYWRvd0ZvY3VzOiBgMCAwIDAgMnB4ICR7Y2hhbmdlQ29sb3IocHJpbWFyeUNvbG9yLCB7XG4gICAgICAgICAgICBhbHBoYTogMC4yXG4gICAgICAgIH0pfWAsIGNhcmV0Q29sb3I6IHByaW1hcnlDb2xvciwgYXJyb3dDb2xvcjogaWNvbkNvbG9yLCBhcnJvd0NvbG9yRGlzYWJsZWQ6IGljb25Db2xvckRpc2FibGVkLCBsb2FkaW5nQ29sb3I6IHByaW1hcnlDb2xvciwgXG4gICAgICAgIC8vIHdhcm5pbmdcbiAgICAgICAgYm9yZGVyV2FybmluZzogYDFweCBzb2xpZCAke3dhcm5pbmdDb2xvcn1gLCBib3JkZXJIb3Zlcldhcm5pbmc6IGAxcHggc29saWQgJHt3YXJuaW5nQ29sb3JIb3Zlcn1gLCBib3JkZXJBY3RpdmVXYXJuaW5nOiBgMXB4IHNvbGlkICR7d2FybmluZ0NvbG9yfWAsIGJvcmRlckZvY3VzV2FybmluZzogYDFweCBzb2xpZCAke3dhcm5pbmdDb2xvckhvdmVyfWAsIGJveFNoYWRvd0hvdmVyV2FybmluZzogJ25vbmUnLCBib3hTaGFkb3dBY3RpdmVXYXJuaW5nOiBgMCAwIDAgMnB4ICR7Y2hhbmdlQ29sb3Iod2FybmluZ0NvbG9yLCB7XG4gICAgICAgICAgICBhbHBoYTogMC4yXG4gICAgICAgIH0pfWAsIGJveFNoYWRvd0ZvY3VzV2FybmluZzogYDAgMCAwIDJweCAke2NoYW5nZUNvbG9yKHdhcm5pbmdDb2xvciwge1xuICAgICAgICAgICAgYWxwaGE6IDAuMlxuICAgICAgICB9KX1gLCBjb2xvckFjdGl2ZVdhcm5pbmc6IGlucHV0Q29sb3IsIGNhcmV0Q29sb3JXYXJuaW5nOiB3YXJuaW5nQ29sb3IsIFxuICAgICAgICAvLyBlcnJvclxuICAgICAgICBib3JkZXJFcnJvcjogYDFweCBzb2xpZCAke2Vycm9yQ29sb3J9YCwgYm9yZGVySG92ZXJFcnJvcjogYDFweCBzb2xpZCAke2Vycm9yQ29sb3JIb3Zlcn1gLCBib3JkZXJBY3RpdmVFcnJvcjogYDFweCBzb2xpZCAke2Vycm9yQ29sb3J9YCwgYm9yZGVyRm9jdXNFcnJvcjogYDFweCBzb2xpZCAke2Vycm9yQ29sb3JIb3Zlcn1gLCBib3hTaGFkb3dIb3ZlckVycm9yOiAnbm9uZScsIGJveFNoYWRvd0FjdGl2ZUVycm9yOiBgMCAwIDAgMnB4ICR7Y2hhbmdlQ29sb3IoZXJyb3JDb2xvciwge1xuICAgICAgICAgICAgYWxwaGE6IDAuMlxuICAgICAgICB9KX1gLCBib3hTaGFkb3dGb2N1c0Vycm9yOiBgMCAwIDAgMnB4ICR7Y2hhbmdlQ29sb3IoZXJyb3JDb2xvciwge1xuICAgICAgICAgICAgYWxwaGE6IDAuMlxuICAgICAgICB9KX1gLCBjb2xvckFjdGl2ZUVycm9yOiBpbnB1dENvbG9yLCBjYXJldENvbG9yRXJyb3I6IGVycm9yQ29sb3IsIGNsZWFyQ29sb3IsXG4gICAgICAgIGNsZWFyQ29sb3JIb3ZlcixcbiAgICAgICAgY2xlYXJDb2xvclByZXNzZWQgfSk7XG59O1xuY29uc3QgaW50ZXJuYWxTZWxlY3Rpb25MaWdodCA9IGNyZWF0ZVRoZW1lKHtcbiAgICBuYW1lOiAnSW50ZXJuYWxTZWxlY3Rpb24nLFxuICAgIGNvbW1vbjogY29tbW9uTGlnaHQsXG4gICAgcGVlcnM6IHtcbiAgICAgICAgUG9wb3ZlcjogcG9wb3ZlckxpZ2h0XG4gICAgfSxcbiAgICBzZWxmXG59KTtcbmV4cG9ydCBkZWZhdWx0IGludGVybmFsU2VsZWN0aW9uTGlnaHQ7XG4iLCJjb25zdCBwdXJlTnVtYmVyUmVnZXggPSAvXihcXGR8XFwuKSskLztcbmNvbnN0IG51bWJlclJlZ2V4ID0gLyhcXGR8XFwuKSsvO1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdExlbmd0aChsZW5ndGgsIHsgYyA9IDEsIG9mZnNldCA9IDAsIGF0dGFjaFB4ID0gdHJ1ZSB9ID0ge30pIHtcbiAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGxlbmd0aCArIG9mZnNldCkgKiBjO1xuICAgICAgICBpZiAocmVzdWx0ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuICcwJztcbiAgICAgICAgcmV0dXJuIGAke3Jlc3VsdH1weGA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBsZW5ndGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChwdXJlTnVtYmVyUmVnZXgudGVzdChsZW5ndGgpKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoTnVtYmVyKGxlbmd0aCkgKyBvZmZzZXQpICogYztcbiAgICAgICAgICAgIGlmIChhdHRhY2hQeCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnMCc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3Jlc3VsdH1weGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7cmVzdWx0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBudW1iZXJSZWdleC5leGVjKGxlbmd0aCk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdClcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIGxlbmd0aC5yZXBsYWNlKG51bWJlclJlZ2V4LCBTdHJpbmcoKE51bWJlcihyZXN1bHRbMF0pICsgb2Zmc2V0KSAqIGMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGVuZ3RoO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlQXR0cmlidXRlKHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIC8vIFRoZSBlbXB0eSBzdHJpbmcgc2hvdWxkIGFsc28gYmUgcmVzZXQgdG8gdW5kZWZpbmVkLlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGcmFnbWVudCwgY3JlYXRlVGV4dFZOb2RlLCBDb21tZW50IH0gZnJvbSAndnVlJztcbi8vIG8obikgZmxhdHRlblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4odk5vZGVzLCBmaWx0ZXJDb21tZW50Tm9kZSA9IHRydWUsIHJlc3VsdCA9IFtdKSB7XG4gICAgdk5vZGVzLmZvckVhY2goKHZOb2RlKSA9PiB7XG4gICAgICAgIGlmICh2Tm9kZSA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiB2Tm9kZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygdk5vZGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2Tm9kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjcmVhdGVUZXh0Vk5vZGUoU3RyaW5nKHZOb2RlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZOb2RlKSkge1xuICAgICAgICAgICAgZmxhdHRlbih2Tm9kZSwgZmlsdGVyQ29tbWVudE5vZGUsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZOb2RlLnR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICAgICAgICBpZiAodk5vZGUuY2hpbGRyZW4gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodk5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgZmxhdHRlbih2Tm9kZS5jaGlsZHJlbiwgZmlsdGVyQ29tbWVudE5vZGUsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByYXdTbG90XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodk5vZGUudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godk5vZGUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsImltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuL2ZsYXR0ZW4nO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uL25haXZlJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdFNsb3RWTm9kZShzbG90cywgc2xvdE5hbWUgPSAnZGVmYXVsdCcsIHByb3BzID0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qgc2xvdCA9IHNsb3RzW3Nsb3ROYW1lXTtcbiAgICBpZiAoIXNsb3QpIHtcbiAgICAgICAgd2FybignZ2V0Rmlyc3RTbG90Vk5vZGUnLCBgc2xvdFske3Nsb3ROYW1lfV0gaXMgZW1wdHlgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNsb3RDb250ZW50ID0gZmxhdHRlbihzbG90KHByb3BzKSk7XG4gICAgLy8gdnVlIHdpbGwgbm9ybWFsaXplIHRoZSBzbG90LCBzbyBzbG90IG11c3QgYmUgYW4gYXJyYXlcbiAgICBpZiAoc2xvdENvbnRlbnQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzbG90Q29udGVudFswXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdhcm4oJ2dldEZpcnN0U2xvdFZOb2RlJywgYHNsb3RbJHtzbG90TmFtZX1dIHNob3VsZCBoYXZlIGV4YWN0bHkgb25lIGNoaWxkYCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBrZWVwKG9iamVjdCwga2V5cyA9IFtdLCByZXN0KSB7XG4gICAgY29uc3Qga2VlcGVkT2JqZWN0ID0ge307XG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAga2VlcGVkT2JqZWN0W2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihrZWVwZWRPYmplY3QsIHJlc3QpO1xufVxuIiwiaW1wb3J0IHsgY3JlYXRlVGV4dFZOb2RlIH0gZnJvbSAndnVlJztcbmV4cG9ydCBjb25zdCByZW5kZXIgPSAociwgLi4uYXJncykgPT4ge1xuICAgIGlmICh0eXBlb2YgciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gciguLi5hcmdzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUZXh0Vk5vZGUocik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gY3JlYXRlVGV4dFZOb2RlKFN0cmluZyhyKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50LCBjb21wdXRlZCwgaW5qZWN0IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGNvbmZpZ1Byb3ZpZGVySW5qZWN0aW9uS2V5IH0gZnJvbSAnLi4vLi4vY29uZmlnLXByb3ZpZGVyL3NyYy9jb250ZXh0JztcbmltcG9ydCB7IEVtcHR5SWNvbiB9IGZyb20gJy4uLy4uL19pbnRlcm5hbC9pY29ucyc7XG5pbXBvcnQgeyB1c2VDb25maWcsIHVzZUxvY2FsZSwgdXNlVGhlbWUsIHVzZVRoZW1lQ2xhc3MgfSBmcm9tICcuLi8uLi9fbWl4aW5zJztcbmltcG9ydCB7IGNyZWF0ZUtleSB9IGZyb20gJy4uLy4uL191dGlscyc7XG5pbXBvcnQgeyBOQmFzZUljb24gfSBmcm9tICcuLi8uLi9faW50ZXJuYWwnO1xuaW1wb3J0IHsgZW1wdHlMaWdodCB9IGZyb20gJy4uL3N0eWxlcyc7XG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZXMvaW5kZXguY3Nzcic7XG5jb25zdCBlbXB0eVByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB1c2VUaGVtZS5wcm9wcyksIHsgZGVzY3JpcHRpb246IFN0cmluZywgc2hvd0Rlc2NyaXB0aW9uOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LCBzaG93SWNvbjoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSwgc2l6ZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICdtZWRpdW0nXG4gICAgfSwgcmVuZGVySWNvbjogRnVuY3Rpb24gfSk7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdFbXB0eScsXG4gICAgcHJvcHM6IGVtcHR5UHJvcHMsXG4gICAgc2V0dXAocHJvcHMpIHtcbiAgICAgICAgY29uc3QgeyBtZXJnZWRDbHNQcmVmaXhSZWYsIGlubGluZVRoZW1lRGlzYWJsZWQgfSA9IHVzZUNvbmZpZyhwcm9wcyk7XG4gICAgICAgIGNvbnN0IHRoZW1lUmVmID0gdXNlVGhlbWUoJ0VtcHR5JywgJy1lbXB0eScsIHN0eWxlLCBlbXB0eUxpZ2h0LCBwcm9wcywgbWVyZ2VkQ2xzUHJlZml4UmVmKTtcbiAgICAgICAgY29uc3QgeyBsb2NhbGVSZWYgfSA9IHVzZUxvY2FsZSgnRW1wdHknKTtcbiAgICAgICAgY29uc3QgTkNvbmZpZ1Byb3ZpZGVyID0gaW5qZWN0KGNvbmZpZ1Byb3ZpZGVySW5qZWN0aW9uS2V5LCBudWxsKTtcbiAgICAgICAgY29uc3QgbWVyZ2VkRGVzY3JpcHRpb25SZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIHJldHVybiAoKF9hID0gcHJvcHMuZGVzY3JpcHRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChfYyA9IChfYiA9IE5Db25maWdQcm92aWRlciA9PT0gbnVsbCB8fCBOQ29uZmlnUHJvdmlkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IE5Db25maWdQcm92aWRlci5tZXJnZWRDb21wb25lbnRQcm9wc1JlZi52YWx1ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLkVtcHR5KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGVzY3JpcHRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbWVyZ2VkUmVuZGVySWNvblJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gKChfYiA9IChfYSA9IE5Db25maWdQcm92aWRlciA9PT0gbnVsbCB8fCBOQ29uZmlnUHJvdmlkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IE5Db25maWdQcm92aWRlci5tZXJnZWRDb21wb25lbnRQcm9wc1JlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLkVtcHR5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVuZGVySWNvbikgfHxcbiAgICAgICAgICAgICAgICAoKCkgPT4gaChFbXB0eUljb24sIG51bGwpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNzc1ZhcnNSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNpemUgfSA9IHByb3BzO1xuICAgICAgICAgICAgY29uc3QgeyBjb21tb246IHsgY3ViaWNCZXppZXJFYXNlSW5PdXQgfSwgc2VsZjogeyBbY3JlYXRlS2V5KCdpY29uU2l6ZScsIHNpemUpXTogaWNvblNpemUsIFtjcmVhdGVLZXkoJ2ZvbnRTaXplJywgc2l6ZSldOiBmb250U2l6ZSwgdGV4dENvbG9yLCBpY29uQ29sb3IsIGV4dHJhVGV4dENvbG9yIH0gfSA9IHRoZW1lUmVmLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAnLS1uLWljb24tc2l6ZSc6IGljb25TaXplLFxuICAgICAgICAgICAgICAgICctLW4tZm9udC1zaXplJzogZm9udFNpemUsXG4gICAgICAgICAgICAgICAgJy0tbi1iZXppZXInOiBjdWJpY0JlemllckVhc2VJbk91dCxcbiAgICAgICAgICAgICAgICAnLS1uLXRleHQtY29sb3InOiB0ZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1pY29uLWNvbG9yJzogaWNvbkNvbG9yLFxuICAgICAgICAgICAgICAgICctLW4tZXh0cmEtdGV4dC1jb2xvcic6IGV4dHJhVGV4dENvbG9yXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdGhlbWVDbGFzc0hhbmRsZSA9IGlubGluZVRoZW1lRGlzYWJsZWRcbiAgICAgICAgICAgID8gdXNlVGhlbWVDbGFzcygnZW1wdHknLCBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGhhc2ggPSAnJztcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNpemUgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgIGhhc2ggKz0gc2l6ZVswXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzaDtcbiAgICAgICAgICAgIH0pLCBjc3NWYXJzUmVmLCBwcm9wcylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVyZ2VkQ2xzUHJlZml4OiBtZXJnZWRDbHNQcmVmaXhSZWYsXG4gICAgICAgICAgICBtZXJnZWRSZW5kZXJJY29uOiBtZXJnZWRSZW5kZXJJY29uUmVmLFxuICAgICAgICAgICAgbG9jYWxpemVkRGVzY3JpcHRpb246IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVyZ2VkRGVzY3JpcHRpb25SZWYudmFsdWUgfHwgbG9jYWxlUmVmLnZhbHVlLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjc3NWYXJzOiBpbmxpbmVUaGVtZURpc2FibGVkID8gdW5kZWZpbmVkIDogY3NzVmFyc1JlZixcbiAgICAgICAgICAgIHRoZW1lQ2xhc3M6IHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS50aGVtZUNsYXNzLFxuICAgICAgICAgICAgb25SZW5kZXI6IHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS5vblJlbmRlclxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7ICRzbG90cywgbWVyZ2VkQ2xzUHJlZml4LCBvblJlbmRlciB9ID0gdGhpcztcbiAgICAgICAgb25SZW5kZXIgPT09IG51bGwgfHwgb25SZW5kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uUmVuZGVyKCk7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBbYCR7bWVyZ2VkQ2xzUHJlZml4fS1lbXB0eWAsIHRoaXMudGhlbWVDbGFzc10sIHN0eWxlOiB0aGlzLmNzc1ZhcnMgfSxcbiAgICAgICAgICAgIHRoaXMuc2hvd0ljb24gPyAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LWVtcHR5X19pY29uYCB9LCAkc2xvdHMuaWNvbiA/ICgkc2xvdHMuaWNvbigpKSA6IChoKE5CYXNlSWNvbiwgeyBjbHNQcmVmaXg6IG1lcmdlZENsc1ByZWZpeCB9LCB7IGRlZmF1bHQ6IHRoaXMubWVyZ2VkUmVuZGVySWNvbiB9KSkpKSA6IG51bGwsXG4gICAgICAgICAgICB0aGlzLnNob3dEZXNjcmlwdGlvbiA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke21lcmdlZENsc1ByZWZpeH0tZW1wdHlfX2Rlc2NyaXB0aW9uYCB9LCAkc2xvdHMuZGVmYXVsdCA/ICRzbG90cy5kZWZhdWx0KCkgOiB0aGlzLmxvY2FsaXplZERlc2NyaXB0aW9uKSkgOiBudWxsLFxuICAgICAgICAgICAgJHNsb3RzLmV4dHJhID8gKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7bWVyZ2VkQ2xzUHJlZml4fS1lbXB0eV9fZXh0cmFgIH0sICRzbG90cy5leHRyYSgpKSkgOiBudWxsKSk7XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgeyBjLCBjQiwgY0UgfSBmcm9tICcuLi8uLi8uLi9fdXRpbHMvY3Nzcic7IC8vIHZhcnM6XG4vLyAtLW4tZm9udC1zaXplXG4vLyAtLW4taWNvbi1zaXplXG4vLyAtLW4taWNvbi1jb2xvclxuLy8gLS1uLWJlemllclxuLy8gLS1uLXRleHQtY29sb3Jcbi8vIC0tbi1leHRyYS10ZXh0LWNvbG9yXG5cbmV4cG9ydCBkZWZhdWx0IGNCKCdlbXB0eScsIGBcbiBkaXNwbGF5OiBmbGV4O1xuIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gYWxpZ24taXRlbXM6IGNlbnRlcjtcbiBmb250LXNpemU6IHZhcigtLW4tZm9udC1zaXplKTtcbmAsIFtjRSgnaWNvbicsIGBcbiB3aWR0aDogdmFyKC0tbi1pY29uLXNpemUpO1xuIGhlaWdodDogdmFyKC0tbi1pY29uLXNpemUpO1xuIGZvbnQtc2l6ZTogdmFyKC0tbi1pY29uLXNpemUpO1xuIGxpbmUtaGVpZ2h0OiB2YXIoLS1uLWljb24tc2l6ZSk7XG4gY29sb3I6IHZhcigtLW4taWNvbi1jb2xvcik7XG4gdHJhbnNpdGlvbjpcbiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGAsIFtjKCcrJywgW2NFKCdkZXNjcmlwdGlvbicsIGBcbiBtYXJnaW4tdG9wOiA4cHg7XG4gYCldKV0pLCBjRSgnZGVzY3JpcHRpb24nLCBgXG4gdHJhbnNpdGlvbjogY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBjb2xvcjogdmFyKC0tbi10ZXh0LWNvbG9yKTtcbiBgKSwgY0UoJ2V4dHJhJywgYFxuIHRleHQtYWxpZ246IGNlbnRlcjtcbiB0cmFuc2l0aW9uOiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIG1hcmdpbi10b3A6IDEycHg7XG4gY29sb3I6IHZhcigtLW4tZXh0cmEtdGV4dC1jb2xvcik7XG4gYCldKTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgaWNvblNpemVTbWFsbDogJzM0cHgnLFxuICAgIGljb25TaXplTWVkaXVtOiAnNDBweCcsXG4gICAgaWNvblNpemVMYXJnZTogJzQ2cHgnLFxuICAgIGljb25TaXplSHVnZTogJzUycHgnXG59O1xuIiwiaW1wb3J0IGNvbW1vblZhcnMgZnJvbSAnLi9fY29tbW9uJztcbmltcG9ydCB7IGNvbW1vbkxpZ2h0IH0gZnJvbSAnLi4vLi4vX3N0eWxlcy9jb21tb24nO1xuZXhwb3J0IGNvbnN0IHNlbGYgPSAodmFycykgPT4ge1xuICAgIGNvbnN0IHsgdGV4dENvbG9yRGlzYWJsZWQsIGljb25Db2xvciwgdGV4dENvbG9yMiwgZm9udFNpemVTbWFsbCwgZm9udFNpemVNZWRpdW0sIGZvbnRTaXplTGFyZ2UsIGZvbnRTaXplSHVnZSB9ID0gdmFycztcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb21tb25WYXJzKSwgeyBmb250U2l6ZVNtYWxsLFxuICAgICAgICBmb250U2l6ZU1lZGl1bSxcbiAgICAgICAgZm9udFNpemVMYXJnZSxcbiAgICAgICAgZm9udFNpemVIdWdlLCB0ZXh0Q29sb3I6IHRleHRDb2xvckRpc2FibGVkLCBpY29uQ29sb3I6IGljb25Db2xvciwgZXh0cmFUZXh0Q29sb3I6IHRleHRDb2xvcjIgfSk7XG59O1xuY29uc3QgZW1wdHlMaWdodCA9IHtcbiAgICBuYW1lOiAnRW1wdHknLFxuICAgIGNvbW1vbjogY29tbW9uTGlnaHQsXG4gICAgc2VsZlxufTtcbmV4cG9ydCBkZWZhdWx0IGVtcHR5TGlnaHQ7XG4iLCJpbXBvcnQgeyBoLCByZWYsIGNvbXB1dGVkLCBjcmVhdGVUZXh0Vk5vZGUsIGRlZmluZUNvbXBvbmVudCwgcHJvdmlkZSwgdG9SZWYsIGNsb25lVk5vZGUsIHdhdGNoRWZmZWN0LCB3aXRoRGlyZWN0aXZlcyB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBWQmluZGVyLCBWVGFyZ2V0IH0gZnJvbSAndnVldWMnO1xuaW1wb3J0IHsgdXNlTWVyZ2VkU3RhdGUsIHVzZUNvbXBpdGFibGUsIHVzZUlzTW91bnRlZCwgdXNlTWVtbyB9IGZyb20gJ3Zvb2tzJztcbmltcG9ydCB7IGNhbGwsIGtlZXAsIGdldEZpcnN0U2xvdFZOb2RlLCB3YXJuT25jZSwgdXNlQWRqdXN0ZWRUbyB9IGZyb20gJy4uLy4uL191dGlscyc7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJy4uLy4uL19taXhpbnMnO1xuaW1wb3J0IE5Qb3BvdmVyQm9keSwgeyBwb3BvdmVyQm9keVByb3BzIH0gZnJvbSAnLi9Qb3BvdmVyQm9keSc7XG5pbXBvcnQgeyB6aW5kZXhhYmxlIH0gZnJvbSAndmRpcnMnO1xuY29uc3QgYm9keVByb3BLZXlzID0gT2JqZWN0LmtleXMocG9wb3ZlckJvZHlQcm9wcyk7XG5jb25zdCB0cmlnZ2VyRXZlbnRNYXAgPSB7XG4gICAgZm9jdXM6IFsnb25Gb2N1cycsICdvbkJsdXInXSxcbiAgICBjbGljazogWydvbkNsaWNrJ10sXG4gICAgaG92ZXI6IFsnb25Nb3VzZWVudGVyJywgJ29uTW91c2VsZWF2ZSddLFxuICAgIG1hbnVhbDogW10sXG4gICAgbmVzdGVkOiBbJ29uRm9jdXMnLCAnb25CbHVyJywgJ29uTW91c2VlbnRlcicsICdvbk1vdXNlbGVhdmUnLCAnb25DbGljayddXG59O1xuZnVuY3Rpb24gYXBwZW5kRXZlbnRzKHZOb2RlLCB0cmlnZ2VyLCBldmVudHMpIHtcbiAgICB0cmlnZ2VyRXZlbnRNYXBbdHJpZ2dlcl0uZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XG4gICAgICAgIGlmICghdk5vZGUucHJvcHMpXG4gICAgICAgICAgICB2Tm9kZS5wcm9wcyA9IHt9O1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZOb2RlLnByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgdk5vZGUucHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSGFuZGxlciA9IHZOb2RlLnByb3BzW2V2ZW50TmFtZV07XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBldmVudHNbZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKCFvcmlnaW5hbEhhbmRsZXIpXG4gICAgICAgICAgICB2Tm9kZS5wcm9wc1tldmVudE5hbWVdID0gaGFuZGxlcjtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2Tm9kZS5wcm9wc1tldmVudE5hbWVdID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEhhbmRsZXIoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgaGFuZGxlciguLi5hcmdzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmNvbnN0IHRleHRWTm9kZVR5cGUgPSBjcmVhdGVUZXh0Vk5vZGUoJycpLnR5cGU7XG5leHBvcnQgY29uc3QgcG9wb3ZlckJhc2VQcm9wcyA9IHtcbiAgICBzaG93OiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgIH0sXG4gICAgZGVmYXVsdFNob3c6IEJvb2xlYW4sXG4gICAgc2hvd0Fycm93OiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIHRyaWdnZXI6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAnaG92ZXInXG4gICAgfSxcbiAgICBkZWxheToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIGRlZmF1bHQ6IDEwMFxuICAgIH0sXG4gICAgZHVyYXRpb246IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBkZWZhdWx0OiAxMDBcbiAgICB9LFxuICAgIHJhdzogQm9vbGVhbixcbiAgICBwbGFjZW1lbnQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAndG9wJ1xuICAgIH0sXG4gICAgeDogTnVtYmVyLFxuICAgIHk6IE51bWJlcixcbiAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICBnZXREaXNhYmxlZDogRnVuY3Rpb24sXG4gICAgZGlzcGxheURpcmVjdGl2ZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICdpZidcbiAgICB9LFxuICAgIGFycm93U3R5bGU6IFtTdHJpbmcsIE9iamVjdF0sXG4gICAgZmxpcDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBhbmltYXRlZDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICB3aWR0aDoge1xuICAgICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9LFxuICAgIG92ZXJsYXA6IEJvb2xlYW4sXG4gICAga2VlcEFsaXZlT25Ib3Zlcjoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBvbkNsaWNrb3V0c2lkZTogRnVuY3Rpb24sXG4gICAgaW50ZXJuYWxFeHRyYUNsYXNzOiB7XG4gICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICBkZWZhdWx0OiAoKSA9PiBbXVxuICAgIH0sXG4gICAgLy8gZXZlbnRzXG4gICAgJ29uVXBkYXRlOnNob3cnOiBbRnVuY3Rpb24sIEFycmF5XSxcbiAgICBvblVwZGF0ZVNob3c6IFtGdW5jdGlvbiwgQXJyYXldLFxuICAgIHpJbmRleDogTnVtYmVyLFxuICAgIHRvOiB1c2VBZGp1c3RlZFRvLnByb3BUbyxcbiAgICBpbnRlcm5hbFN5bmNUYXJnZXRXaXRoUGFyZW50OiBCb29sZWFuLFxuICAgIGludGVybmFsSW5oZXJpdGVkRXZlbnRIYW5kbGVyczoge1xuICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gW11cbiAgICB9LFxuICAgIGludGVybmFsVHJhcEZvY3VzOiBCb29sZWFuLFxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIG9uU2hvdzogW0Z1bmN0aW9uLCBBcnJheV0sXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgb25IaWRlOiBbRnVuY3Rpb24sIEFycmF5XSxcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBhcnJvdzoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9LFxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIG1pbldpZHRoOiBOdW1iZXIsXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgbWF4V2lkdGg6IE51bWJlclxufTtcbmNvbnN0IHBvcG92ZXJQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB1c2VUaGVtZS5wcm9wcyksIHBvcG92ZXJCYXNlUHJvcHMpLCB7IGludGVybmFsUmVuZGVyQm9keTogRnVuY3Rpb24gfSk7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdQb3BvdmVyJyxcbiAgICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuICAgIHByb3BzOiBwb3BvdmVyUHJvcHMsXG4gICAgX19wb3BvdmVyX186IHRydWUsXG4gICAgc2V0dXAocHJvcHMpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHdhdGNoRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMubWF4V2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuT25jZSgncG9wb3ZlcicsICdgbWF4LXdpZHRoYCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGBzdHlsZWAgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLm1pbldpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Fybk9uY2UoJ3BvcG92ZXInLCAnYG1pbi13aWR0aGAgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgc3R5bGVgIGluc3RlYWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5hcnJvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5PbmNlKCdwb3BvdmVyJywgJ2BhcnJvd2AgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgc2hvd0Fycm93YCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHJvcHMub25IaWRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Fybk9uY2UoJ3BvcG92ZXInLCAnYG9uLWhpZGVgIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYG9uLXVwZGF0ZTpzaG93YCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHJvcHMub25TaG93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Fybk9uY2UoJ3BvcG92ZXInLCAnYG9uLXNob3dgIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYG9uLXVwZGF0ZTpzaG93YCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZUlzTW91bnRlZCgpO1xuICAgICAgICBjb25zdCBiaW5kZXJJbnN0UmVmID0gcmVmKG51bGwpO1xuICAgICAgICAvLyBzZXR1cCBzaG93XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZWRTaG93UmVmID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMuc2hvdyk7XG4gICAgICAgIGNvbnN0IHVuY29udHJvbGxlZFNob3dSZWYgPSByZWYocHJvcHMuZGVmYXVsdFNob3cpO1xuICAgICAgICBjb25zdCBtZXJnZWRTaG93V2l0aG91dERpc2FibGVkUmVmID0gdXNlTWVyZ2VkU3RhdGUoY29udHJvbGxlZFNob3dSZWYsIHVuY29udHJvbGxlZFNob3dSZWYpO1xuICAgICAgICBjb25zdCBtZXJnZWRTaG93Q29uc2lkZXJpbmdEaXNhYmxlZFByb3BSZWYgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5kaXNhYmxlZClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VkU2hvd1dpdGhvdXREaXNhYmxlZFJlZi52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGdldE1lcmdlZERpc2FibGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3BzLmRpc2FibGVkKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY29uc3QgeyBnZXREaXNhYmxlZCB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAoZ2V0RGlzYWJsZWQgPT09IG51bGwgfHwgZ2V0RGlzYWJsZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdldERpc2FibGVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGdldE1lcmdlZFNob3cgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZ2V0TWVyZ2VkRGlzYWJsZWQoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VkU2hvd1dpdGhvdXREaXNhYmxlZFJlZi52YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc2V0dXAgc2hvdy1hcnJvd1xuICAgICAgICBjb25zdCBjb21wYXRpYmxlU2hvd0Fycm93UmVmID0gdXNlQ29tcGl0YWJsZShwcm9wcywgWydhcnJvdycsICdzaG93QXJyb3cnXSk7XG4gICAgICAgIGNvbnN0IG1lcmdlZFNob3dBcnJvd1JlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5vdmVybGFwKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBjb21wYXRpYmxlU2hvd0Fycm93UmVmLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gYm9keUluc3RhbmNlXG4gICAgICAgIGxldCBib2R5SW5zdGFuY2UgPSBudWxsO1xuICAgICAgICBjb25zdCBzaG93VGltZXJJZFJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgY29uc3QgaGlkZVRpbWVySWRSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uTWFudWFsbHlSZWYgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wcy54ICE9PSB1bmRlZmluZWQgJiYgcHJvcHMueSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gbWV0aG9kc1xuICAgICAgICBmdW5jdGlvbiBkb1VwZGF0ZVNob3codmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgJ29uVXBkYXRlOnNob3cnOiBfb25VcGRhdGVTaG93LCBvblVwZGF0ZVNob3csIG9uU2hvdywgb25IaWRlIH0gPSBwcm9wcztcbiAgICAgICAgICAgIHVuY29udHJvbGxlZFNob3dSZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChfb25VcGRhdGVTaG93KSB7XG4gICAgICAgICAgICAgICAgY2FsbChfb25VcGRhdGVTaG93LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25VcGRhdGVTaG93KSB7XG4gICAgICAgICAgICAgICAgY2FsbChvblVwZGF0ZVNob3csIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiBvblNob3cpIHtcbiAgICAgICAgICAgICAgICBjYWxsKG9uU2hvdywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgb25IaWRlKSB7XG4gICAgICAgICAgICAgICAgY2FsbChvbkhpZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzeW5jUG9zaXRpb24oKSB7XG4gICAgICAgICAgICBpZiAoYm9keUluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgYm9keUluc3RhbmNlLnN5bmNQb3NpdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyU2hvd1RpbWVyKCkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogc2hvd1RpbWVySWQgfSA9IHNob3dUaW1lcklkUmVmO1xuICAgICAgICAgICAgaWYgKHNob3dUaW1lcklkKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChzaG93VGltZXJJZCk7XG4gICAgICAgICAgICAgICAgc2hvd1RpbWVySWRSZWYudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNsZWFySGlkZVRpbWVyKCkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogaGlkZVRpbWVySWQgfSA9IGhpZGVUaW1lcklkUmVmO1xuICAgICAgICAgICAgaWYgKGhpZGVUaW1lcklkKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChoaWRlVGltZXJJZCk7XG4gICAgICAgICAgICAgICAgaGlkZVRpbWVySWRSZWYudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzKCkge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkRGlzYWJsZWQgPSBnZXRNZXJnZWREaXNhYmxlZCgpO1xuICAgICAgICAgICAgaWYgKHByb3BzLnRyaWdnZXIgPT09ICdmb2N1cycgJiYgIW1lcmdlZERpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdldE1lcmdlZFNob3coKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGRvVXBkYXRlU2hvdyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVCbHVyKCkge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkRGlzYWJsZWQgPSBnZXRNZXJnZWREaXNhYmxlZCgpO1xuICAgICAgICAgICAgaWYgKHByb3BzLnRyaWdnZXIgPT09ICdmb2N1cycgJiYgIW1lcmdlZERpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFnZXRNZXJnZWRTaG93KCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkb1VwZGF0ZVNob3coZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWREaXNhYmxlZCA9IGdldE1lcmdlZERpc2FibGVkKCk7XG4gICAgICAgICAgICBpZiAocHJvcHMudHJpZ2dlciA9PT0gJ2hvdmVyJyAmJiAhbWVyZ2VkRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjbGVhckhpZGVUaW1lcigpO1xuICAgICAgICAgICAgICAgIGlmIChzaG93VGltZXJJZFJlZi52YWx1ZSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChnZXRNZXJnZWRTaG93KCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkb1VwZGF0ZVNob3codHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUaW1lcklkUmVmLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGVsYXkgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgIGlmIChkZWxheSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaG93VGltZXJJZFJlZi52YWx1ZSA9IHdpbmRvdy5zZXRUaW1lb3V0KGRlbGF5Q2FsbGJhY2ssIGRlbGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZERpc2FibGVkID0gZ2V0TWVyZ2VkRGlzYWJsZWQoKTtcbiAgICAgICAgICAgIGlmIChwcm9wcy50cmlnZ2VyID09PSAnaG92ZXInICYmICFtZXJnZWREaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIGNsZWFyU2hvd1RpbWVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKGhpZGVUaW1lcklkUmVmLnZhbHVlICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKCFnZXRNZXJnZWRTaG93KCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheWVkQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRvVXBkYXRlU2hvdyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVUaW1lcklkUmVmLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZHVyYXRpb24gfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxheWVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVUaW1lcklkUmVmLnZhbHVlID0gd2luZG93LnNldFRpbWVvdXQoZGVsYXllZENhbGxiYWNrLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHdpbGwgYmUgY2FsbGVkIGluIHBvcG92ZXItY29udGVudFxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVPdXRzaWRlKCkge1xuICAgICAgICAgICAgaGFuZGxlTW91c2VMZWF2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdpbGwgYmUgY2FsbGVkIGluIHBvcG92ZXItY29udGVudFxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVDbGlja091dHNpZGUoZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFnZXRNZXJnZWRTaG93KCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHByb3BzLnRyaWdnZXIgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAgICAgICBjbGVhclNob3dUaW1lcigpO1xuICAgICAgICAgICAgICAgIGNsZWFySGlkZVRpbWVyKCk7XG4gICAgICAgICAgICAgICAgZG9VcGRhdGVTaG93KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChfYSA9IHByb3BzLm9uQ2xpY2tvdXRzaWRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMudHJpZ2dlciA9PT0gJ2NsaWNrJyAmJiAhZ2V0TWVyZ2VkRGlzYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIGNsZWFyU2hvd1RpbWVyKCk7XG4gICAgICAgICAgICAgICAgY2xlYXJIaWRlVGltZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0U2hvdyA9ICFnZXRNZXJnZWRTaG93KCk7XG4gICAgICAgICAgICAgICAgZG9VcGRhdGVTaG93KG5leHRTaG93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGUpIHtcbiAgICAgICAgICAgIGlmICghcHJvcHMuaW50ZXJuYWxUcmFwRm9jdXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgICBjbGVhclNob3dUaW1lcigpO1xuICAgICAgICAgICAgICAgIGNsZWFySGlkZVRpbWVyKCk7XG4gICAgICAgICAgICAgICAgZG9VcGRhdGVTaG93KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzZXRTaG93KHZhbHVlKSB7XG4gICAgICAgICAgICB1bmNvbnRyb2xsZWRTaG93UmVmLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0VHJpZ2dlckVsZW1lbnQoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gYmluZGVySW5zdFJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRhcmdldFJlZjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzZXRCb2R5SW5zdGFuY2UodmFsdWUpIHtcbiAgICAgICAgICAgIGJvZHlJbnN0YW5jZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHByb3ZpZGUoJ05Qb3BvdmVyJywge1xuICAgICAgICAgICAgZ2V0VHJpZ2dlckVsZW1lbnQsXG4gICAgICAgICAgICBoYW5kbGVLZXlkb3duLFxuICAgICAgICAgICAgaGFuZGxlTW91c2VFbnRlcixcbiAgICAgICAgICAgIGhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgICAgICBoYW5kbGVDbGlja091dHNpZGUsXG4gICAgICAgICAgICBoYW5kbGVNb3VzZU1vdmVPdXRzaWRlLFxuICAgICAgICAgICAgc2V0Qm9keUluc3RhbmNlLFxuICAgICAgICAgICAgcG9zaXRpb25NYW51YWxseVJlZjogcG9zaXRpb25NYW51YWxseVJlZixcbiAgICAgICAgICAgIGlzTW91bnRlZFJlZjogaXNNb3VudGVkUmVmLFxuICAgICAgICAgICAgekluZGV4UmVmOiB0b1JlZihwcm9wcywgJ3pJbmRleCcpLFxuICAgICAgICAgICAgZXh0cmFDbGFzc1JlZjogdG9SZWYocHJvcHMsICdpbnRlcm5hbEV4dHJhQ2xhc3MnKSxcbiAgICAgICAgICAgIGludGVybmFsUmVuZGVyQm9keVJlZjogdG9SZWYocHJvcHMsICdpbnRlcm5hbFJlbmRlckJvZHknKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJpbmRlckluc3RSZWYsXG4gICAgICAgICAgICBwb3NpdGlvbk1hbnVhbGx5OiBwb3NpdGlvbk1hbnVhbGx5UmVmLFxuICAgICAgICAgICAgbWVyZ2VkU2hvd0NvbnNpZGVyaW5nRGlzYWJsZWRQcm9wOiBtZXJnZWRTaG93Q29uc2lkZXJpbmdEaXNhYmxlZFByb3BSZWYsXG4gICAgICAgICAgICAvLyBpZiB0byBzaG93IHBvcG92ZXIgYm9keVxuICAgICAgICAgICAgdW5jb250cm9sbGVkU2hvdzogdW5jb250cm9sbGVkU2hvd1JlZixcbiAgICAgICAgICAgIG1lcmdlZFNob3dBcnJvdzogbWVyZ2VkU2hvd0Fycm93UmVmLFxuICAgICAgICAgICAgZ2V0TWVyZ2VkU2hvdyxcbiAgICAgICAgICAgIHNldFNob3csXG4gICAgICAgICAgICBoYW5kbGVDbGljayxcbiAgICAgICAgICAgIGhhbmRsZU1vdXNlRW50ZXIsXG4gICAgICAgICAgICBoYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgICAgICAgaGFuZGxlRm9jdXMsXG4gICAgICAgICAgICBoYW5kbGVCbHVyLFxuICAgICAgICAgICAgc3luY1Bvc2l0aW9uXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBwb3NpdGlvbk1hbnVhbGx5LCAkc2xvdHM6IHNsb3RzIH0gPSB0aGlzO1xuICAgICAgICBsZXQgdHJpZ2dlclZOb2RlO1xuICAgICAgICBsZXQgcG9wb3Zlckluc2lkZSA9IGZhbHNlO1xuICAgICAgICBpZiAoIXBvc2l0aW9uTWFudWFsbHkpIHtcbiAgICAgICAgICAgIGlmIChzbG90cy5hY3RpdmF0b3IpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyVk5vZGUgPSBnZXRGaXJzdFNsb3RWTm9kZShzbG90cywgJ2FjdGl2YXRvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlclZOb2RlID0gZ2V0Rmlyc3RTbG90Vk5vZGUoc2xvdHMsICd0cmlnZ2VyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHJpZ2dlclZOb2RlKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlclZOb2RlID0gY2xvbmVWTm9kZSh0cmlnZ2VyVk5vZGUpO1xuICAgICAgICAgICAgICAgIHRyaWdnZXJWTm9kZSA9XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJWTm9kZS50eXBlID09PSB0ZXh0Vk5vZGVUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGgoJ3NwYW4nLCBbdHJpZ2dlclZOb2RlXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHJpZ2dlclZOb2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzID0ge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrLFxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlZW50ZXI6IHRoaXMuaGFuZGxlTW91c2VFbnRlcixcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZWxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgICAgICAgICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRm9jdXMsXG4gICAgICAgICAgICAgICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoKF9hID0gdHJpZ2dlclZOb2RlLnR5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fX3BvcG92ZXJfXykge1xuICAgICAgICAgICAgICAgICAgICBwb3BvdmVySW5zaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXNzdW1lIHRoYXQgdGhlcmUncyBubyBET00gZXZlbnQgaGFuZGxlcnMgb24gcG9wb3ZlciBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJpZ2dlclZOb2RlLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyVk5vZGUucHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxTeW5jVGFyZ2V0V2l0aFBhcmVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbEluaGVyaXRlZEV2ZW50SGFuZGxlcnM6IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJWTm9kZS5wcm9wcy5pbnRlcm5hbFN5bmNUYXJnZXRXaXRoUGFyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmlnZ2VyVk5vZGUucHJvcHMuaW50ZXJuYWxJbmhlcml0ZWRFdmVudEhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyVk5vZGUucHJvcHMuaW50ZXJuYWxJbmhlcml0ZWRFdmVudEhhbmRsZXJzID0gW2hhbmRsZXJzXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJWTm9kZS5wcm9wcy5pbnRlcm5hbEluaGVyaXRlZEV2ZW50SGFuZGxlcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udHJpZ2dlclZOb2RlLnByb3BzLmludGVybmFsSW5oZXJpdGVkRXZlbnRIYW5kbGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpbnRlcm5hbEluaGVyaXRlZEV2ZW50SGFuZGxlcnMgfSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzY2VuZGFudEFuZEN1cnJlbnRIYW5kbGVycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaW50ZXJuYWxJbmhlcml0ZWRFdmVudEhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lcmdlZEhhbmRsZXJzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzY2VuZGFudEFuZEN1cnJlbnRIYW5kbGVycy5mb3JFYWNoKChfaGFuZGxlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhbmRsZXJzLm9uQmx1cihlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzY2VuZGFudEFuZEN1cnJlbnRIYW5kbGVycy5mb3JFYWNoKChfaGFuZGxlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhbmRsZXJzLm9uRm9jdXMoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc2NlbmRhbnRBbmRDdXJyZW50SGFuZGxlcnMuZm9yRWFjaCgoX2hhbmRsZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYW5kbGVycy5vbkNsaWNrKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VlbnRlcjogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc2NlbmRhbnRBbmRDdXJyZW50SGFuZGxlcnMuZm9yRWFjaCgoX2hhbmRsZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYW5kbGVycy5vbk1vdXNlZW50ZXIoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZWxlYXZlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzY2VuZGFudEFuZEN1cnJlbnRIYW5kbGVycy5mb3JFYWNoKChfaGFuZGxlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhbmRsZXJzLm9uTW91c2VsZWF2ZShlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kRXZlbnRzKHRyaWdnZXJWTm9kZSwgaW50ZXJuYWxJbmhlcml0ZWRFdmVudEhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICduZXN0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBvc2l0aW9uTWFudWFsbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdtYW51YWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnRyaWdnZXIsIG1lcmdlZEhhbmRsZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChoKFZCaW5kZXIsIHsgcmVmOiBcImJpbmRlckluc3RSZWZcIiwgc3luY1RhcmdldDogIXBvcG92ZXJJbnNpZGUsIHN5bmNUYXJnZXRXaXRoUGFyZW50OiB0aGlzLmludGVybmFsU3luY1RhcmdldFdpdGhQYXJlbnQgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc3Vic2NyaWJlIGl0LiBTb21ldGltZXMgcmVyZW5kZXIgd29uJ3QgZ2UgdHJpZ2dlcmVkLlxuICAgICAgICAgICAgICAgIC8vIGBtZXJnZWRTaG93Q29uc2lkZXJpbmdEaXNhYmxlZFByb3BgIGlzIG5vdCB0aGUgZmluYWwgZGlzYWJsZWQgc3RhdHVzLlxuICAgICAgICAgICAgICAgIC8vIEluIGVsbHBpc2lzIGl0J3MgZHluYW1pYy5cbiAgICAgICAgICAgICAgICB2b2lkIHRoaXMubWVyZ2VkU2hvd0NvbnNpZGVyaW5nRGlzYWJsZWRQcm9wO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lcmdlZFNob3cgPSB0aGlzLmdldE1lcmdlZFNob3coKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsVHJhcEZvY3VzICYmIG1lcmdlZFNob3dcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2l0aERpcmVjdGl2ZXMoaChcImRpdlwiLCB7IHN0eWxlOiB7IHBvc2l0aW9uOiAnZml4ZWQnLCBpbnNldDogMCB9IH0pLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aW5kZXhhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBtZXJnZWRTaG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiB0aGlzLnpJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25NYW51YWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGgoVlRhcmdldCwgbnVsbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHRyaWdnZXJWTm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGgoTlBvcG92ZXJCb2R5LCBrZWVwKHRoaXMuJHByb3BzLCBib2R5UHJvcEtleXMsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy4kYXR0cnMpLCB7IHNob3dBcnJvdzogdGhpcy5tZXJnZWRTaG93QXJyb3csIHNob3c6IG1lcmdlZFNob3cgfSkpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7IHZhciBfYSwgX2I7IHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLiRzbG90cykuZGVmYXVsdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiAoKSA9PiB7IHZhciBfYSwgX2I7IHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLiRzbG90cykuaGVhZGVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgeyBoLCB2U2hvdywgd2l0aERpcmVjdGl2ZXMsIFRyYW5zaXRpb24sIHJlZiwgZGVmaW5lQ29tcG9uZW50LCBjb21wdXRlZCwgbWVyZ2VQcm9wcywgaW5qZWN0LCBvbkJlZm9yZVVubW91bnQsIHdhdGNoLCB0b1JlZiwgcHJvdmlkZSB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBWRm9sbG93ZXIsIFZGb2N1c1RyYXAgfSBmcm9tICd2dWV1Yyc7XG5pbXBvcnQgeyBjbGlja291dHNpZGUsIG1vdXNlbW92ZW91dHNpZGUgfSBmcm9tICd2ZGlycyc7XG5pbXBvcnQgeyB1c2VUaGVtZSwgdXNlQ29uZmlnLCB1c2VUaGVtZUNsYXNzIH0gZnJvbSAnLi4vLi4vX21peGlucyc7XG5pbXBvcnQgeyBmb3JtYXRMZW5ndGgsIGlzU2xvdEVtcHR5LCByZXNvbHZlV3JhcHBlZFNsb3QsIHVzZUFkanVzdGVkVG8gfSBmcm9tICcuLi8uLi9fdXRpbHMnO1xuaW1wb3J0IHsgcG9wb3ZlckxpZ2h0IH0gZnJvbSAnLi4vc3R5bGVzJztcbmltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlcy9pbmRleC5jc3NyJztcbmltcG9ydCB7IHBvcG92ZXJCb2R5SW5qZWN0aW9uS2V5IH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xuaW1wb3J0IHsgZHJhd2VyQm9keUluamVjdGlvbktleSB9IGZyb20gJy4uLy4uL2RyYXdlci9zcmMvaW50ZXJmYWNlJztcbmltcG9ydCB7IG1vZGFsQm9keUluamVjdGlvbktleSB9IGZyb20gJy4uLy4uL21vZGFsL3NyYy9pbnRlcmZhY2UnO1xuZXhwb3J0IGNvbnN0IHBvcG92ZXJCb2R5UHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHVzZVRoZW1lLnByb3BzKSwgeyB0bzogdXNlQWRqdXN0ZWRUby5wcm9wVG8sIHNob3c6IEJvb2xlYW4sIHRyaWdnZXI6IFN0cmluZywgc2hvd0Fycm93OiBCb29sZWFuLCBkZWxheTogTnVtYmVyLCBkdXJhdGlvbjogTnVtYmVyLCByYXc6IEJvb2xlYW4sIGFycm93U3R5bGU6IFtTdHJpbmcsIE9iamVjdF0sIGRpc3BsYXlEaXJlY3RpdmU6IFN0cmluZywgeDogTnVtYmVyLCB5OiBOdW1iZXIsIGZsaXA6IEJvb2xlYW4sIG92ZXJsYXA6IEJvb2xlYW4sIHBsYWNlbWVudDogU3RyaW5nLCB3aWR0aDogW051bWJlciwgU3RyaW5nXSwga2VlcEFsaXZlT25Ib3ZlcjogQm9vbGVhbiwgaW50ZXJuYWxUcmFwRm9jdXM6IEJvb2xlYW4sIFxuICAgIC8vIHByaXZhdGVcbiAgICBhbmltYXRlZDogQm9vbGVhbiwgb25DbGlja291dHNpZGU6IEZ1bmN0aW9uLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBtaW5XaWR0aDogTnVtYmVyLCBtYXhXaWR0aDogTnVtYmVyIH0pO1xuZXhwb3J0IGNvbnN0IHJlbmRlckFycm93ID0gKHsgYXJyb3dTdHlsZSwgY2xzUHJlZml4IH0pID0+IHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBrZXk6IFwiX19wb3BvdmVyLWFycm93X19cIiwgY2xhc3M6IGAke2Nsc1ByZWZpeH0tcG9wb3Zlci1hcnJvdy13cmFwcGVyYCB9LFxuICAgICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tcG9wb3Zlci1hcnJvd2AsIHN0eWxlOiBhcnJvd1N0eWxlIH0pKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnUG9wb3ZlckJvZHknLFxuICAgIGluaGVyaXRBdHRyczogZmFsc2UsXG4gICAgcHJvcHM6IHBvcG92ZXJCb2R5UHJvcHMsXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMsIGF0dHJzIH0pIHtcbiAgICAgICAgY29uc3QgeyBuYW1lc3BhY2VSZWYsIG1lcmdlZENsc1ByZWZpeFJlZiwgaW5saW5lVGhlbWVEaXNhYmxlZCB9ID0gdXNlQ29uZmlnKHByb3BzKTtcbiAgICAgICAgY29uc3QgdGhlbWVSZWYgPSB1c2VUaGVtZSgnUG9wb3ZlcicsICctcG9wb3ZlcicsIHN0eWxlLCBwb3BvdmVyTGlnaHQsIHByb3BzLCBtZXJnZWRDbHNQcmVmaXhSZWYpO1xuICAgICAgICBjb25zdCBmb2xsb3dlclJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgY29uc3QgTlBvcG92ZXIgPSBpbmplY3QoJ05Qb3BvdmVyJyk7XG4gICAgICAgIGNvbnN0IGJvZHlSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IGZvbGxvd2VyRW5hYmxlZFJlZiA9IHJlZihwcm9wcy5zaG93KTtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlc1JlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHJpZ2dlciwgb25DbGlja291dHNpZGUgfSA9IHByb3BzO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlcyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgeyBwb3NpdGlvbk1hbnVhbGx5UmVmOiB7IHZhbHVlOiBwb3NpdGlvbk1hbnVhbGx5IH0gfSA9IE5Qb3BvdmVyO1xuICAgICAgICAgICAgaWYgKCFwb3NpdGlvbk1hbnVhbGx5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIgPT09ICdjbGljaycgJiYgIW9uQ2xpY2tvdXRzaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaChbY2xpY2tvdXRzaWRlLCBoYW5kbGVDbGlja091dHNpZGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIgPT09ICdob3ZlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlcy5wdXNoKFttb3VzZW1vdmVvdXRzaWRlLCBoYW5kbGVNb3VzZU1vdmVPdXRzaWRlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uQ2xpY2tvdXRzaWRlKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlcy5wdXNoKFtjbGlja291dHNpZGUsIGhhbmRsZUNsaWNrT3V0c2lkZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3BzLmRpc3BsYXlEaXJlY3RpdmUgPT09ICdzaG93Jykge1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaChbdlNob3csIHByb3BzLnNob3ddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3R5bGVSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHByb3BzLndpZHRoID09PSAndHJpZ2dlcicgPyAnJyA6IGZvcm1hdExlbmd0aChwcm9wcy53aWR0aClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByb3BzLm1heFdpZHRoID8geyBtYXhXaWR0aDogZm9ybWF0TGVuZ3RoKHByb3BzLm1heFdpZHRoKSB9IDoge30sXG4gICAgICAgICAgICAgICAgcHJvcHMubWluV2lkdGggPyB7IG1pbldpZHRoOiBmb3JtYXRMZW5ndGgocHJvcHMubWluV2lkdGgpIH0gOiB7fSxcbiAgICAgICAgICAgICAgICBpbmxpbmVUaGVtZURpc2FibGVkID8gdW5kZWZpbmVkIDogY3NzVmFyc1JlZi52YWx1ZVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNzc1ZhcnNSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGNvbW1vbjogeyBjdWJpY0JlemllckVhc2VJbk91dCwgY3ViaWNCZXppZXJFYXNlSW4sIGN1YmljQmV6aWVyRWFzZU91dCB9LCBzZWxmOiB7IHNwYWNlLCBzcGFjZUFycm93LCBwYWRkaW5nLCBmb250U2l6ZSwgdGV4dENvbG9yLCBkaXZpZGVyQ29sb3IsIGNvbG9yLCBib3hTaGFkb3csIGJvcmRlclJhZGl1cywgYXJyb3dIZWlnaHQsIGFycm93T2Zmc2V0LCBhcnJvd09mZnNldFZlcnRpY2FsIH0gfSA9IHRoZW1lUmVmLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAnLS1uLWJveC1zaGFkb3cnOiBib3hTaGFkb3csXG4gICAgICAgICAgICAgICAgJy0tbi1iZXppZXInOiBjdWJpY0JlemllckVhc2VJbk91dCxcbiAgICAgICAgICAgICAgICAnLS1uLWJlemllci1lYXNlLWluJzogY3ViaWNCZXppZXJFYXNlSW4sXG4gICAgICAgICAgICAgICAgJy0tbi1iZXppZXItZWFzZS1vdXQnOiBjdWJpY0JlemllckVhc2VPdXQsXG4gICAgICAgICAgICAgICAgJy0tbi1mb250LXNpemUnOiBmb250U2l6ZSxcbiAgICAgICAgICAgICAgICAnLS1uLXRleHQtY29sb3InOiB0ZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1jb2xvcic6IGNvbG9yLFxuICAgICAgICAgICAgICAgICctLW4tZGl2aWRlci1jb2xvcic6IGRpdmlkZXJDb2xvcixcbiAgICAgICAgICAgICAgICAnLS1uLWJvcmRlci1yYWRpdXMnOiBib3JkZXJSYWRpdXMsXG4gICAgICAgICAgICAgICAgJy0tbi1hcnJvdy1oZWlnaHQnOiBhcnJvd0hlaWdodCxcbiAgICAgICAgICAgICAgICAnLS1uLWFycm93LW9mZnNldCc6IGFycm93T2Zmc2V0LFxuICAgICAgICAgICAgICAgICctLW4tYXJyb3ctb2Zmc2V0LXZlcnRpY2FsJzogYXJyb3dPZmZzZXRWZXJ0aWNhbCxcbiAgICAgICAgICAgICAgICAnLS1uLXBhZGRpbmcnOiBwYWRkaW5nLFxuICAgICAgICAgICAgICAgICctLW4tc3BhY2UnOiBzcGFjZSxcbiAgICAgICAgICAgICAgICAnLS1uLXNwYWNlLWFycm93Jzogc3BhY2VBcnJvd1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRoZW1lQ2xhc3NIYW5kbGUgPSBpbmxpbmVUaGVtZURpc2FibGVkXG4gICAgICAgICAgICA/IHVzZVRoZW1lQ2xhc3MoJ3BvcG92ZXInLCB1bmRlZmluZWQsIGNzc1ZhcnNSZWYsIHByb3BzKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIE5Qb3BvdmVyLnNldEJvZHlJbnN0YW5jZSh7XG4gICAgICAgICAgICBzeW5jUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgICAgICAgICBOUG9wb3Zlci5zZXRCb2R5SW5zdGFuY2UobnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICB3YXRjaCh0b1JlZihwcm9wcywgJ3Nob3cnKSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiBubyBhbmltYXRpb24sIG5vIHRyYW5zaXRpb24gY29tcG9uZW50IHdpbGwgYmUgYXBwbGllZCB0byB0aGVcbiAgICAgICAgICAgIC8vIGNvbXBvbmVudC4gU28gd2UgbmVlZCB0byB0cmlnZ2VyIGZvbGxvd2VyIG1hbmF1bGx5LlxuICAgICAgICAgICAgaWYgKHByb3BzLmFuaW1hdGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGZvbGxvd2VyRW5hYmxlZFJlZi52YWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb2xsb3dlckVuYWJsZWRSZWYudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIHN5bmNQb3NpdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIChfYSA9IGZvbGxvd2VyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3luY1Bvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcihlKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMudHJpZ2dlciA9PT0gJ2hvdmVyJyAmJiBwcm9wcy5rZWVwQWxpdmVPbkhvdmVyKSB7XG4gICAgICAgICAgICAgICAgTlBvcG92ZXIuaGFuZGxlTW91c2VFbnRlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZUxlYXZlKGUpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy50cmlnZ2VyID09PSAnaG92ZXInICYmIHByb3BzLmtlZXBBbGl2ZU9uSG92ZXIpIHtcbiAgICAgICAgICAgICAgICBOUG9wb3Zlci5oYW5kbGVNb3VzZUxlYXZlKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZU91dHNpZGUoZSkge1xuICAgICAgICAgICAgaWYgKHByb3BzLnRyaWdnZXIgPT09ICdob3ZlcicgJiZcbiAgICAgICAgICAgICAgICAhZ2V0VHJpZ2dlckVsZW1lbnQoKS5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBOUG9wb3Zlci5oYW5kbGVNb3VzZU1vdmVPdXRzaWRlKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrT3V0c2lkZShlKSB7XG4gICAgICAgICAgICBpZiAoKHByb3BzLnRyaWdnZXIgPT09ICdjbGljaycgJiZcbiAgICAgICAgICAgICAgICAhZ2V0VHJpZ2dlckVsZW1lbnQoKS5jb250YWlucyhlLnRhcmdldCkpIHx8XG4gICAgICAgICAgICAgICAgcHJvcHMub25DbGlja291dHNpZGUpIHtcbiAgICAgICAgICAgICAgICBOUG9wb3Zlci5oYW5kbGVDbGlja091dHNpZGUoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0VHJpZ2dlckVsZW1lbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTlBvcG92ZXIuZ2V0VHJpZ2dlckVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBwcm92aWRlKHBvcG92ZXJCb2R5SW5qZWN0aW9uS2V5LCBib2R5UmVmKTtcbiAgICAgICAgcHJvdmlkZShkcmF3ZXJCb2R5SW5qZWN0aW9uS2V5LCBudWxsKTtcbiAgICAgICAgcHJvdmlkZShtb2RhbEJvZHlJbmplY3Rpb25LZXksIG51bGwpO1xuICAgICAgICBmdW5jdGlvbiByZW5kZXJDb250ZW50Tm9kZSgpIHtcbiAgICAgICAgICAgIHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS5vblJlbmRlcigpO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnROb2RlO1xuICAgICAgICAgICAgY29uc3QgeyBpbnRlcm5hbFJlbmRlckJvZHlSZWY6IHsgdmFsdWU6IHJlbmRlckJvZHkgfSB9ID0gTlBvcG92ZXI7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBtZXJnZWRDbHNQcmVmaXggfSA9IG1lcmdlZENsc1ByZWZpeFJlZjtcbiAgICAgICAgICAgIGlmICghcmVuZGVyQm9keSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGV4dHJhQ2xhc3MgfSA9IE5Qb3BvdmVyLmV4dHJhQ2xhc3NSZWY7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpbnRlcm5hbFRyYXBGb2N1cyB9ID0gcHJvcHM7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyQ29udGVudElubmVyTm9kZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVdyYXBwZWRTbG90KHNsb3RzLmhlYWRlciwgKGNoaWxkcmVuKSA9PiBjaGlsZHJlbiAmJiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaChcImRpdlwiLCB7IGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LXBvcG92ZXJfX2hlYWRlcmAgfSwgY2hpbGRyZW4pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7bWVyZ2VkQ2xzUHJlZml4fS1wb3BvdmVyX19jb250ZW50YCB9LCBzbG90cylcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pIHx8ICgoX2EgPSBzbG90cy5kZWZhdWx0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzbG90cykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2hvd0Fycm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZW5kZXJBcnJvdyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycm93U3R5bGU6IHByb3BzLmFycm93U3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsc1ByZWZpeDogbWVyZ2VkQ2xzUHJlZml4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnRlbnROb2RlID0gaCgnZGl2JywgbWVyZ2VQcm9wcyh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHttZXJnZWRDbHNQcmVmaXh9LXBvcG92ZXJgLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWVDbGFzc0hhbmRsZSA9PT0gbnVsbCB8fCB0aGVtZUNsYXNzSGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZUNsYXNzSGFuZGxlLnRoZW1lQ2xhc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUNsYXNzLm1hcCgodikgPT4gYCR7bWVyZ2VkQ2xzUHJlZml4fS0ke3Z9YCksXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tcG9wb3Zlci0tb3ZlcmxhcGBdOiBwcm9wcy5vdmVybGFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtgJHttZXJnZWRDbHNQcmVmaXh9LXBvcG92ZXItLXNob3ctYXJyb3dgXTogcHJvcHMuc2hvd0Fycm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtgJHttZXJnZWRDbHNQcmVmaXh9LXBvcG92ZXItLXNob3ctaGVhZGVyYF06ICFpc1Nsb3RFbXB0eShzbG90cy5oZWFkZXIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtgJHttZXJnZWRDbHNQcmVmaXh9LXBvcG92ZXItLXJhd2BdOiBwcm9wcy5yYXcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tcG9wb3Zlci0tbWFudWFsLXRyaWdnZXJgXTogcHJvcHMudHJpZ2dlciA9PT0gJ21hbnVhbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgcmVmOiBib2R5UmVmLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogc3R5bGVSZWYudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9uS2V5ZG93bjogTlBvcG92ZXIuaGFuZGxlS2V5ZG93bixcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZWVudGVyOiBoYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlbGVhdmU6IGhhbmRsZU1vdXNlTGVhdmVcbiAgICAgICAgICAgICAgICB9LCBhdHRycyksIGludGVybmFsVHJhcEZvY3VzID8gKGgoVkZvY3VzVHJhcCwgeyBhY3RpdmU6IHByb3BzLnNob3csIGF1dG9Gb2N1czogdHJ1ZSB9LCB7IGRlZmF1bHQ6IHJlbmRlckNvbnRlbnRJbm5lck5vZGUgfSkpIDogKHJlbmRlckNvbnRlbnRJbm5lck5vZGUoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGVudE5vZGUgPSByZW5kZXJCb2R5KFxuICAgICAgICAgICAgICAgIC8vIFRoZSBwb3BvdmVyIGNsYXNzIGFuZCBvdmVybGFwIGNsYXNzIG11c3QgZXhpc3RzLCB0aGV5IHdpbGwgYmUgdXNlZFxuICAgICAgICAgICAgICAgIC8vIHRvIHBsYWNlIHRoZSBib2R5ICYgdHJhbnNpdGlvbiBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgLy8gU2hhZG93IGNsYXNzIGV4aXN0cyBmb3IgcmV1c2UgYm94LXNoYWRvdy5cbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIGAke21lcmdlZENsc1ByZWZpeH0tcG9wb3ZlcmAsXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS50aGVtZUNsYXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5vdmVybGFwICYmIGAke21lcmdlZENsc1ByZWZpeH0tcG9wb3Zlci0tb3ZlcmxhcGBcbiAgICAgICAgICAgICAgICBdLCBib2R5UmVmLCBzdHlsZVJlZi52YWx1ZSwgaGFuZGxlTW91c2VFbnRlciwgaGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvcHMuZGlzcGxheURpcmVjdGl2ZSA9PT0gJ3Nob3cnIHx8IHByb3BzLnNob3dcbiAgICAgICAgICAgICAgICA/IHdpdGhEaXJlY3RpdmVzKGNvbnRlbnROb2RlLCBkaXJlY3RpdmVzUmVmLnZhbHVlKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2VSZWYsXG4gICAgICAgICAgICBpc01vdW50ZWQ6IE5Qb3BvdmVyLmlzTW91bnRlZFJlZixcbiAgICAgICAgICAgIHpJbmRleDogTlBvcG92ZXIuekluZGV4UmVmLFxuICAgICAgICAgICAgZm9sbG93ZXJSZWYsXG4gICAgICAgICAgICBhZGp1c3RlZFRvOiB1c2VBZGp1c3RlZFRvKHByb3BzKSxcbiAgICAgICAgICAgIGZvbGxvd2VyRW5hYmxlZDogZm9sbG93ZXJFbmFibGVkUmVmLFxuICAgICAgICAgICAgcmVuZGVyQ29udGVudE5vZGVcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChoKFZGb2xsb3dlciwgeyB6SW5kZXg6IHRoaXMuekluZGV4LCBzaG93OiB0aGlzLnNob3csIGVuYWJsZWQ6IHRoaXMuZm9sbG93ZXJFbmFibGVkLCB0bzogdGhpcy5hZGp1c3RlZFRvLCB4OiB0aGlzLngsIHk6IHRoaXMueSwgZmxpcDogdGhpcy5mbGlwLCBwbGFjZW1lbnQ6IHRoaXMucGxhY2VtZW50LCBjb250YWluZXJDbGFzczogdGhpcy5uYW1lc3BhY2UsIHJlZjogXCJmb2xsb3dlclJlZlwiLCBvdmVybGFwOiB0aGlzLm92ZXJsYXAsIHdpZHRoOiB0aGlzLndpZHRoID09PSAndHJpZ2dlcicgPyAndGFyZ2V0JyA6IHVuZGVmaW5lZCwgdGVsZXBvcnREaXNhYmxlZDogdGhpcy5hZGp1c3RlZFRvID09PSB1c2VBZGp1c3RlZFRvLnRka2V5IH0sIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRlZCA/IChoKFRyYW5zaXRpb24sIHsgbmFtZTogXCJwb3BvdmVyLXRyYW5zaXRpb25cIiwgYXBwZWFyOiB0aGlzLmlzTW91bnRlZCwgXG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHVzZSB3YXRjaCB0byBlbmFibGUgZm9sbG93ZXIsIHNpbmNlIHRoZSB0cmFuc2l0aW9uIG1heVxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHBvc2l0aW9uIHN5bmMgdGltaW5nIHZlcnkgc3VidGxlIGFuZCBidWdneS5cbiAgICAgICAgICAgICAgICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2xsb3dlckVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9LCBvbkFmdGVyTGVhdmU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9sbG93ZXJFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gfSwge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aGlzLnJlbmRlckNvbnRlbnROb2RlXG4gICAgICAgICAgICAgICAgfSkpIDogKHRoaXMucmVuZGVyQ29udGVudE5vZGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGMsIGNCLCBjTSwgY05vdE0sIGNFLCBjQ0IgfSBmcm9tICcuLi8uLi8uLi9fdXRpbHMvY3Nzcic7XG5jb25zdCBvcHBvc2l0ZVBsYWNlbWVudCA9IHtcbiAgdG9wOiAnYm90dG9tJyxcbiAgYm90dG9tOiAndG9wJyxcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgcmlnaHQ6ICdsZWZ0J1xufTsgLy8gdmFyczpcbi8vIC0tbi1iZXppZXJcbi8vIC0tbi1iZXppZXItZWFzZS1pblxuLy8gLS1uLWJlemllci1lYXNlLW91dFxuLy8gLS1uLWZvbnQtc2l6ZVxuLy8gLS1uLXRleHQtY29sb3Jcbi8vIC0tbi1jb2xvclxuLy8gLS1uLWJvcmRlci1yYWRpdXNcbi8vIC0tbi1hcnJvdy1oZWlnaHRcbi8vIC0tbi1hcnJvdy1vZmZzZXRcbi8vIC0tbi1hcnJvdy1vZmZzZXQtdmVydGljYWxcbi8vIC0tbi1wYWRkaW5nXG4vLyAtLW4tc3BhY2Vcbi8vIC0tbi1zcGFjZS1hcnJvd1xuLy8gLS1uLWRpdmlkZXItY29sb3JcblxuZXhwb3J0IGRlZmF1bHQgYyhbY0IoJ3BvcG92ZXInLCBgXG4gdHJhbnNpdGlvbjpcbiBib3gtc2hhZG93IC4zcyB2YXIoLS1uLWJlemllciksXG4gYmFja2dyb3VuZC1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gdHJhbnNmb3JtLW9yaWdpbjogaW5oZXJpdDtcbiBwb3NpdGlvbjogcmVsYXRpdmU7XG4gZm9udC1zaXplOiB2YXIoLS1uLWZvbnQtc2l6ZSk7XG4gY29sb3I6IHZhcigtLW4tdGV4dC1jb2xvcik7XG4gYm94LXNoYWRvdzogdmFyKC0tbi1ib3gtc2hhZG93KTtcbiBgLCBbLy8gYm9keSB0cmFuc2l0aW9uXG5jKCcmLnBvcG92ZXItdHJhbnNpdGlvbi1lbnRlci1mcm9tLCAmLnBvcG92ZXItdHJhbnNpdGlvbi1sZWF2ZS10bycsIGBcbiBvcGFjaXR5OiAwO1xuIHRyYW5zZm9ybTogc2NhbGUoLjg1KTtcbiBgKSwgYygnJi5wb3BvdmVyLXRyYW5zaXRpb24tZW50ZXItdG8sICYucG9wb3Zlci10cmFuc2l0aW9uLWxlYXZlLWZyb20nLCBgXG4gdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiBvcGFjaXR5OiAxO1xuIGApLCBjKCcmLnBvcG92ZXItdHJhbnNpdGlvbi1lbnRlci1hY3RpdmUnLCBgXG4gdHJhbnNpdGlvbjpcbiBvcGFjaXR5IC4xNXMgdmFyKC0tbi1iZXppZXItZWFzZS1vdXQpLFxuIHRyYW5zZm9ybSAuMTVzIHZhcigtLW4tYmV6aWVyLWVhc2Utb3V0KTtcbiBgKSwgYygnJi5wb3BvdmVyLXRyYW5zaXRpb24tbGVhdmUtYWN0aXZlJywgYFxuIHRyYW5zaXRpb246XG4gb3BhY2l0eSAuMTVzIHZhcigtLW4tYmV6aWVyLWVhc2UtaW4pLFxuIHRyYW5zZm9ybSAuMTVzIHZhcigtLW4tYmV6aWVyLWVhc2UtaW4pO1xuIGApLCBjTm90TSgncmF3JywgYFxuIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3IpO1xuIGJvcmRlci1yYWRpdXM6IHZhcigtLW4tYm9yZGVyLXJhZGl1cyk7XG4gYCwgW2NOb3RNKCdzaG93LWhlYWRlcicsICdwYWRkaW5nOiB2YXIoLS1uLXBhZGRpbmcpOycpXSksIGNFKCdoZWFkZXInLCBgXG4gcGFkZGluZzogdmFyKC0tbi1wYWRkaW5nKTtcbiBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tbi1kaXZpZGVyLWNvbG9yKTtcbiB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBgKSwgY0UoJ2NvbnRlbnQnLCBgXG4gcGFkZGluZzogdmFyKC0tbi1wYWRkaW5nKTtcbiBgKSwgY0IoJ3BvcG92ZXItYXJyb3ctd3JhcHBlcicsIGBcbiBwb3NpdGlvbjogYWJzb2x1dGU7XG4gb3ZlcmZsb3c6IGhpZGRlbjtcbiBwb2ludGVyLWV2ZW50czogbm9uZTtcbiBgLCBbY0IoJ3BvcG92ZXItYXJyb3cnLCBgXG4gdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiBkaXNwbGF5OiBibG9jaztcbiB3aWR0aDogY2FsYyh2YXIoLS1uLWFycm93LWhlaWdodCkgKiAxLjQxNCk7XG4gaGVpZ2h0OiBjYWxjKHZhcigtLW4tYXJyb3ctaGVpZ2h0KSAqIDEuNDE0KTtcbiBib3gtc2hhZG93OiAwIDAgOHB4IDAgcmdiYSgwLCAwLCAwLCAuMTIpO1xuIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcbiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yKTtcbiBwb2ludGVyLWV2ZW50czogYWxsO1xuIGApXSldKSwgcGxhY2VtZW50U3R5bGUoJ3RvcC1zdGFydCcsIGBcbiB0b3A6IGNhbGMoLTAuNzA3ICogdmFyKC0tbi1hcnJvdy1oZWlnaHQpKTtcbiBsZWZ0OiBjYWxjKHZhcigtLW4tYXJyb3ctb2Zmc2V0KSAtIHZhcigtLXYtb2Zmc2V0LWxlZnQpKTtcbiBgKSwgcGxhY2VtZW50U3R5bGUoJ3RvcCcsIGBcbiB0b3A6IGNhbGMoLTAuNzA3ICogdmFyKC0tbi1hcnJvdy1oZWlnaHQpKTtcbiB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoY2FsYygtMC43MDcgKiB2YXIoLS1uLWFycm93LWhlaWdodCkpKSByb3RhdGUoNDVkZWcpO1xuIGxlZnQ6IDUwJTtcbiBgKSwgcGxhY2VtZW50U3R5bGUoJ3RvcC1lbmQnLCBgXG4gdG9wOiBjYWxjKC0wLjcwNyAqIHZhcigtLW4tYXJyb3ctaGVpZ2h0KSk7XG4gcmlnaHQ6IGNhbGModmFyKC0tbi1hcnJvdy1vZmZzZXQpICsgdmFyKC0tdi1vZmZzZXQtbGVmdCkpO1xuIGApLCBwbGFjZW1lbnRTdHlsZSgnYm90dG9tLXN0YXJ0JywgYFxuIGJvdHRvbTogY2FsYygtMC43MDcgKiB2YXIoLS1uLWFycm93LWhlaWdodCkpO1xuIGxlZnQ6IGNhbGModmFyKC0tbi1hcnJvdy1vZmZzZXQpIC0gdmFyKC0tdi1vZmZzZXQtbGVmdCkpO1xuIGApLCBwbGFjZW1lbnRTdHlsZSgnYm90dG9tJywgYFxuIGJvdHRvbTogY2FsYygtMC43MDcgKiB2YXIoLS1uLWFycm93LWhlaWdodCkpO1xuIHRyYW5zZm9ybTogdHJhbnNsYXRlWChjYWxjKC0wLjcwNyAqIHZhcigtLW4tYXJyb3ctaGVpZ2h0KSkpIHJvdGF0ZSg0NWRlZyk7XG4gbGVmdDogNTAlO1xuIGApLCBwbGFjZW1lbnRTdHlsZSgnYm90dG9tLWVuZCcsIGBcbiBib3R0b206IGNhbGMoLTAuNzA3ICogdmFyKC0tbi1hcnJvdy1oZWlnaHQpKTtcbiByaWdodDogY2FsYyh2YXIoLS1uLWFycm93LW9mZnNldCkgKyB2YXIoLS12LW9mZnNldC1sZWZ0KSk7XG4gYCksIHBsYWNlbWVudFN0eWxlKCdsZWZ0LXN0YXJ0JywgYFxuIGxlZnQ6IGNhbGMoLTAuNzA3ICogdmFyKC0tbi1hcnJvdy1oZWlnaHQpKTtcbiB0b3A6IGNhbGModmFyKC0tbi1hcnJvdy1vZmZzZXQtdmVydGljYWwpIC0gdmFyKC0tdi1vZmZzZXQtdG9wKSk7XG4gYCksIHBsYWNlbWVudFN0eWxlKCdsZWZ0JywgYFxuIGxlZnQ6IGNhbGMoLTAuNzA3ICogdmFyKC0tbi1hcnJvdy1oZWlnaHQpKTtcbiB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoY2FsYygtMC43MDcgKiB2YXIoLS1uLWFycm93LWhlaWdodCkpKSByb3RhdGUoNDVkZWcpO1xuIHRvcDogNTAlO1xuIGApLCBwbGFjZW1lbnRTdHlsZSgnbGVmdC1lbmQnLCBgXG4gbGVmdDogY2FsYygtMC43MDcgKiB2YXIoLS1uLWFycm93LWhlaWdodCkpO1xuIGJvdHRvbTogY2FsYyh2YXIoLS1uLWFycm93LW9mZnNldC12ZXJ0aWNhbCkgKyB2YXIoLS12LW9mZnNldC10b3ApKTtcbiBcbiBgKSwgcGxhY2VtZW50U3R5bGUoJ3JpZ2h0LXN0YXJ0JywgYFxuIHJpZ2h0OiBjYWxjKC0wLjcwNyAqIHZhcigtLW4tYXJyb3ctaGVpZ2h0KSk7XG4gdG9wOiBjYWxjKHZhcigtLW4tYXJyb3ctb2Zmc2V0LXZlcnRpY2FsKSAtIHZhcigtLXYtb2Zmc2V0LXRvcCkpO1xuIGApLCBwbGFjZW1lbnRTdHlsZSgncmlnaHQnLCBgXG4gcmlnaHQ6IGNhbGMoLTAuNzA3ICogdmFyKC0tbi1hcnJvdy1oZWlnaHQpKTtcbiB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoY2FsYygtMC43MDcgKiB2YXIoLS1uLWFycm93LWhlaWdodCkpKSByb3RhdGUoNDVkZWcpO1xuIHRvcDogNTAlO1xuIGApLCBwbGFjZW1lbnRTdHlsZSgncmlnaHQtZW5kJywgYFxuIHJpZ2h0OiBjYWxjKC0wLjcwNyAqIHZhcigtLW4tYXJyb3ctaGVpZ2h0KSk7XG4gYm90dG9tOiBjYWxjKHZhcigtLW4tYXJyb3ctb2Zmc2V0LXZlcnRpY2FsKSArIHZhcigtLXYtb2Zmc2V0LXRvcCkpO1xuIGApXSk7XG5cbmZ1bmN0aW9uIHBsYWNlbWVudFN0eWxlKHBsYWNlbWVudCwgYXJyb3dTdHlsZUxpdGVyYWwpIHtcbiAgY29uc3QgcG9zaXRpb24gPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgY29uc3Qgc2l6ZVN0eWxlID0gWyd0b3AnLCAnYm90dG9tJ10uaW5jbHVkZXMocG9zaXRpb24pID8gJ2hlaWdodDogdmFyKC0tbi1zcGFjZS1hcnJvdyk7JyA6ICd3aWR0aDogdmFyKC0tbi1zcGFjZS1hcnJvdyk7JztcbiAgcmV0dXJuIGMoYFt2LXBsYWNlbWVudD1cIiR7cGxhY2VtZW50fVwiXSA+YCwgW2NCKCdwb3BvdmVyJywgW2NOb3RNKCdtYW51YWwtdHJpZ2dlcicsIGBcbiBtYXJnaW4tJHtvcHBvc2l0ZVBsYWNlbWVudFtwb3NpdGlvbl19OiB2YXIoLS1uLXNwYWNlKTtcbiBgKSwgY00oJ3Nob3ctYXJyb3cnLCBgXG4gbWFyZ2luLSR7b3Bwb3NpdGVQbGFjZW1lbnRbcG9zaXRpb25dfTogdmFyKC0tbi1zcGFjZS1hcnJvdyk7XG4gYCksIGNNKCdvdmVybGFwJywgYFxuIG1hcmdpbjogMDtcbiBgKSwgY0NCKCdwb3BvdmVyLWFycm93LXdyYXBwZXInLCBgXG4gcmlnaHQ6IDA7XG4gbGVmdDogMDtcbiB0b3A6IDA7XG4gYm90dG9tOiAwO1xuICR7cG9zaXRpb259OiAxMDAlO1xuICR7b3Bwb3NpdGVQbGFjZW1lbnRbcG9zaXRpb25dfTogYXV0bztcbiAke3NpemVTdHlsZX1cbiBgLCBbY0IoJ3BvcG92ZXItYXJyb3cnLCBhcnJvd1N0eWxlTGl0ZXJhbCldKV0pXSk7XG59IiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIHNwYWNlOiAnNnB4JyxcbiAgICBzcGFjZUFycm93OiAnMTBweCcsXG4gICAgYXJyb3dPZmZzZXQ6ICcxMHB4JyxcbiAgICBhcnJvd09mZnNldFZlcnRpY2FsOiAnMTBweCcsXG4gICAgYXJyb3dIZWlnaHQ6ICc2cHgnLFxuICAgIHBhZGRpbmc6ICc4cHggMTRweCdcbn07XG4iLCJpbXBvcnQgeyBjb21tb25MaWdodCB9IGZyb20gJy4uLy4uL19zdHlsZXMvY29tbW9uJztcbmltcG9ydCBjb21tb25WYXJpYWJsZXMgZnJvbSAnLi9fY29tbW9uJztcbmV4cG9ydCBjb25zdCBzZWxmID0gKHZhcnMpID0+IHtcbiAgICBjb25zdCB7IGJveFNoYWRvdzIsIHBvcG92ZXJDb2xvciwgdGV4dENvbG9yMiwgYm9yZGVyUmFkaXVzLCBmb250U2l6ZSwgZGl2aWRlckNvbG9yIH0gPSB2YXJzO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblZhcmlhYmxlcyksIHsgZm9udFNpemUsXG4gICAgICAgIGJvcmRlclJhZGl1cywgY29sb3I6IHBvcG92ZXJDb2xvciwgZGl2aWRlckNvbG9yLCB0ZXh0Q29sb3I6IHRleHRDb2xvcjIsIGJveFNoYWRvdzogYm94U2hhZG93MiB9KTtcbn07XG5jb25zdCBwb3BvdmVyTGlnaHQgPSB7XG4gICAgbmFtZTogJ1BvcG92ZXInLFxuICAgIGNvbW1vbjogY29tbW9uTGlnaHQsXG4gICAgc2VsZlxufTtcbmV4cG9ydCBkZWZhdWx0IHBvcG92ZXJMaWdodDtcbiIsImltcG9ydCB7IGgsIHJlZiwgY29tcHV0ZWQsIHRvUmVmLCBkZWZpbmVDb21wb25lbnQsIG5leHRUaWNrLCB3YXRjaCwgVHJhbnNpdGlvbiwgd2l0aERpcmVjdGl2ZXMsIHZTaG93LCB3YXRjaEVmZmVjdCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBoYXBwZW5zSW4gfSBmcm9tICdzZWVtbHknO1xuaW1wb3J0IHsgY3JlYXRlVHJlZU1hdGUgfSBmcm9tICd0cmVlbWF0ZSc7XG5pbXBvcnQgeyBWQmluZGVyLCBWRm9sbG93ZXIsIFZUYXJnZXQgfSBmcm9tICd2dWV1Yyc7XG5pbXBvcnQgeyB1c2VJc01vdW50ZWQsIHVzZU1lcmdlZFN0YXRlLCB1c2VDb21waXRhYmxlIH0gZnJvbSAndm9va3MnO1xuaW1wb3J0IHsgY2xpY2tvdXRzaWRlIH0gZnJvbSAndmRpcnMnO1xuaW1wb3J0IHsgdXNlVGhlbWUsIHVzZUNvbmZpZywgdXNlTG9jYWxlLCB1c2VGb3JtSXRlbSB9IGZyb20gJy4uLy4uL19taXhpbnMnO1xuaW1wb3J0IHsgY2FsbCwgdXNlQWRqdXN0ZWRUbywgd2Fybk9uY2UgfSBmcm9tICcuLi8uLi9fdXRpbHMnO1xuaW1wb3J0IHsgTkludGVybmFsU2VsZWN0TWVudSwgTkludGVybmFsU2VsZWN0aW9uIH0gZnJvbSAnLi4vLi4vX2ludGVybmFsJztcbmltcG9ydCB7IHNlbGVjdExpZ2h0IH0gZnJvbSAnLi4vc3R5bGVzJztcbmltcG9ydCB7IHRtT3B0aW9ucywgY3JlYXRlVmFsT3B0TWFwLCBmaWx0ZXJPcHRpb25zLCBkZWZhdWx0RmlsdGVyIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZXMvaW5kZXguY3Nzcic7XG5jb25zdCBzZWxlY3RQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdXNlVGhlbWUucHJvcHMpLCB7IHRvOiB1c2VBZGp1c3RlZFRvLnByb3BUbywgYm9yZGVyZWQ6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gICAgfSwgY2xlYXJhYmxlOiBCb29sZWFuLCBjbGVhckZpbHRlckFmdGVyU2VsZWN0OiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LCBvcHRpb25zOiB7XG4gICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICBkZWZhdWx0OiAoKSA9PiBbXVxuICAgIH0sIGRlZmF1bHRWYWx1ZToge1xuICAgICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXIsIEFycmF5XSxcbiAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sIHZhbHVlOiBbU3RyaW5nLCBOdW1iZXIsIEFycmF5XSwgcGxhY2Vob2xkZXI6IFN0cmluZywgbWVudVByb3BzOiBPYmplY3QsIG11bHRpcGxlOiBCb29sZWFuLCBzaXplOiBTdHJpbmcsIGZpbHRlcmFibGU6IEJvb2xlYW4sIGRpc2FibGVkOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgIH0sIHJlbW90ZTogQm9vbGVhbiwgbG9hZGluZzogQm9vbGVhbiwgZmlsdGVyOiB7XG4gICAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgICBkZWZhdWx0OiBkZWZhdWx0RmlsdGVyXG4gICAgfSwgcGxhY2VtZW50OiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJ2JvdHRvbS1zdGFydCdcbiAgICB9LCB3aWR0aE1vZGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAndHJpZ2dlcidcbiAgICB9LCB0YWc6IEJvb2xlYW4sIG9uQ3JlYXRlOiB7XG4gICAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgICBkZWZhdWx0OiAobGFiZWwpID0+ICh7XG4gICAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgICB2YWx1ZTogbGFiZWxcbiAgICAgICAgfSlcbiAgICB9LCBmYWxsYmFja09wdGlvbjoge1xuICAgICAgICB0eXBlOiBbRnVuY3Rpb24sIEJvb2xlYW5dLFxuICAgICAgICBkZWZhdWx0OiAoKSA9PiAodmFsdWUpID0+ICh7XG4gICAgICAgICAgICBsYWJlbDogU3RyaW5nKHZhbHVlKSxcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pXG4gICAgfSwgc2hvdzoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9LCBzaG93QXJyb3c6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sIG1heFRhZ0NvdW50OiBbTnVtYmVyLCBTdHJpbmddLCBjb25zaXN0ZW50TWVudVdpZHRoOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LCB2aXJ0dWFsU2Nyb2xsOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LCByZW5kZXJMYWJlbDogRnVuY3Rpb24sIHJlbmRlck9wdGlvbjogRnVuY3Rpb24sIHJlbmRlclRhZzogRnVuY3Rpb24sICdvblVwZGF0ZTp2YWx1ZSc6IFtGdW5jdGlvbiwgQXJyYXldLCBpbnB1dFByb3BzOiBPYmplY3QsIFxuICAgIC8vIGZvciBqc3hcbiAgICBvblVwZGF0ZVZhbHVlOiBbRnVuY3Rpb24sIEFycmF5XSwgb25CbHVyOiBbRnVuY3Rpb24sIEFycmF5XSwgb25DbGVhcjogW0Z1bmN0aW9uLCBBcnJheV0sIG9uRm9jdXM6IFtGdW5jdGlvbiwgQXJyYXldLCBvblNjcm9sbDogW0Z1bmN0aW9uLCBBcnJheV0sIG9uU2VhcmNoOiBbRnVuY3Rpb24sIEFycmF5XSwgb25VcGRhdGVTaG93OiBbRnVuY3Rpb24sIEFycmF5XSwgJ29uVXBkYXRlOnNob3cnOiBbRnVuY3Rpb24sIEFycmF5XSwgZGlzcGxheURpcmVjdGl2ZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICdzaG93J1xuICAgIH0sIHJlc2V0TWVudU9uT3B0aW9uc0NoYW5nZToge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSwgXG4gICAgLyoqIGRlcHJlY2F0ZWQgKi9cbiAgICBvbkNoYW5nZTogW0Z1bmN0aW9uLCBBcnJheV0sIGl0ZW1zOiBBcnJheSB9KTtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ1NlbGVjdCcsXG4gICAgcHJvcHM6IHNlbGVjdFByb3BzLFxuICAgIHNldHVwKHByb3BzKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLml0ZW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Fybk9uY2UoJ3NlbGVjdCcsICdgaXRlbXNgIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYG9wdGlvbnNgIGluc3RlYWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5vbkNoYW5nZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5PbmNlKCdzZWxlY3QnLCAnYG9uLWNoYW5nZWAgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgb24tdXBkYXRlOnZhbHVlYCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgbWVyZ2VkQ2xzUHJlZml4UmVmLCBtZXJnZWRCb3JkZXJlZFJlZiwgbmFtZXNwYWNlUmVmLCBpbmxpbmVUaGVtZURpc2FibGVkIH0gPSB1c2VDb25maWcocHJvcHMpO1xuICAgICAgICBjb25zdCB0aGVtZVJlZiA9IHVzZVRoZW1lKCdTZWxlY3QnLCAnLXNlbGVjdCcsIHN0eWxlLCBzZWxlY3RMaWdodCwgcHJvcHMsIG1lcmdlZENsc1ByZWZpeFJlZik7XG4gICAgICAgIGNvbnN0IHVuY29udHJvbGxlZFZhbHVlUmVmID0gcmVmKHByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZWRWYWx1ZVJlZiA9IHRvUmVmKHByb3BzLCAndmFsdWUnKTtcbiAgICAgICAgY29uc3QgbWVyZ2VkVmFsdWVSZWYgPSB1c2VNZXJnZWRTdGF0ZShjb250cm9sbGVkVmFsdWVSZWYsIHVuY29udHJvbGxlZFZhbHVlUmVmKTtcbiAgICAgICAgY29uc3QgZm9jdXNlZFJlZiA9IHJlZihmYWxzZSk7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5SZWYgPSByZWYoJycpO1xuICAgICAgICBjb25zdCB0cmVlTWF0ZVJlZiA9IGNvbXB1dGVkKCgpID0+IGNyZWF0ZVRyZWVNYXRlKGZpbHRlcmVkT3B0aW9uc1JlZi52YWx1ZSwgdG1PcHRpb25zKSk7XG4gICAgICAgIGNvbnN0IHZhbE9wdE1hcFJlZiA9IGNvbXB1dGVkKCgpID0+IGNyZWF0ZVZhbE9wdE1hcChsb2NhbE9wdGlvbnNSZWYudmFsdWUpKTtcbiAgICAgICAgY29uc3QgdW5jb250cm9sbGVkU2hvd1JlZiA9IHJlZihmYWxzZSk7XG4gICAgICAgIGNvbnN0IG1lcmdlZFNob3dSZWYgPSB1c2VNZXJnZWRTdGF0ZSh0b1JlZihwcm9wcywgJ3Nob3cnKSwgdW5jb250cm9sbGVkU2hvd1JlZik7XG4gICAgICAgIGNvbnN0IHRyaWdnZXJSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IGZvbGxvd2VyUmVmID0gcmVmKG51bGwpO1xuICAgICAgICBjb25zdCBtZW51UmVmID0gcmVmKG51bGwpO1xuICAgICAgICBjb25zdCB7IGxvY2FsZVJlZiB9ID0gdXNlTG9jYWxlKCdTZWxlY3QnKTtcbiAgICAgICAgY29uc3QgbG9jYWxpemVkUGxhY2Vob2xkZXJSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gcHJvcHMucGxhY2Vob2xkZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGxvY2FsZVJlZi52YWx1ZS5wbGFjZWhvbGRlcjtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbXBpdGFibGVPcHRpb25zUmVmID0gdXNlQ29tcGl0YWJsZShwcm9wcywgWydpdGVtcycsICdvcHRpb25zJ10pO1xuICAgICAgICBjb25zdCBjcmVhdGVkT3B0aW9uc1JlZiA9IHJlZihbXSk7XG4gICAgICAgIGNvbnN0IGJlaW5nQ3JlYXRlZE9wdGlvbnNSZWYgPSByZWYoW10pO1xuICAgICAgICBjb25zdCBtZW1vVmFsT3B0TWFwUmVmID0gcmVmKG5ldyBNYXAoKSk7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRGYWxsYmFja09wdGlvblJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZmFsbGJhY2tPcHRpb24gfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKCFmYWxsYmFja09wdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZmFsbGJhY2tPcHRpb24odmFsdWUpLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbG9jYWxPcHRpb25zUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGJlaW5nQ3JlYXRlZE9wdGlvbnNSZWYudmFsdWUuY29uY2F0KGNyZWF0ZWRPcHRpb25zUmVmLnZhbHVlKS5jb25jYXQoY29tcGl0YWJsZU9wdGlvbnNSZWYudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRPcHRpb25zUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3BzLnJlbW90ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21waXRhYmxlT3B0aW9uc1JlZi52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGxvY2FsT3B0aW9ucyB9ID0gbG9jYWxPcHRpb25zUmVmO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHBhdHRlcm4gfSA9IHBhdHRlcm5SZWY7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXR0ZXJuLmxlbmd0aCB8fCAhcHJvcHMuZmlsdGVyYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxPcHRpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBmaWx0ZXIgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyT3B0aW9ucyhsb2NhbE9wdGlvbnMsIGZpbHRlciwgcGF0dGVybik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZnVuY3Rpb24gZ2V0TWVyZ2VkT3B0aW9ucyh2YWx1ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW90ZSA9IHByb3BzLnJlbW90ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IG1lbW9WYWxPcHRNYXAgfSA9IG1lbW9WYWxPcHRNYXBSZWY7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiB2YWxPcHRNYXAgfSA9IHZhbE9wdE1hcFJlZjtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHdyYXBwZWRGYWxsYmFja09wdGlvbiB9ID0gd3JhcHBlZEZhbGxiYWNrT3B0aW9uUmVmO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbE9wdE1hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh2YWxPcHRNYXAuZ2V0KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlbW90ZSAmJiBtZW1vVmFsT3B0TWFwLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKG1lbW9WYWxPcHRNYXAuZ2V0KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdyYXBwZWRGYWxsYmFja09wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSB3cmFwcGVkRmFsbGJhY2tPcHRpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2gob3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25zUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogdmFsdWVzIH0gPSBtZXJnZWRWYWx1ZVJlZjtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRNZXJnZWRPcHRpb25zKHZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogbWVyZ2VkVmFsdWUgfSA9IG1lcmdlZFZhbHVlUmVmO1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5tdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheShtZXJnZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVyZ2VkVmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRNZXJnZWRPcHRpb25zKFttZXJnZWRWYWx1ZV0pWzBdIHx8IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZvcm1JdGVtID0gdXNlRm9ybUl0ZW0ocHJvcHMpO1xuICAgICAgICBjb25zdCB7IG1lcmdlZFNpemVSZWYsIG1lcmdlZERpc2FibGVkUmVmLCBtZXJnZWRTdGF0dXNSZWYgfSA9IGZvcm1JdGVtO1xuICAgICAgICBmdW5jdGlvbiBkb1VwZGF0ZVZhbHVlKHZhbHVlLCBvcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25DaGFuZ2UsICdvblVwZGF0ZTp2YWx1ZSc6IF9vblVwZGF0ZVZhbHVlLCBvblVwZGF0ZVZhbHVlIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGNvbnN0IHsgblRyaWdnZXJGb3JtQ2hhbmdlLCBuVHJpZ2dlckZvcm1JbnB1dCB9ID0gZm9ybUl0ZW07XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpXG4gICAgICAgICAgICAgICAgY2FsbChvbkNoYW5nZSwgdmFsdWUsIG9wdGlvbik7XG4gICAgICAgICAgICBpZiAob25VcGRhdGVWYWx1ZSlcbiAgICAgICAgICAgICAgICBjYWxsKG9uVXBkYXRlVmFsdWUsIHZhbHVlLCBvcHRpb24pO1xuICAgICAgICAgICAgaWYgKF9vblVwZGF0ZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FsbChfb25VcGRhdGVWYWx1ZSwgdmFsdWUsIG9wdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmNvbnRyb2xsZWRWYWx1ZVJlZi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgblRyaWdnZXJGb3JtQ2hhbmdlKCk7XG4gICAgICAgICAgICBuVHJpZ2dlckZvcm1JbnB1dCgpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRvQmx1cihlKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9uQmx1ciB9ID0gcHJvcHM7XG4gICAgICAgICAgICBjb25zdCB7IG5UcmlnZ2VyRm9ybUJsdXIgfSA9IGZvcm1JdGVtO1xuICAgICAgICAgICAgaWYgKG9uQmx1cilcbiAgICAgICAgICAgICAgICBjYWxsKG9uQmx1ciwgZSk7XG4gICAgICAgICAgICBuVHJpZ2dlckZvcm1CbHVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZG9DbGVhcigpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25DbGVhciB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAob25DbGVhcilcbiAgICAgICAgICAgICAgICBjYWxsKG9uQ2xlYXIpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRvRm9jdXMoZSkge1xuICAgICAgICAgICAgY29uc3QgeyBvbkZvY3VzIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGNvbnN0IHsgblRyaWdnZXJGb3JtRm9jdXMgfSA9IGZvcm1JdGVtO1xuICAgICAgICAgICAgaWYgKG9uRm9jdXMpXG4gICAgICAgICAgICAgICAgY2FsbChvbkZvY3VzLCBlKTtcbiAgICAgICAgICAgIG5UcmlnZ2VyRm9ybUZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZG9TZWFyY2godmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25TZWFyY2ggfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKG9uU2VhcmNoKVxuICAgICAgICAgICAgICAgIGNhbGwob25TZWFyY2gsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkb1Njcm9sbChlKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9uU2Nyb2xsIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmIChvblNjcm9sbClcbiAgICAgICAgICAgICAgICBjYWxsKG9uU2Nyb2xsLCBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdGUgcmVsYXRlZCBtZXRob2RzXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU1lbW9yaXplZE9wdGlvbnMoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCB7IHJlbW90ZSwgbXVsdGlwbGUgfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKHJlbW90ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IG1lbW9WYWxPcHRNYXAgfSA9IG1lbW9WYWxPcHRNYXBSZWY7XG4gICAgICAgICAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHNlbGVjdGVkT3B0aW9uc1JlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVtb1ZhbE9wdE1hcC5zZXQob3B0aW9uLnZhbHVlLCBvcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdGVkT3B0aW9uUmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZW1vVmFsT3B0TWFwLnNldChvcHRpb24udmFsdWUsIG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWVudSByZWxhdGVkIG1ldGhvZHNcbiAgICAgICAgZnVuY3Rpb24gZG9VcGRhdGVTaG93KHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9uVXBkYXRlU2hvdywgJ29uVXBkYXRlOnNob3cnOiBfb25VcGRhdGVTaG93IH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmIChvblVwZGF0ZVNob3cpXG4gICAgICAgICAgICAgICAgY2FsbChvblVwZGF0ZVNob3csIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChfb25VcGRhdGVTaG93KVxuICAgICAgICAgICAgICAgIGNhbGwoX29uVXBkYXRlU2hvdywgdmFsdWUpO1xuICAgICAgICAgICAgdW5jb250cm9sbGVkU2hvd1JlZi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG9wZW5NZW51KCkge1xuICAgICAgICAgICAgaWYgKCFtZXJnZWREaXNhYmxlZFJlZi52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRvVXBkYXRlU2hvdyh0cnVlKTtcbiAgICAgICAgICAgICAgICB1bmNvbnRyb2xsZWRTaG93UmVmLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuZmlsdGVyYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBmb2N1c1NlbGVjdGlvbklucHV0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlTWVudSgpIHtcbiAgICAgICAgICAgIGRvVXBkYXRlU2hvdyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTWVudUFmdGVyTGVhdmUoKSB7XG4gICAgICAgICAgICBwYXR0ZXJuUmVmLnZhbHVlID0gJyc7XG4gICAgICAgICAgICBiZWluZ0NyZWF0ZWRPcHRpb25zUmVmLnZhbHVlID0gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlV2l0aG91dE1lbnVPcGVuUmVmID0gcmVmKGZhbHNlKTtcbiAgICAgICAgZnVuY3Rpb24gb25UcmlnZ2VySW5wdXRGb2N1cygpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5maWx0ZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlV2l0aG91dE1lbnVPcGVuUmVmLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBvblRyaWdnZXJJbnB1dEJsdXIoKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMuZmlsdGVyYWJsZSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVdpdGhvdXRNZW51T3BlblJlZi52YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICghbWVyZ2VkU2hvd1JlZi52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVNZW51QWZ0ZXJMZWF2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVUcmlnZ2VyQ2xpY2soKSB7XG4gICAgICAgICAgICBpZiAobWVyZ2VkRGlzYWJsZWRSZWYudmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCFtZXJnZWRTaG93UmVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgb3Blbk1lbnUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghcHJvcHMuZmlsdGVyYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGZvY3VzZWQsIGRvbid0IG5lZWQgdG8gcmV0dXJuIGZvY3VzXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVUcmlnZ2VyQmx1cihlKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKChfYiA9IChfYSA9IG1lbnVSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZWxmUmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvY3VzZWRSZWYudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGRvQmx1cihlKTtcbiAgICAgICAgICAgIC8vIG91dHNpZGUgc2VsZWN0LCBkb24ndCBuZWVkIHRvIHJldHVybiBmb2N1c1xuICAgICAgICAgICAgY2xvc2VNZW51KCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVHJpZ2dlckZvY3VzKGUpIHtcbiAgICAgICAgICAgIGRvRm9jdXMoZSk7XG4gICAgICAgICAgICBmb2N1c2VkUmVmLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNZW51Rm9jdXMoZSkge1xuICAgICAgICAgICAgZm9jdXNlZFJlZi52YWx1ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTWVudUJsdXIoZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKChfYSA9IHRyaWdnZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS4kZWwuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBmb2N1c2VkUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICBkb0JsdXIoZSk7XG4gICAgICAgICAgICAvLyBvdXRzaWRlIHNlbGVjdCwgZG9uJ3QgbmVlZCB0byByZXR1cm4gZm9jdXNcbiAgICAgICAgICAgIGNsb3NlTWVudSgpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1lbnVUYWJPdXQoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSB0cmlnZ2VyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICAgICAgICAgIGNsb3NlTWVudSgpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1lbnVDbGlja091dHNpZGUoZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKG1lcmdlZFNob3dSZWYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoISgoX2EgPSB0cmlnZ2VyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuJGVsLmNvbnRhaW5zKGUudGFyZ2V0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3V0c2lkZSBzZWxlY3QsIGRvbid0IG5lZWQgdG8gcmV0dXJuIGZvY3VzXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDbGVhcmVkTXVsdGlwbGVTZWxlY3RWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICBpZiAod3JhcHBlZEZhbGxiYWNrT3B0aW9uUmVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgb3B0aW9uIGhhcyBhIGZhbGxiYWNrLCBJIGNhbid0IGhlbHAgdXNlciB0byBjbGVhciBzb21lIHVua25vd24gdmFsdWVcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIG5vIG9wdGlvbiBmYWxsYmFjaywgdW5hcHBlYXJlZCBvcHRpb25zIGFyZSB0cmVhdGVkIGFzIGludmFsaWRcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlbW90ZSB9ID0gcHJvcHM7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogdmFsT3B0TWFwIH0gPSB2YWxPcHRNYXBSZWY7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW90ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBtZW1vVmFsT3B0TWFwIH0gPSBtZW1vVmFsT3B0TWFwUmVmO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuZmlsdGVyKCh2KSA9PiB2YWxPcHRNYXAuaGFzKHYpIHx8IG1lbW9WYWxPcHRNYXAuaGFzKHYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5maWx0ZXIoKHYpID0+IHZhbE9wdE1hcC5oYXModikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVUb2dnbGVCeVRtTm9kZSh0bU5vZGUpIHtcbiAgICAgICAgICAgIGhhbmRsZVRvZ2dsZUJ5T3B0aW9uKHRtTm9kZS5yYXdOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVUb2dnbGVCeU9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChtZXJnZWREaXNhYmxlZFJlZi52YWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IHRhZywgcmVtb3RlLCBjbGVhckZpbHRlckFmdGVyU2VsZWN0IH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmICh0YWcgJiYgIXJlbW90ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGJlaW5nQ3JlYXRlZE9wdGlvbnMgfSA9IGJlaW5nQ3JlYXRlZE9wdGlvbnNSZWY7XG4gICAgICAgICAgICAgICAgY29uc3QgYmVpbmdDcmVhdGVkT3B0aW9uID0gYmVpbmdDcmVhdGVkT3B0aW9uc1swXSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChiZWluZ0NyZWF0ZWRPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZE9wdGlvbnNSZWYudmFsdWUucHVzaChiZWluZ0NyZWF0ZWRPcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICBiZWluZ0NyZWF0ZWRPcHRpb25zUmVmLnZhbHVlID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlbW90ZSkge1xuICAgICAgICAgICAgICAgIG1lbW9WYWxPcHRNYXBSZWYudmFsdWUuc2V0KG9wdGlvbi52YWx1ZSwgb3B0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRWYWx1ZSA9IGNyZWF0ZUNsZWFyZWRNdWx0aXBsZVNlbGVjdFZhbHVlKG1lcmdlZFZhbHVlUmVmLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGNoYW5nZWRWYWx1ZS5maW5kSW5kZXgoKHZhbHVlKSA9PiB2YWx1ZSA9PT0gb3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAofmluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWRWYWx1ZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICYmICFyZW1vdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWRPcHRpb25JbmRleCA9IGdldENyZWF0ZWRPcHRpb25JbmRleChvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKH5jcmVhdGVkT3B0aW9uSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkT3B0aW9uc1JlZi52YWx1ZS5zcGxpY2UoY3JlYXRlZE9wdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xlYXJGaWx0ZXJBZnRlclNlbGVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVyblJlZi52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkVmFsdWUucHVzaChvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xlYXJGaWx0ZXJBZnRlclNlbGVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5SZWYudmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9VcGRhdGVWYWx1ZShjaGFuZ2VkVmFsdWUsIGdldE1lcmdlZE9wdGlvbnMoY2hhbmdlZFZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGFnICYmICFyZW1vdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JlYXRlZE9wdGlvbkluZGV4ID0gZ2V0Q3JlYXRlZE9wdGlvbkluZGV4KG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh+Y3JlYXRlZE9wdGlvbkluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkT3B0aW9uc1JlZi52YWx1ZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkT3B0aW9uc1JlZi52YWx1ZVtjcmVhdGVkT3B0aW9uSW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZE9wdGlvbnNSZWYudmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb2N1c1NlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xuICAgICAgICAgICAgICAgIGRvVXBkYXRlVmFsdWUob3B0aW9uLnZhbHVlLCBvcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldENyZWF0ZWRPcHRpb25JbmRleChvcHRpb25WYWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlZE9wdGlvbnMgPSBjcmVhdGVkT3B0aW9uc1JlZi52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVkT3B0aW9ucy5maW5kSW5kZXgoKGNyZWF0ZWRPcHRpb24pID0+IGNyZWF0ZWRPcHRpb24udmFsdWUgPT09IG9wdGlvblZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVQYXR0ZXJuSW5wdXQoZSkge1xuICAgICAgICAgICAgaWYgKCFtZXJnZWRTaG93UmVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgb3Blbk1lbnUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgcGF0dGVyblJlZi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgY29uc3QgeyB0YWcsIHJlbW90ZSB9ID0gcHJvcHM7XG4gICAgICAgICAgICBkb1NlYXJjaCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodGFnICYmICFyZW1vdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlaW5nQ3JlYXRlZE9wdGlvbnNSZWYudmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25CZWluZ0NyZWF0ZWQgPSBwcm9wcy5vbkNyZWF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBpdGFibGVPcHRpb25zUmVmLnZhbHVlLnNvbWUoKG9wdGlvbikgPT4gb3B0aW9uLnZhbHVlID09PSBvcHRpb25CZWluZ0NyZWF0ZWQudmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRPcHRpb25zUmVmLnZhbHVlLnNvbWUoKG9wdGlvbikgPT4gb3B0aW9uLnZhbHVlID09PSBvcHRpb25CZWluZ0NyZWF0ZWQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlaW5nQ3JlYXRlZE9wdGlvbnNSZWYudmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJlaW5nQ3JlYXRlZE9wdGlvbnNSZWYudmFsdWUgPSBbb3B0aW9uQmVpbmdDcmVhdGVkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ2xlYXIoZSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHsgbXVsdGlwbGUgfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKCFtdWx0aXBsZSAmJiBwcm9wcy5maWx0ZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb0NsZWFyKCk7XG4gICAgICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICBkb1VwZGF0ZVZhbHVlKFtdLCBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb1VwZGF0ZVZhbHVlKG51bGwsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1lbnVNb3VzZWRvd24oZSkge1xuICAgICAgICAgICAgaWYgKCFoYXBwZW5zSW4oZSwgJ2FjdGlvbicpKVxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzY3JvbGwgZXZlbnRzIG9uIG1lbnVcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTWVudVNjcm9sbChlKSB7XG4gICAgICAgICAgICBkb1Njcm9sbChlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBrZXlib2FyZCBldmVudHNcbiAgICAgICAgLy8gYWxzbyBmb3IgbWVudSBrZXlkb3duXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUtleWRvd24oZSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5jb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnU3BhY2UnOlxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMuZmlsdGVyYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgICAgICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdOdW1wYWRFbnRlcic6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKChfYSA9IHRyaWdnZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0NvbXBvc2l0aW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lcmdlZFNob3dSZWYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZW5kaW5nVG1Ob2RlID0gKF9iID0gbWVudVJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmdldFBlbmRpbmdUbU5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1RtTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb2dnbGVCeVRtTm9kZShwZW5kaW5nVG1Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIXByb3BzLmZpbHRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Blbk1lbnUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMudGFnICYmIGFjdGl2ZVdpdGhvdXRNZW51T3BlblJlZi52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiZWluZ0NyZWF0ZWRPcHRpb24gPSBiZWluZ0NyZWF0ZWRPcHRpb25zUmVmLnZhbHVlWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmVpbmdDcmVhdGVkT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGJlaW5nQ3JlYXRlZE9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IG1lcmdlZFZhbHVlIH0gPSBtZXJnZWRWYWx1ZVJlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1lcmdlZFZhbHVlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZWRWYWx1ZS5zb21lKCh2YWx1ZSkgPT4gdmFsdWUgPT09IG9wdGlvblZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb2dnbGVCeU9wdGlvbihiZWluZ0NyZWF0ZWRPcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvZ2dsZUJ5T3B0aW9uKGJlaW5nQ3JlYXRlZE9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMubG9hZGluZylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lcmdlZFNob3dSZWYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYyA9IG1lbnVSZWYudmFsdWUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5wcmV2KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMubG9hZGluZylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lcmdlZFNob3dSZWYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfZCA9IG1lbnVSZWYudmFsdWUpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTWVudSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTWVudSgpO1xuICAgICAgICAgICAgICAgICAgICAoX2UgPSB0cmlnZ2VyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZm9jdXNTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSB0cmlnZ2VyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBmb2N1c1NlbGVjdGlvbklucHV0KCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdHJpZ2dlclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzSW5wdXQoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzeW5jUG9zaXRpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBmb2xsb3dlclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN5bmNQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZU1lbW9yaXplZE9wdGlvbnMoKTtcbiAgICAgICAgd2F0Y2godG9SZWYocHJvcHMsICdvcHRpb25zJyksIHVwZGF0ZU1lbW9yaXplZE9wdGlvbnMpO1xuICAgICAgICB3YXRjaChmaWx0ZXJlZE9wdGlvbnNSZWYsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghbWVyZ2VkU2hvd1JlZi52YWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2b2lkIG5leHRUaWNrKHN5bmNQb3NpdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICB3YXRjaChtZXJnZWRWYWx1ZVJlZiwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFtZXJnZWRTaG93UmVmLnZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZvaWQgbmV4dFRpY2soc3luY1Bvc2l0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGV4cG9zZWRNZXRob2RzID0ge1xuICAgICAgICAgICAgZm9jdXM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdHJpZ2dlclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmx1cjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0cmlnZ2VyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmx1cigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBleHBvc2VkTWV0aG9kcyksIHsgbWVyZ2VkU3RhdHVzOiBtZXJnZWRTdGF0dXNSZWYsIG1lcmdlZENsc1ByZWZpeDogbWVyZ2VkQ2xzUHJlZml4UmVmLCBtZXJnZWRCb3JkZXJlZDogbWVyZ2VkQm9yZGVyZWRSZWYsIG5hbWVzcGFjZTogbmFtZXNwYWNlUmVmLCB0cmVlTWF0ZTogdHJlZU1hdGVSZWYsIGlzTW91bnRlZDogdXNlSXNNb3VudGVkKCksIHRyaWdnZXJSZWYsXG4gICAgICAgICAgICBtZW51UmVmLCBwYXR0ZXJuOiBwYXR0ZXJuUmVmLCB1bmNvbnRyb2xsZWRTaG93OiB1bmNvbnRyb2xsZWRTaG93UmVmLCBtZXJnZWRTaG93OiBtZXJnZWRTaG93UmVmLCBhZGp1c3RlZFRvOiB1c2VBZGp1c3RlZFRvKHByb3BzKSwgdW5jb250cm9sbGVkVmFsdWU6IHVuY29udHJvbGxlZFZhbHVlUmVmLCBtZXJnZWRWYWx1ZTogbWVyZ2VkVmFsdWVSZWYsIGZvbGxvd2VyUmVmLCBsb2NhbGl6ZWRQbGFjZWhvbGRlcjogbG9jYWxpemVkUGxhY2Vob2xkZXJSZWYsIHNlbGVjdGVkT3B0aW9uOiBzZWxlY3RlZE9wdGlvblJlZiwgc2VsZWN0ZWRPcHRpb25zOiBzZWxlY3RlZE9wdGlvbnNSZWYsIG1lcmdlZFNpemU6IG1lcmdlZFNpemVSZWYsIG1lcmdlZERpc2FibGVkOiBtZXJnZWREaXNhYmxlZFJlZiwgZm9jdXNlZDogZm9jdXNlZFJlZiwgYWN0aXZlV2l0aG91dE1lbnVPcGVuOiBhY3RpdmVXaXRob3V0TWVudU9wZW5SZWYsIGlubGluZVRoZW1lRGlzYWJsZWQsXG4gICAgICAgICAgICBvblRyaWdnZXJJbnB1dEZvY3VzLFxuICAgICAgICAgICAgb25UcmlnZ2VySW5wdXRCbHVyLFxuICAgICAgICAgICAgaGFuZGxlTWVudUZvY3VzLFxuICAgICAgICAgICAgaGFuZGxlTWVudUJsdXIsXG4gICAgICAgICAgICBoYW5kbGVNZW51VGFiT3V0LFxuICAgICAgICAgICAgaGFuZGxlVHJpZ2dlckNsaWNrLCBoYW5kbGVUb2dnbGU6IGhhbmRsZVRvZ2dsZUJ5VG1Ob2RlLCBoYW5kbGVEZWxldGVPcHRpb246IGhhbmRsZVRvZ2dsZUJ5T3B0aW9uLCBoYW5kbGVQYXR0ZXJuSW5wdXQsXG4gICAgICAgICAgICBoYW5kbGVDbGVhcixcbiAgICAgICAgICAgIGhhbmRsZVRyaWdnZXJCbHVyLFxuICAgICAgICAgICAgaGFuZGxlVHJpZ2dlckZvY3VzLFxuICAgICAgICAgICAgaGFuZGxlS2V5ZG93bixcbiAgICAgICAgICAgIHN5bmNQb3NpdGlvbixcbiAgICAgICAgICAgIGhhbmRsZU1lbnVBZnRlckxlYXZlLFxuICAgICAgICAgICAgaGFuZGxlTWVudUNsaWNrT3V0c2lkZSxcbiAgICAgICAgICAgIGhhbmRsZU1lbnVTY3JvbGwsIGhhbmRsZU1lbnVLZXlkb3duOiBoYW5kbGVLZXlkb3duLCBoYW5kbGVNZW51TW91c2Vkb3duLCBtZXJnZWRUaGVtZTogdGhlbWVSZWYsIGNzc1ZhcnM6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlbGY6IHsgbWVudUJveFNoYWRvdyB9IH0gPSB0aGVtZVJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAnLS1uLW1lbnUtYm94LXNoYWRvdyc6IG1lbnVCb3hTaGFkb3dcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkgfSk7XG4gICAgfSxcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHt0aGlzLm1lcmdlZENsc1ByZWZpeH0tc2VsZWN0YCB9LFxuICAgICAgICAgICAgaChWQmluZGVyLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gW1xuICAgICAgICAgICAgICAgICAgICBoKFZUYXJnZXQsIG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IChoKE5JbnRlcm5hbFNlbGVjdGlvbiwgeyByZWY6IFwidHJpZ2dlclJlZlwiLCBpbmxpbmVUaGVtZURpc2FibGVkOiB0aGlzLmlubGluZVRoZW1lRGlzYWJsZWQsIHN0YXR1czogdGhpcy5tZXJnZWRTdGF0dXMsIGlucHV0UHJvcHM6IHRoaXMuaW5wdXRQcm9wcywgY2xzUHJlZml4OiB0aGlzLm1lcmdlZENsc1ByZWZpeCwgc2hvd0Fycm93OiB0aGlzLnNob3dBcnJvdywgbWF4VGFnQ291bnQ6IHRoaXMubWF4VGFnQ291bnQsIGJvcmRlcmVkOiB0aGlzLm1lcmdlZEJvcmRlcmVkLCBhY3RpdmU6IHRoaXMuYWN0aXZlV2l0aG91dE1lbnVPcGVuIHx8IHRoaXMubWVyZ2VkU2hvdywgcGF0dGVybjogdGhpcy5wYXR0ZXJuLCBwbGFjZWhvbGRlcjogdGhpcy5sb2NhbGl6ZWRQbGFjZWhvbGRlciwgc2VsZWN0ZWRPcHRpb246IHRoaXMuc2VsZWN0ZWRPcHRpb24sIHNlbGVjdGVkT3B0aW9uczogdGhpcy5zZWxlY3RlZE9wdGlvbnMsIG11bHRpcGxlOiB0aGlzLm11bHRpcGxlLCByZW5kZXJUYWc6IHRoaXMucmVuZGVyVGFnLCByZW5kZXJMYWJlbDogdGhpcy5yZW5kZXJMYWJlbCwgZmlsdGVyYWJsZTogdGhpcy5maWx0ZXJhYmxlLCBjbGVhcmFibGU6IHRoaXMuY2xlYXJhYmxlLCBkaXNhYmxlZDogdGhpcy5tZXJnZWREaXNhYmxlZCwgc2l6ZTogdGhpcy5tZXJnZWRTaXplLCB0aGVtZTogdGhpcy5tZXJnZWRUaGVtZS5wZWVycy5JbnRlcm5hbFNlbGVjdGlvbiwgdGhlbWVPdmVycmlkZXM6IHRoaXMubWVyZ2VkVGhlbWUucGVlck92ZXJyaWRlcy5JbnRlcm5hbFNlbGVjdGlvbiwgbG9hZGluZzogdGhpcy5sb2FkaW5nLCBmb2N1c2VkOiB0aGlzLmZvY3VzZWQsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlVHJpZ2dlckNsaWNrLCBvbkRlbGV0ZU9wdGlvbjogdGhpcy5oYW5kbGVEZWxldGVPcHRpb24sIG9uUGF0dGVybklucHV0OiB0aGlzLmhhbmRsZVBhdHRlcm5JbnB1dCwgb25DbGVhcjogdGhpcy5oYW5kbGVDbGVhciwgb25CbHVyOiB0aGlzLmhhbmRsZVRyaWdnZXJCbHVyLCBvbkZvY3VzOiB0aGlzLmhhbmRsZVRyaWdnZXJGb2N1cywgb25LZXlkb3duOiB0aGlzLmhhbmRsZUtleWRvd24sIG9uUGF0dGVybkJsdXI6IHRoaXMub25UcmlnZ2VySW5wdXRCbHVyLCBvblBhdHRlcm5Gb2N1czogdGhpcy5vblRyaWdnZXJJbnB1dEZvY3VzIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJvdzogKCkgPT4geyB2YXIgX2EsIF9iOyByZXR1cm4gWyhfYiA9IChfYSA9IHRoaXMuJHNsb3RzKS5hcnJvdykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBoKFZGb2xsb3dlciwgeyByZWY6IFwiZm9sbG93ZXJSZWZcIiwgc2hvdzogdGhpcy5tZXJnZWRTaG93LCB0bzogdGhpcy5hZGp1c3RlZFRvLCB0ZWxlcG9ydERpc2FibGVkOiB0aGlzLmFkanVzdGVkVG8gPT09IHVzZUFkanVzdGVkVG8udGRrZXksIGNvbnRhaW5lckNsYXNzOiB0aGlzLm5hbWVzcGFjZSwgd2lkdGg6IHRoaXMuY29uc2lzdGVudE1lbnVXaWR0aCA/ICd0YXJnZXQnIDogdW5kZWZpbmVkLCBtaW5XaWR0aDogXCJ0YXJnZXRcIiwgcGxhY2VtZW50OiB0aGlzLnBsYWNlbWVudCB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiAoaChUcmFuc2l0aW9uLCB7IG5hbWU6IFwiZmFkZS1pbi1zY2FsZS11cC10cmFuc2l0aW9uXCIsIGFwcGVhcjogdGhpcy5pc01vdW50ZWQsIG9uQWZ0ZXJMZWF2ZTogdGhpcy5oYW5kbGVNZW51QWZ0ZXJMZWF2ZSB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMubWVyZ2VkU2hvdyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5RGlyZWN0aXZlID09PSAnc2hvdycpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoRGlyZWN0aXZlcyhoKE5JbnRlcm5hbFNlbGVjdE1lbnUsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMubWVudVByb3BzLCB7IHJlZjogXCJtZW51UmVmXCIsIGlubGluZVRoZW1lRGlzYWJsZWQ6IHRoaXMuaW5saW5lVGhlbWVEaXNhYmxlZCwgdmlydHVhbFNjcm9sbDogdGhpcy5jb25zaXN0ZW50TWVudVdpZHRoICYmIHRoaXMudmlydHVhbFNjcm9sbCwgY2xhc3M6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5tZXJnZWRDbHNQcmVmaXh9LXNlbGVjdC1tZW51YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gdGhpcy5tZW51UHJvcHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sIGNsc1ByZWZpeDogdGhpcy5tZXJnZWRDbHNQcmVmaXgsIGZvY3VzYWJsZTogdHJ1ZSwgYXV0b1BlbmRpbmc6IHRydWUsIHRoZW1lOiB0aGlzLm1lcmdlZFRoZW1lLnBlZXJzLkludGVybmFsU2VsZWN0TWVudSwgdGhlbWVPdmVycmlkZXM6IHRoaXMubWVyZ2VkVGhlbWUucGVlck92ZXJyaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuSW50ZXJuYWxTZWxlY3RNZW51LCB0cmVlTWF0ZTogdGhpcy50cmVlTWF0ZSwgbXVsdGlwbGU6IHRoaXMubXVsdGlwbGUsIHNpemU6ICdtZWRpdW0nLCByZW5kZXJPcHRpb246IHRoaXMucmVuZGVyT3B0aW9uLCByZW5kZXJMYWJlbDogdGhpcy5yZW5kZXJMYWJlbCwgdmFsdWU6IHRoaXMubWVyZ2VkVmFsdWUsIHN0eWxlOiBbKF9iID0gdGhpcy5tZW51UHJvcHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdHlsZSwgdGhpcy5jc3NWYXJzXSwgb25Ub2dnbGU6IHRoaXMuaGFuZGxlVG9nZ2xlLCBvblNjcm9sbDogdGhpcy5oYW5kbGVNZW51U2Nyb2xsLCBvbkZvY3VzOiB0aGlzLmhhbmRsZU1lbnVGb2N1cywgb25CbHVyOiB0aGlzLmhhbmRsZU1lbnVCbHVyLCBvbktleWRvd246IHRoaXMuaGFuZGxlTWVudUtleWRvd24sIG9uVGFiT3V0OiB0aGlzLmhhbmRsZU1lbnVUYWJPdXQsIG9uTW91c2Vkb3duOiB0aGlzLmhhbmRsZU1lbnVNb3VzZWRvd24sIHNob3c6IHRoaXMubWVyZ2VkU2hvdywgcmVzZXRNZW51T25PcHRpb25zQ2hhbmdlOiB0aGlzLnJlc2V0TWVudU9uT3B0aW9uc0NoYW5nZSB9KSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5OiAoKSA9PiB7IHZhciBfYSwgX2I7IHJldHVybiBbKF9iID0gKF9hID0gdGhpcy4kc2xvdHMpLmVtcHR5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSldOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4geyB2YXIgX2EsIF9iOyByZXR1cm4gWyhfYiA9IChfYSA9IHRoaXMuJHNsb3RzKS5hY3Rpb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKV07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB0aGlzLmRpc3BsYXlEaXJlY3RpdmUgPT09ICdzaG93J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdlNob3csIHRoaXMubWVyZ2VkU2hvd10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjbGlja291dHNpZGUsIHRoaXMuaGFuZGxlTWVudUNsaWNrT3V0c2lkZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbW2NsaWNrb3V0c2lkZSwgdGhpcy5oYW5kbGVNZW51Q2xpY2tPdXRzaWRlXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pKSk7XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgeyBjQiwgYyB9IGZyb20gJy4uLy4uLy4uL191dGlscy9jc3NyJztcbmltcG9ydCBmYWRlSW5TY2FsZVVwVHJhbnNpdGlvbiBmcm9tICcuLi8uLi8uLi9fc3R5bGVzL3RyYW5zaXRpb25zL2ZhZGUtaW4tc2NhbGUtdXAuY3Nzcic7IC8vIC0tbi1tZW51LWJveC1zaGFkb3dcblxuZXhwb3J0IGRlZmF1bHQgYyhbY0IoJ3NlbGVjdCcsIGBcbiB6LWluZGV4OiBhdXRvO1xuIG91dGxpbmU6IG5vbmU7XG4gd2lkdGg6IDEwMCU7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIGApLCBjQignc2VsZWN0LW1lbnUnLCBgXG4gbWFyZ2luOiA0cHggMDtcbiBib3gtc2hhZG93OiB2YXIoLS1uLW1lbnUtYm94LXNoYWRvdyk7XG4gYCwgW2ZhZGVJblNjYWxlVXBUcmFuc2l0aW9uKCldKV0pOyIsImV4cG9ydCBmdW5jdGlvbiBnZXRLZXkob3B0aW9uKSB7XG4gICAgaWYgKGdldElzR3JvdXAob3B0aW9uKSkge1xuICAgICAgICByZXR1cm4gKG9wdGlvbi5uYW1lIHx8XG4gICAgICAgICAgICBvcHRpb24ua2V5IHx8XG4gICAgICAgICAgICAna2V5LXJlcXVpcmVkJyk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb24udmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SXNHcm91cChvcHRpb24pIHtcbiAgICByZXR1cm4gb3B0aW9uLnR5cGUgPT09ICdncm91cCc7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SWdub3JlZChvcHRpb24pIHtcbiAgICByZXR1cm4gb3B0aW9uLnR5cGUgPT09ICdpZ25vcmVkJztcbn1cbmV4cG9ydCBjb25zdCB0bU9wdGlvbnMgPSB7XG4gICAgZ2V0S2V5LFxuICAgIGdldElzR3JvdXAsXG4gICAgZ2V0SWdub3JlZFxufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXR0ZXJuTWF0Y2hlZChwYXR0ZXJuLCB2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAhISgxICsgdmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocGF0dGVybi50cmltKCkudG9Mb3dlckNhc2UoKSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyT3B0aW9ucyhvcmlnaW5hbE9wdHMsIGZpbHRlciwgcGF0dGVybikge1xuICAgIGlmICghZmlsdGVyKVxuICAgICAgICByZXR1cm4gb3JpZ2luYWxPcHRzO1xuICAgIGZ1bmN0aW9uIHRyYXZlcnNlKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdGlvbnMpKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZE9wdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKGdldElzR3JvdXAob3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdHJhdmVyc2Uob3B0aW9uLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkT3B0aW9ucy5wdXNoKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdldElnbm9yZWQob3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZmlsdGVyKHBhdHRlcm4sIG9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZE9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZE9wdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiB0cmF2ZXJzZShvcmlnaW5hbE9wdHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZhbE9wdE1hcChvcHRpb25zKSB7XG4gICAgY29uc3QgdmFsT3B0TWFwID0gbmV3IE1hcCgpO1xuICAgIG9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgICAgIGlmIChnZXRJc0dyb3VwKG9wdGlvbikpIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIG9wdGlvbi5jaGlsZHJlbi5mb3JFYWNoKChTZWxlY3RHcm91cE9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIHZhbE9wdE1hcC5zZXQoU2VsZWN0R3JvdXBPcHRpb24udmFsdWUsIFNlbGVjdEdyb3VwT3B0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsT3B0TWFwLnNldChvcHRpb24udmFsdWUsIG9wdGlvbik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsT3B0TWFwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRGaWx0ZXIocGF0dGVybiwgb3B0aW9uKSB7XG4gICAgaWYgKCFvcHRpb24pXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbi5sYWJlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm5NYXRjaGVkKHBhdHRlcm4sIG9wdGlvbi5sYWJlbCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbi52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuTWF0Y2hlZChwYXR0ZXJuLCBTdHJpbmcob3B0aW9uLnZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCB7IGludGVybmFsU2VsZWN0aW9uTGlnaHQgfSBmcm9tICcuLi8uLi9faW50ZXJuYWwvc2VsZWN0aW9uL3N0eWxlcyc7XG5pbXBvcnQgeyBpbnRlcm5hbFNlbGVjdE1lbnVMaWdodCB9IGZyb20gJy4uLy4uL19pbnRlcm5hbC9zZWxlY3QtbWVudS9zdHlsZXMnO1xuaW1wb3J0IHsgY29tbW9uTGlnaHQgfSBmcm9tICcuLi8uLi9fc3R5bGVzL2NvbW1vbic7XG5pbXBvcnQgeyBjcmVhdGVUaGVtZSB9IGZyb20gJy4uLy4uL19taXhpbnMnO1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGYodmFycykge1xuICAgIGNvbnN0IHsgYm94U2hhZG93MiB9ID0gdmFycztcbiAgICByZXR1cm4ge1xuICAgICAgICBtZW51Qm94U2hhZG93OiBib3hTaGFkb3cyXG4gICAgfTtcbn1cbmNvbnN0IHNlbGVjdExpZ2h0ID0gY3JlYXRlVGhlbWUoe1xuICAgIG5hbWU6ICdTZWxlY3QnLFxuICAgIGNvbW1vbjogY29tbW9uTGlnaHQsXG4gICAgcGVlcnM6IHtcbiAgICAgICAgSW50ZXJuYWxTZWxlY3Rpb246IGludGVybmFsU2VsZWN0aW9uTGlnaHQsXG4gICAgICAgIEludGVybmFsU2VsZWN0TWVudTogaW50ZXJuYWxTZWxlY3RNZW51TGlnaHRcbiAgICB9LFxuICAgIHNlbGZcbn0pO1xuZXhwb3J0IGRlZmF1bHQgc2VsZWN0TGlnaHQ7XG4iLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQsIGNvbXB1dGVkLCByZWYsIHByb3ZpZGUsIHRvUmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHVzZUNvbmZpZywgdXNlVGhlbWVDbGFzcywgdXNlVGhlbWUgfSBmcm9tICcuLi8uLi9fbWl4aW5zJztcbmltcG9ydCB7IE5CYXNlQ2xvc2UgfSBmcm9tICcuLi8uLi9faW50ZXJuYWwnO1xuaW1wb3J0IHsgd2FybiwgY3JlYXRlS2V5LCBjYWxsLCBjcmVhdGVJbmplY3Rpb25LZXksIGNvbG9yMkNsYXNzLCByZXNvbHZlV3JhcHBlZFNsb3QgfSBmcm9tICcuLi8uLi9fdXRpbHMnO1xuaW1wb3J0IHsgdGFnTGlnaHQgfSBmcm9tICcuLi9zdHlsZXMnO1xuaW1wb3J0IGNvbW1vblByb3BzIGZyb20gJy4vY29tbW9uLXByb3BzJztcbmltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlcy9pbmRleC5jc3NyJztcbmltcG9ydCB1c2VSdGwgZnJvbSAnLi4vLi4vX21peGlucy91c2UtcnRsJztcbmNvbnN0IHRhZ1Byb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHVzZVRoZW1lLnByb3BzKSwgY29tbW9uUHJvcHMpLCB7IGJvcmRlcmVkOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgIH0sIGNoZWNrZWQ6IEJvb2xlYW4sIGNoZWNrYWJsZTogQm9vbGVhbiwgb25DbG9zZTogW0FycmF5LCBGdW5jdGlvbl0sIG9uTW91c2VlbnRlcjogRnVuY3Rpb24sIG9uTW91c2VsZWF2ZTogRnVuY3Rpb24sICdvblVwZGF0ZTpjaGVja2VkJzogRnVuY3Rpb24sIG9uVXBkYXRlQ2hlY2tlZDogRnVuY3Rpb24sIFxuICAgIC8vIHByaXZhdGVcbiAgICBpbnRlcm5hbFN0b3BDbGlja1Byb3BhZ2F0aW9uOiBCb29sZWFuLCBcbiAgICAvLyBkZXByZWNhdGVkXG4gICAgb25DaGVja2VkQ2hhbmdlOiB7XG4gICAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgICB2YWxpZGF0b3I6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgd2FybigndGFnJywgJ2Bvbi1jaGVja2VkLWNoYW5nZWAgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgb24tdXBkYXRlOmNoZWNrZWRgIGluc3RlYWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9IH0pO1xuZXhwb3J0IGNvbnN0IHRhZ0luamVjdGlvbktleSA9IGNyZWF0ZUluamVjdGlvbktleSgnbi10YWcnKTtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ1RhZycsXG4gICAgcHJvcHM6IHRhZ1Byb3BzLFxuICAgIHNldHVwKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IHsgbWVyZ2VkQm9yZGVyZWRSZWYsIG1lcmdlZENsc1ByZWZpeFJlZiwgaW5saW5lVGhlbWVEaXNhYmxlZCwgbWVyZ2VkUnRsUmVmIH0gPSB1c2VDb25maWcocHJvcHMpO1xuICAgICAgICBjb25zdCB0aGVtZVJlZiA9IHVzZVRoZW1lKCdUYWcnLCAnLXRhZycsIHN0eWxlLCB0YWdMaWdodCwgcHJvcHMsIG1lcmdlZENsc1ByZWZpeFJlZik7XG4gICAgICAgIHByb3ZpZGUodGFnSW5qZWN0aW9uS2V5LCB7XG4gICAgICAgICAgICByb3VuZFJlZjogdG9SZWYocHJvcHMsICdyb3VuZCcpXG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhlKSB7XG4gICAgICAgICAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmNoZWNrYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNoZWNrZWQsIG9uQ2hlY2tlZENoYW5nZSwgb25VcGRhdGVDaGVja2VkLCAnb25VcGRhdGU6Y2hlY2tlZCc6IF9vblVwZGF0ZUNoZWNrZWQgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgICAgICBpZiAob25VcGRhdGVDaGVja2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVDaGVja2VkKCFjaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9vblVwZGF0ZUNoZWNrZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBfb25VcGRhdGVDaGVja2VkKCFjaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVwcmVjYXRlZFxuICAgICAgICAgICAgICAgICAgICBpZiAob25DaGVja2VkQ2hhbmdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlKCFjaGVja2VkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ2xvc2VDbGljayhlKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMuaW50ZXJuYWxTdG9wQ2xpY2tQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBvbkNsb3NlIH0gPSBwcm9wcztcbiAgICAgICAgICAgICAgICBpZiAob25DbG9zZSlcbiAgICAgICAgICAgICAgICAgICAgY2FsbChvbkNsb3NlLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWdQdWJsaWNNZXRob2RzID0ge1xuICAgICAgICAgICAgc2V0VGV4dENvbnRlbnQodGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSBjb250ZW50UmVmO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcnRsRW5hYmxlZFJlZiA9IHVzZVJ0bCgnVGFnJywgbWVyZ2VkUnRsUmVmLCBtZXJnZWRDbHNQcmVmaXhSZWYpO1xuICAgICAgICBjb25zdCBjc3NWYXJzUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBzaXplLCBjb2xvcjogeyBjb2xvciwgdGV4dENvbG9yIH0gPSB7fSB9ID0gcHJvcHM7XG4gICAgICAgICAgICBjb25zdCB7IGNvbW1vbjogeyBjdWJpY0JlemllckVhc2VJbk91dCB9LCBzZWxmOiB7IHBhZGRpbmcsIGNsb3NlTWFyZ2luLCBjbG9zZU1hcmdpblJ0bCwgYm9yZGVyUmFkaXVzLCBvcGFjaXR5RGlzYWJsZWQsIHRleHRDb2xvckNoZWNrYWJsZSwgdGV4dENvbG9ySG92ZXJDaGVja2FibGUsIHRleHRDb2xvclByZXNzZWRDaGVja2FibGUsIHRleHRDb2xvckNoZWNrZWQsIGNvbG9yQ2hlY2thYmxlLCBjb2xvckhvdmVyQ2hlY2thYmxlLCBjb2xvclByZXNzZWRDaGVja2FibGUsIGNvbG9yQ2hlY2tlZCwgY29sb3JDaGVja2VkSG92ZXIsIGNvbG9yQ2hlY2tlZFByZXNzZWQsIFtjcmVhdGVLZXkoJ2Nsb3NlU2l6ZScsIHNpemUpXTogY2xvc2VTaXplLCBbY3JlYXRlS2V5KCdmb250U2l6ZScsIHNpemUpXTogZm9udFNpemUsIFtjcmVhdGVLZXkoJ2hlaWdodCcsIHNpemUpXTogaGVpZ2h0LCBbY3JlYXRlS2V5KCdjb2xvcicsIHR5cGUpXTogdHlwZWRDb2xvciwgW2NyZWF0ZUtleSgndGV4dENvbG9yJywgdHlwZSldOiB0eXBlVGV4dENvbG9yLCBbY3JlYXRlS2V5KCdib3JkZXInLCB0eXBlKV06IGJvcmRlciwgW2NyZWF0ZUtleSgnY2xvc2VDb2xvcicsIHR5cGUpXTogY2xvc2VDb2xvciwgW2NyZWF0ZUtleSgnY2xvc2VDb2xvckhvdmVyJywgdHlwZSldOiBjbG9zZUNvbG9ySG92ZXIsIFtjcmVhdGVLZXkoJ2Nsb3NlQ29sb3JQcmVzc2VkJywgdHlwZSldOiBjbG9zZUNvbG9yUHJlc3NlZCB9IH0gPSB0aGVtZVJlZi52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJy0tbi1hdmF0YXItc2l6ZS1vdmVycmlkZSc6IGBjYWxjKCR7aGVpZ2h0fSAtIDhweClgLFxuICAgICAgICAgICAgICAgICctLW4tYmV6aWVyJzogY3ViaWNCZXppZXJFYXNlSW5PdXQsXG4gICAgICAgICAgICAgICAgJy0tbi1ib3JkZXItcmFkaXVzJzogYm9yZGVyUmFkaXVzLFxuICAgICAgICAgICAgICAgICctLW4tYm9yZGVyJzogYm9yZGVyLFxuICAgICAgICAgICAgICAgICctLW4tY2xvc2UtY29sb3InOiBjbG9zZUNvbG9yLFxuICAgICAgICAgICAgICAgICctLW4tY2xvc2UtY29sb3ItaG92ZXInOiBjbG9zZUNvbG9ySG92ZXIsXG4gICAgICAgICAgICAgICAgJy0tbi1jbG9zZS1jb2xvci1wcmVzc2VkJzogY2xvc2VDb2xvclByZXNzZWQsXG4gICAgICAgICAgICAgICAgJy0tbi1jbG9zZS1jb2xvci1kaXNhYmxlZCc6IGNsb3NlQ29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1jbG9zZS1tYXJnaW4nOiBjbG9zZU1hcmdpbixcbiAgICAgICAgICAgICAgICAnLS1uLWNsb3NlLW1hcmdpbi1ydGwnOiBjbG9zZU1hcmdpblJ0bCxcbiAgICAgICAgICAgICAgICAnLS1uLWNsb3NlLXNpemUnOiBjbG9zZVNpemUsXG4gICAgICAgICAgICAgICAgJy0tbi1jb2xvcic6IGNvbG9yIHx8IHR5cGVkQ29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1jb2xvci1jaGVja2FibGUnOiBjb2xvckNoZWNrYWJsZSxcbiAgICAgICAgICAgICAgICAnLS1uLWNvbG9yLWNoZWNrZWQnOiBjb2xvckNoZWNrZWQsXG4gICAgICAgICAgICAgICAgJy0tbi1jb2xvci1jaGVja2VkLWhvdmVyJzogY29sb3JDaGVja2VkSG92ZXIsXG4gICAgICAgICAgICAgICAgJy0tbi1jb2xvci1jaGVja2VkLXByZXNzZWQnOiBjb2xvckNoZWNrZWRQcmVzc2VkLFxuICAgICAgICAgICAgICAgICctLW4tY29sb3ItaG92ZXItY2hlY2thYmxlJzogY29sb3JIb3ZlckNoZWNrYWJsZSxcbiAgICAgICAgICAgICAgICAnLS1uLWNvbG9yLXByZXNzZWQtY2hlY2thYmxlJzogY29sb3JQcmVzc2VkQ2hlY2thYmxlLFxuICAgICAgICAgICAgICAgICctLW4tZm9udC1zaXplJzogZm9udFNpemUsXG4gICAgICAgICAgICAgICAgJy0tbi1oZWlnaHQnOiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgJy0tbi1vcGFjaXR5LWRpc2FibGVkJzogb3BhY2l0eURpc2FibGVkLFxuICAgICAgICAgICAgICAgICctLW4tcGFkZGluZyc6IHBhZGRpbmcsXG4gICAgICAgICAgICAgICAgJy0tbi10ZXh0LWNvbG9yJzogdGV4dENvbG9yIHx8IHR5cGVUZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi10ZXh0LWNvbG9yLWNoZWNrYWJsZSc6IHRleHRDb2xvckNoZWNrYWJsZSxcbiAgICAgICAgICAgICAgICAnLS1uLXRleHQtY29sb3ItY2hlY2tlZCc6IHRleHRDb2xvckNoZWNrZWQsXG4gICAgICAgICAgICAgICAgJy0tbi10ZXh0LWNvbG9yLWhvdmVyLWNoZWNrYWJsZSc6IHRleHRDb2xvckhvdmVyQ2hlY2thYmxlLFxuICAgICAgICAgICAgICAgICctLW4tdGV4dC1jb2xvci1wcmVzc2VkLWNoZWNrYWJsZSc6IHRleHRDb2xvclByZXNzZWRDaGVja2FibGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0aGVtZUNsYXNzSGFuZGxlID0gaW5saW5lVGhlbWVEaXNhYmxlZFxuICAgICAgICAgICAgPyB1c2VUaGVtZUNsYXNzKCd0YWcnLCBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGhhc2ggPSAnJztcbiAgICAgICAgICAgICAgICBjb25zdCB7IHR5cGUsIHNpemUsIGNvbG9yOiB7IGNvbG9yLCB0ZXh0Q29sb3IgfSA9IHt9IH0gPSBwcm9wcztcbiAgICAgICAgICAgICAgICBoYXNoICs9IHR5cGVbMF07XG4gICAgICAgICAgICAgICAgaGFzaCArPSBzaXplWzBdO1xuICAgICAgICAgICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBoYXNoICs9IGBhJHtjb2xvcjJDbGFzcyhjb2xvcil9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRleHRDb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBoYXNoICs9IGBiJHtjb2xvcjJDbGFzcyh0ZXh0Q29sb3IpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNoO1xuICAgICAgICAgICAgfSksIGNzc1ZhcnNSZWYsIHByb3BzKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRhZ1B1YmxpY01ldGhvZHMpLCB7IHJ0bEVuYWJsZWQ6IHJ0bEVuYWJsZWRSZWYsIG1lcmdlZENsc1ByZWZpeDogbWVyZ2VkQ2xzUHJlZml4UmVmLCBjb250ZW50UmVmLCBtZXJnZWRCb3JkZXJlZDogbWVyZ2VkQm9yZGVyZWRSZWYsIGhhbmRsZUNsaWNrLFxuICAgICAgICAgICAgaGFuZGxlQ2xvc2VDbGljaywgY3NzVmFyczogaW5saW5lVGhlbWVEaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGNzc1ZhcnNSZWYsIHRoZW1lQ2xhc3M6IHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS50aGVtZUNsYXNzLCBvblJlbmRlcjogdGhlbWVDbGFzc0hhbmRsZSA9PT0gbnVsbCB8fCB0aGVtZUNsYXNzSGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZUNsYXNzSGFuZGxlLm9uUmVuZGVyIH0pO1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCB7IG1lcmdlZENsc1ByZWZpeCwgcnRsRW5hYmxlZCwgY29sb3I6IHsgYm9yZGVyQ29sb3IgfSA9IHt9LCBvblJlbmRlciwgJHNsb3RzIH0gPSB0aGlzO1xuICAgICAgICBvblJlbmRlciA9PT0gbnVsbCB8fCBvblJlbmRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25SZW5kZXIoKTtcbiAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFtcbiAgICAgICAgICAgICAgICBgJHttZXJnZWRDbHNQcmVmaXh9LXRhZ2AsXG4gICAgICAgICAgICAgICAgdGhpcy50aGVtZUNsYXNzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tdGFnLS1ydGxgXTogcnRsRW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tdGFnLS1kaXNhYmxlZGBdOiB0aGlzLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgICBbYCR7bWVyZ2VkQ2xzUHJlZml4fS10YWctLWNoZWNrYWJsZWBdOiB0aGlzLmNoZWNrYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tdGFnLS1jaGVja2VkYF06IHRoaXMuY2hlY2thYmxlICYmIHRoaXMuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tdGFnLS1yb3VuZGBdOiB0aGlzLnJvdW5kXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSwgc3R5bGU6IHRoaXMuY3NzVmFycywgb25DbGljazogdGhpcy5oYW5kbGVDbGljaywgb25Nb3VzZWVudGVyOiB0aGlzLm9uTW91c2VlbnRlciwgb25Nb3VzZWxlYXZlOiB0aGlzLm9uTW91c2VsZWF2ZSB9LFxuICAgICAgICAgICAgcmVzb2x2ZVdyYXBwZWRTbG90KCRzbG90cy5hdmF0YXIsIChjaGlsZHJlbikgPT4gY2hpbGRyZW4gJiYgKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7bWVyZ2VkQ2xzUHJlZml4fS10YWdfX2F2YXRhcmAgfSwgY2hpbGRyZW4pKSksXG4gICAgICAgICAgICBoKFwic3BhblwiLCB7IGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LXRhZ19fY29udGVudGAsIHJlZjogXCJjb250ZW50UmVmXCIgfSwgKF9iID0gKF9hID0gdGhpcy4kc2xvdHMpLmRlZmF1bHQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSksXG4gICAgICAgICAgICAhdGhpcy5jaGVja2FibGUgJiYgdGhpcy5jbG9zYWJsZSA/IChoKE5CYXNlQ2xvc2UsIHsgY2xzUHJlZml4OiBtZXJnZWRDbHNQcmVmaXgsIGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LXRhZ19fY2xvc2VgLCBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZCwgb25DbGljazogdGhpcy5oYW5kbGVDbG9zZUNsaWNrIH0pKSA6IG51bGwsXG4gICAgICAgICAgICAhdGhpcy5jaGVja2FibGUgJiYgdGhpcy5tZXJnZWRCb3JkZXJlZCA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke21lcmdlZENsc1ByZWZpeH0tdGFnX19ib3JkZXJgLCBzdHlsZTogeyBib3JkZXJDb2xvciB9IH0pKSA6IG51bGwpKTtcbiAgICB9XG59KTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBjb2xvcjogT2JqZWN0LFxuICAgIHR5cGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAnZGVmYXVsdCdcbiAgICB9LFxuICAgIHJvdW5kOiBCb29sZWFuLFxuICAgIHNpemU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAnbWVkaXVtJ1xuICAgIH0sXG4gICAgY2xvc2FibGU6IEJvb2xlYW4sXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gICAgfVxufTtcbiIsImltcG9ydCB7IGMsIGNCLCBjRSwgY00sIGNOb3RNIH0gZnJvbSAnLi4vLi4vLi4vX3V0aWxzL2Nzc3InOyAvLyB2YXJzOlxuLy8gLS1uLWJlemllclxuLy8gLS1uLWJvcmRlci1yYWRpdXNcbi8vIC0tbi1ib3JkZXJcbi8vIC0tbi1jbG9zZS1jb2xvclxuLy8gLS1uLWNsb3NlLWNvbG9yLWhvdmVyXG4vLyAtLW4tY2xvc2UtY29sb3ItcHJlc3NlZFxuLy8gLS1uLWNsb3NlLW1hcmdpblxuLy8gLS1uLWNsb3NlLXNpemVcbi8vIC0tbi1jb2xvclxuLy8gLS1uLWNvbG9yLWNoZWNrYWJsZVxuLy8gLS1uLWNvbG9yLWNoZWNrZWRcbi8vIC0tbi1jb2xvci1jaGVja2VkLWhvdmVyXG4vLyAtLW4tY29sb3ItY2hlY2tlZC1wcmVzc2VkXG4vLyAtLW4tY29sb3ItaG92ZXItY2hlY2thYmxlXG4vLyAtLW4tY29sb3ItcHJlc3NlZC1jaGVja2FibGVcbi8vIC0tbi1mb250LXNpemVcbi8vIC0tbi1oZWlnaHRcbi8vIC0tbi1vcGFjaXR5LWRpc2FibGVkXG4vLyAtLW4tcGFkZGluZ1xuLy8gLS1uLXRleHQtY29sb3Jcbi8vIC0tbi10ZXh0LWNvbG9yLWNoZWNrYWJsZVxuLy8gLS1uLXRleHQtY29sb3ItY2hlY2tlZFxuLy8gLS1uLXRleHQtY29sb3ItaG92ZXItY2hlY2thYmxlXG4vLyAtLW4tdGV4dC1jb2xvci1wcmVzc2VkLWNoZWNrYWJsZVxuXG5leHBvcnQgZGVmYXVsdCBjQigndGFnJywgYFxuIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gY3Vyc29yOiBkZWZhdWx0O1xuIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gZmxleC13cmFwOiBub3dyYXA7XG4gcGFkZGluZzogdmFyKC0tbi1wYWRkaW5nKTtcbiBib3JkZXItcmFkaXVzOiB2YXIoLS1uLWJvcmRlci1yYWRpdXMpO1xuIGNvbG9yOiB2YXIoLS1uLXRleHQtY29sb3IpO1xuIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3IpO1xuIHRyYW5zaXRpb246IFxuIGJvcmRlci1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGJhY2tncm91bmQtY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGJveC1zaGFkb3cgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBvcGFjaXR5IC4zcyB2YXIoLS1uLWJlemllcik7XG4gbGluZS1oZWlnaHQ6IDE7XG4gaGVpZ2h0OiB2YXIoLS1uLWhlaWdodCk7XG4gZm9udC1zaXplOiB2YXIoLS1uLWZvbnQtc2l6ZSk7XG5gLCBbY0UoJ2JvcmRlcicsIGBcbiBwb2ludGVyLWV2ZW50czogbm9uZTtcbiBwb3NpdGlvbjogYWJzb2x1dGU7XG4gbGVmdDogMDtcbiByaWdodDogMDtcbiB0b3A6IDA7XG4gYm90dG9tOiAwO1xuIGJvcmRlci1yYWRpdXM6IGluaGVyaXQ7XG4gYm9yZGVyOiB2YXIoLS1uLWJvcmRlcik7XG4gdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYCksIGNFKCdhdmF0YXInLCBgXG4gZGlzcGxheTogZmxleDtcbiBtYXJnaW4tcmlnaHQ6IDZweDtcbiBgKSwgY0UoJ2Nsb3NlJywgYFxuIGZvbnQtc2l6ZTogdmFyKC0tbi1jbG9zZS1zaXplKTtcbiBtYXJnaW46IHZhcigtLW4tY2xvc2UtbWFyZ2luKTtcbiB0cmFuc2l0aW9uOiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGN1cnNvcjogcG9pbnRlcjtcbiBgKSwgY00oJ3JvdW5kJywgYFxuIHBhZGRpbmc6IDAgY2FsYyh2YXIoLS1uLWhlaWdodCkgLyAyKTtcbiBib3JkZXItcmFkaXVzOiBjYWxjKHZhcigtLW4taGVpZ2h0KSAvIDIpO1xuIGAsIFtjRSgnYXZhdGFyJywgYFxuIG1hcmdpbi1sZWZ0OiBjYWxjKCh2YXIoLS1uLWhlaWdodCkgLSA4cHgpIC8gLTIpO1xuIGApXSksIGNNKCdkaXNhYmxlZCcsIGBcbiBjdXJzb3I6IG5vdC1hbGxvd2VkICFpbXBvcnRhbnQ7XG4gb3BhY2l0eTogdmFyKC0tbi1vcGFjaXR5LWRpc2FibGVkKTtcbiBgKSwgY00oJ2NoZWNrYWJsZScsIGBcbiBjdXJzb3I6IHBvaW50ZXI7XG4gYm94LXNoYWRvdzogbm9uZTtcbiBjb2xvcjogdmFyKC0tbi10ZXh0LWNvbG9yLWNoZWNrYWJsZSk7XG4gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvci1jaGVja2FibGUpO1xuIGAsIFtjTm90TSgnZGlzYWJsZWQnLCBbYygnJjpob3ZlcicsICdiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yLWhvdmVyLWNoZWNrYWJsZSk7JywgW2NOb3RNKCdjaGVja2VkJywgJ2NvbG9yOiB2YXIoLS1uLXRleHQtY29sb3ItaG92ZXItY2hlY2thYmxlKTsnKV0pLCBjKCcmOmFjdGl2ZScsICdiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yLXByZXNzZWQtY2hlY2thYmxlKTsnLCBbY05vdE0oJ2NoZWNrZWQnLCAnY29sb3I6IHZhcigtLW4tdGV4dC1jb2xvci1wcmVzc2VkLWNoZWNrYWJsZSk7JyldKV0pLCBjTSgnY2hlY2tlZCcsIGBcbiBjb2xvcjogdmFyKC0tbi10ZXh0LWNvbG9yLWNoZWNrZWQpO1xuIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3ItY2hlY2tlZCk7XG4gYCwgW2NOb3RNKCdkaXNhYmxlZCcsIFtjKCcmOmhvdmVyJywgJ2JhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3ItY2hlY2tlZC1ob3Zlcik7JyksIGMoJyY6YWN0aXZlJywgJ2JhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3ItY2hlY2tlZC1wcmVzc2VkKTsnKV0pXSldKV0pOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBjbG9zZVNpemVTbWFsbDogJzE0cHgnLFxuICAgIGNsb3NlU2l6ZU1lZGl1bTogJzE0cHgnLFxuICAgIGNsb3NlU2l6ZUxhcmdlOiAnMTRweCcsXG4gICAgLy8gY2xvc2VTaXplXG4gICAgcGFkZGluZzogJzAgN3B4JyxcbiAgICBjbG9zZU1hcmdpbjogJzAgMCAwIDNweCcsXG4gICAgY2xvc2VNYXJnaW5SdGw6ICcwIDNweCAwIDAnXG59O1xuIiwiaW1wb3J0IGNvbW1vblZhcmlhYmxlcyBmcm9tICcuL19jb21tb24nO1xuaW1wb3J0IHsgY2hhbmdlQ29sb3IgfSBmcm9tICdzZWVtbHknO1xuaW1wb3J0IHsgY29tbW9uTGlnaHQgfSBmcm9tICcuLi8uLi9fc3R5bGVzL2NvbW1vbic7XG5jb25zdCBzZWxmID0gKHZhcnMpID0+IHtcbiAgICBjb25zdCB7IHRleHRDb2xvcjIsIHByaW1hcnlDb2xvckhvdmVyLCBwcmltYXJ5Q29sb3JQcmVzc2VkLCBwcmltYXJ5Q29sb3IsIGluZm9Db2xvciwgc3VjY2Vzc0NvbG9yLCB3YXJuaW5nQ29sb3IsIGVycm9yQ29sb3IsIGJhc2VDb2xvciwgYm9yZGVyQ29sb3IsIG9wYWNpdHlEaXNhYmxlZCwgdGFnQ29sb3IsIGNsb3NlQ29sb3IsIGNsb3NlQ29sb3JIb3ZlciwgY2xvc2VDb2xvclByZXNzZWQsIGJvcmRlclJhZGl1c1NtYWxsOiBib3JkZXJSYWRpdXMsIGZvbnRTaXplVGlueSwgZm9udFNpemVTbWFsbCwgZm9udFNpemVNZWRpdW0sIGhlaWdodFRpbnksIGhlaWdodFNtYWxsLCBoZWlnaHRNZWRpdW0gfSA9IHZhcnM7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uVmFyaWFibGVzKSwgeyBoZWlnaHRTbWFsbDogaGVpZ2h0VGlueSwgaGVpZ2h0TWVkaXVtOiBoZWlnaHRTbWFsbCwgaGVpZ2h0TGFyZ2U6IGhlaWdodE1lZGl1bSwgYm9yZGVyUmFkaXVzLFxuICAgICAgICBvcGFjaXR5RGlzYWJsZWQsIGZvbnRTaXplU21hbGw6IGZvbnRTaXplVGlueSwgZm9udFNpemVNZWRpdW06IGZvbnRTaXplU21hbGwsIGZvbnRTaXplTGFyZ2U6IGZvbnRTaXplTWVkaXVtLCBcbiAgICAgICAgLy8gY2hlY2tlZFxuICAgICAgICB0ZXh0Q29sb3JDaGVja2FibGU6IHRleHRDb2xvcjIsIHRleHRDb2xvckhvdmVyQ2hlY2thYmxlOiBwcmltYXJ5Q29sb3JIb3ZlciwgdGV4dENvbG9yUHJlc3NlZENoZWNrYWJsZTogcHJpbWFyeUNvbG9yUHJlc3NlZCwgdGV4dENvbG9yQ2hlY2tlZDogYmFzZUNvbG9yLCBjb2xvckNoZWNrYWJsZTogJyMwMDAwJywgY29sb3JIb3ZlckNoZWNrYWJsZTogJyMwMDAwJywgY29sb3JQcmVzc2VkQ2hlY2thYmxlOiAnIzAwMDAnLCBjb2xvckNoZWNrZWQ6IHByaW1hcnlDb2xvciwgY29sb3JDaGVja2VkSG92ZXI6IHByaW1hcnlDb2xvckhvdmVyLCBjb2xvckNoZWNrZWRQcmVzc2VkOiBwcmltYXJ5Q29sb3JQcmVzc2VkLCBcbiAgICAgICAgLy8gZGVmYXVsdFxuICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtib3JkZXJDb2xvcn1gLCB0ZXh0Q29sb3I6IHRleHRDb2xvcjIsIGNvbG9yOiB0YWdDb2xvciwgY2xvc2VDb2xvcjogY2xvc2VDb2xvciwgY2xvc2VDb2xvckhvdmVyOiBjbG9zZUNvbG9ySG92ZXIsIGNsb3NlQ29sb3JQcmVzc2VkOiBjbG9zZUNvbG9yUHJlc3NlZCwgYm9yZGVyUHJpbWFyeTogYDFweCBzb2xpZCAke2NoYW5nZUNvbG9yKHByaW1hcnlDb2xvciwgeyBhbHBoYTogMC4zIH0pfWAsIHRleHRDb2xvclByaW1hcnk6IHByaW1hcnlDb2xvciwgY29sb3JQcmltYXJ5OiBjaGFuZ2VDb2xvcihwcmltYXJ5Q29sb3IsIHsgYWxwaGE6IDAuMSB9KSwgY2xvc2VDb2xvclByaW1hcnk6IGNoYW5nZUNvbG9yKHByaW1hcnlDb2xvciwgeyBhbHBoYTogMC43NSB9KSwgY2xvc2VDb2xvckhvdmVyUHJpbWFyeTogY2hhbmdlQ29sb3IocHJpbWFyeUNvbG9yLCB7IGFscGhhOiAwLjYgfSksIGNsb3NlQ29sb3JQcmVzc2VkUHJpbWFyeTogY2hhbmdlQ29sb3IocHJpbWFyeUNvbG9yLCB7IGFscGhhOiAwLjkgfSksIGJvcmRlckluZm86IGAxcHggc29saWQgJHtjaGFuZ2VDb2xvcihpbmZvQ29sb3IsIHsgYWxwaGE6IDAuMyB9KX1gLCB0ZXh0Q29sb3JJbmZvOiBpbmZvQ29sb3IsIGNvbG9ySW5mbzogY2hhbmdlQ29sb3IoaW5mb0NvbG9yLCB7IGFscGhhOiAwLjEgfSksIGNsb3NlQ29sb3JJbmZvOiBjaGFuZ2VDb2xvcihpbmZvQ29sb3IsIHsgYWxwaGE6IDAuNzUgfSksIGNsb3NlQ29sb3JIb3ZlckluZm86IGNoYW5nZUNvbG9yKGluZm9Db2xvciwgeyBhbHBoYTogMC42IH0pLCBjbG9zZUNvbG9yUHJlc3NlZEluZm86IGNoYW5nZUNvbG9yKGluZm9Db2xvciwgeyBhbHBoYTogMC45IH0pLCBib3JkZXJTdWNjZXNzOiBgMXB4IHNvbGlkICR7Y2hhbmdlQ29sb3Ioc3VjY2Vzc0NvbG9yLCB7IGFscGhhOiAwLjMgfSl9YCwgdGV4dENvbG9yU3VjY2Vzczogc3VjY2Vzc0NvbG9yLCBjb2xvclN1Y2Nlc3M6IGNoYW5nZUNvbG9yKHN1Y2Nlc3NDb2xvciwgeyBhbHBoYTogMC4xIH0pLCBjbG9zZUNvbG9yU3VjY2VzczogY2hhbmdlQ29sb3Ioc3VjY2Vzc0NvbG9yLCB7IGFscGhhOiAwLjc1IH0pLCBjbG9zZUNvbG9ySG92ZXJTdWNjZXNzOiBjaGFuZ2VDb2xvcihzdWNjZXNzQ29sb3IsIHsgYWxwaGE6IDAuNiB9KSwgY2xvc2VDb2xvclByZXNzZWRTdWNjZXNzOiBjaGFuZ2VDb2xvcihzdWNjZXNzQ29sb3IsIHsgYWxwaGE6IDAuOSB9KSwgYm9yZGVyV2FybmluZzogYDFweCBzb2xpZCAke2NoYW5nZUNvbG9yKHdhcm5pbmdDb2xvciwgeyBhbHBoYTogMC4zNSB9KX1gLCB0ZXh0Q29sb3JXYXJuaW5nOiB3YXJuaW5nQ29sb3IsIGNvbG9yV2FybmluZzogY2hhbmdlQ29sb3Iod2FybmluZ0NvbG9yLCB7IGFscGhhOiAwLjEyIH0pLCBjbG9zZUNvbG9yV2FybmluZzogY2hhbmdlQ29sb3Iod2FybmluZ0NvbG9yLCB7IGFscGhhOiAwLjc1IH0pLCBjbG9zZUNvbG9ySG92ZXJXYXJuaW5nOiBjaGFuZ2VDb2xvcih3YXJuaW5nQ29sb3IsIHsgYWxwaGE6IDAuNiB9KSwgY2xvc2VDb2xvclByZXNzZWRXYXJuaW5nOiBjaGFuZ2VDb2xvcih3YXJuaW5nQ29sb3IsIHsgYWxwaGE6IDAuOSB9KSwgYm9yZGVyRXJyb3I6IGAxcHggc29saWQgJHtjaGFuZ2VDb2xvcihlcnJvckNvbG9yLCB7IGFscGhhOiAwLjIzIH0pfWAsIHRleHRDb2xvckVycm9yOiBlcnJvckNvbG9yLCBjb2xvckVycm9yOiBjaGFuZ2VDb2xvcihlcnJvckNvbG9yLCB7IGFscGhhOiAwLjA4IH0pLCBjbG9zZUNvbG9yRXJyb3I6IGNoYW5nZUNvbG9yKGVycm9yQ29sb3IsIHsgYWxwaGE6IDAuNjUgfSksIGNsb3NlQ29sb3JIb3ZlckVycm9yOiBjaGFuZ2VDb2xvcihlcnJvckNvbG9yLCB7IGFscGhhOiAwLjUgfSksIGNsb3NlQ29sb3JQcmVzc2VkRXJyb3I6IGNoYW5nZUNvbG9yKGVycm9yQ29sb3IsIHsgYWxwaGE6IDAuOCB9KSB9KTtcbn07XG5jb25zdCB0YWdMaWdodCA9IHtcbiAgICBuYW1lOiAnVGFnJyxcbiAgICBjb21tb246IGNvbW1vbkxpZ2h0LFxuICAgIHNlbGZcbn07XG5leHBvcnQgZGVmYXVsdCB0YWdMaWdodDtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUlkKGxlbmd0aCA9IDgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKVxuICAgICAgICAudG9TdHJpbmcoMTYpXG4gICAgICAgIC5zbGljZSgyLCAyICsgbGVuZ3RoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXBlYXQoY291bnQsIHYpIHtcbiAgICBjb25zdCByZXQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgcmV0LnB1c2godik7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBpbmRleE1hcChjb3VudCwgY3JlYXRlVmFsdWUpIHtcbiAgICBjb25zdCByZXQgPSBbXTtcbiAgICBpZiAoIWNyZWF0ZVZhbHVlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICAgICAgcmV0LnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG4gICAgICAgIHJldC5wdXNoKGNyZWF0ZVZhbHVlKGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cbmV4cG9ydCB7IGluZGV4TWFwIH07XG5leHBvcnQgZnVuY3Rpb24gc2xlZXAobXMpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBpc0V4cGlsaWNpdGx5Tm90TG9hZGVkLCBtZXJnZSwgbWludXMsIHRyYXZlcnNlV2l0aENiLCBUUkFWRVJTRV9DT01NQU5EIH0gZnJvbSAnLi91dGlscyc7XG5leHBvcnQgY2xhc3MgU3VidHJlZU5vdExvYWRlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPVxuICAgICAgICAgICAgJ1N1YnRyZWVOb3RMb2FkZWRFcnJvcjogY2hlY2tpbmcgYSBzdWJ0cmVlIHdob3NlIHJlcXVpcmVkIG5vZGVzIGFyZSBub3QgZnVsbHkgbG9hZGVkLic7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0RXh0ZW5kZWRDaGVja2VkS2V5U2V0QWZ0ZXJDaGVjayhjaGVja0tleXMsIGN1cnJlbnRDaGVja2VkS2V5cywgdHJlZU1hdGUpIHtcbiAgICByZXR1cm4gZ2V0RXh0ZW5kZWRDaGVja2VkS2V5U2V0KGN1cnJlbnRDaGVja2VkS2V5cy5jb25jYXQoY2hlY2tLZXlzKSwgdHJlZU1hdGUpO1xufVxuZnVuY3Rpb24gZ2V0QXZhaWxhYmxlQXNjZW5kYW50Tm9kZVNldCh1bmNoZWNrZWRLZXlzLCB0cmVlTWF0ZSkge1xuICAgIGNvbnN0IHZpc2l0ZWRLZXlzID0gbmV3IFNldCgpO1xuICAgIHVuY2hlY2tlZEtleXMuZm9yRWFjaCgodW5jaGVja2VkS2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHVuY2hlY2tlZFRyZWVOb2RlID0gdHJlZU1hdGUudHJlZU5vZGVNYXAuZ2V0KHVuY2hlY2tlZEtleSk7XG4gICAgICAgIGlmICh1bmNoZWNrZWRUcmVlTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgbm9kZUN1cnNvciA9IHVuY2hlY2tlZFRyZWVOb2RlLnBhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChub2RlQ3Vyc29yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVDdXJzb3IuZGlzYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmICh2aXNpdGVkS2V5cy5oYXMobm9kZUN1cnNvci5rZXkpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaXRlZEtleXMuYWRkKG5vZGVDdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZUN1cnNvciA9IG5vZGVDdXJzb3IucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZpc2l0ZWRLZXlzO1xufVxuZnVuY3Rpb24gZ2V0RXh0ZW5kZWRDaGVja2VkS2V5U2V0QWZ0ZXJVbmNoZWNrKHVuY2hlY2tlZEtleXMsIGN1cnJlbnRDaGVja2VkS2V5cywgdHJlZU1hdGUpIHtcbiAgICBjb25zdCBleHRlbmRlZENoZWNrZWRLZXlTZXQgPSBnZXRFeHRlbmRlZENoZWNrZWRLZXlTZXQoY3VycmVudENoZWNrZWRLZXlzLCB0cmVlTWF0ZSk7XG4gICAgY29uc3QgZXh0ZW5kZWRLZXlTZXRUb1VuY2hlY2sgPSBnZXRFeHRlbmRlZENoZWNrZWRLZXlTZXQodW5jaGVja2VkS2V5cywgdHJlZU1hdGUsIHRydWUpO1xuICAgIGNvbnN0IGFzY2VuZGFudEtleVNldCA9IGdldEF2YWlsYWJsZUFzY2VuZGFudE5vZGVTZXQodW5jaGVja2VkS2V5cywgdHJlZU1hdGUpO1xuICAgIGNvbnN0IGtleXNUb1JlbW92ZSA9IFtdO1xuICAgIGV4dGVuZGVkQ2hlY2tlZEtleVNldC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKGV4dGVuZGVkS2V5U2V0VG9VbmNoZWNrLmhhcyhrZXkpIHx8IGFzY2VuZGFudEtleVNldC5oYXMoa2V5KSkge1xuICAgICAgICAgICAga2V5c1RvUmVtb3ZlLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGtleXNUb1JlbW92ZS5mb3JFYWNoKChrZXkpID0+IGV4dGVuZGVkQ2hlY2tlZEtleVNldC5kZWxldGUoa2V5KSk7XG4gICAgcmV0dXJuIGV4dGVuZGVkQ2hlY2tlZEtleVNldDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGVja2VkS2V5cyhvcHRpb25zLCB0cmVlTWF0ZSkge1xuICAgIGNvbnN0IHsgY2hlY2tlZEtleXMsIGtleXNUb0NoZWNrLCBrZXlzVG9VbmNoZWNrLCBpbmRldGVybWluYXRlS2V5cywgY2FzY2FkZSwgbGVhZk9ubHksIGNoZWNrU3RyYXRlZ3kgfSA9IG9wdGlvbnM7XG4gICAgaWYgKCFjYXNjYWRlKSB7XG4gICAgICAgIGlmIChrZXlzVG9DaGVjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNoZWNrZWRLZXlzOiBtZXJnZShjaGVja2VkS2V5cywga2V5c1RvQ2hlY2spLFxuICAgICAgICAgICAgICAgIGluZGV0ZXJtaW5hdGVLZXlzOiBBcnJheS5mcm9tKGluZGV0ZXJtaW5hdGVLZXlzKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXlzVG9VbmNoZWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZEtleXM6IG1pbnVzKGNoZWNrZWRLZXlzLCBrZXlzVG9VbmNoZWNrKSxcbiAgICAgICAgICAgICAgICBpbmRldGVybWluYXRlS2V5czogQXJyYXkuZnJvbShpbmRldGVybWluYXRlS2V5cylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNoZWNrZWRLZXlzOiBBcnJheS5mcm9tKGNoZWNrZWRLZXlzKSxcbiAgICAgICAgICAgICAgICBpbmRldGVybWluYXRlS2V5czogQXJyYXkuZnJvbShpbmRldGVybWluYXRlS2V5cylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyBsZXZlbFRyZWVOb2RlTWFwIH0gPSB0cmVlTWF0ZTtcbiAgICBsZXQgZXh0ZW5kZWRDaGVja2VkS2V5U2V0O1xuICAgIGlmIChrZXlzVG9VbmNoZWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXh0ZW5kZWRDaGVja2VkS2V5U2V0ID0gZ2V0RXh0ZW5kZWRDaGVja2VkS2V5U2V0QWZ0ZXJVbmNoZWNrKGtleXNUb1VuY2hlY2ssIGNoZWNrZWRLZXlzLCB0cmVlTWF0ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGtleXNUb0NoZWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXh0ZW5kZWRDaGVja2VkS2V5U2V0ID0gZ2V0RXh0ZW5kZWRDaGVja2VkS2V5U2V0QWZ0ZXJDaGVjayhrZXlzVG9DaGVjaywgY2hlY2tlZEtleXMsIHRyZWVNYXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4dGVuZGVkQ2hlY2tlZEtleVNldCA9IGdldEV4dGVuZGVkQ2hlY2tlZEtleVNldChjaGVja2VkS2V5cywgdHJlZU1hdGUpO1xuICAgIH1cbiAgICBjb25zdCBjaGVja1N0cmF0ZWd5SXNQYXJlbnQgPSBjaGVja1N0cmF0ZWd5ID09PSAncGFyZW50JztcbiAgICBjb25zdCBjaGVja1N0cmF0ZWd5SXNDaGlsZCA9IGNoZWNrU3RyYXRlZ3kgPT09ICdjaGlsZCcgfHwgbGVhZk9ubHk7XG4gICAgY29uc3Qgc3ludGhldGljQ2hlY2tlZEtleVNldCA9IGV4dGVuZGVkQ2hlY2tlZEtleVNldDtcbiAgICBjb25zdCBzeW50aGV0aWNJbmRldGVybWluYXRlS2V5U2V0ID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IG1heExldmVsID0gTWF0aC5tYXguYXBwbHkobnVsbCwgQXJyYXkuZnJvbShsZXZlbFRyZWVOb2RlTWFwLmtleXMoKSkpO1xuICAgIC8vIGNhc2NhZGUgY2hlY2tcbiAgICAvLyAxLiBpZiB0cmVlIGlzIGZ1bGx5IGxvYWRlZCwgaXQganVzdCB3b3Jrc1xuICAgIC8vIDIuIGlmIHRoZSB0cmVlIGlzIG5vdCBmdWxseSBsb2FkZWQsIHdlIGFzc3VtZSB0aGF0IGtleXMgd2hpY2ggaXMgaW4gbm90XG4gICAgLy8gICAgbG9hZGVkIHRyZWUgYXJlIG5vdCBpbiBjaGVja2VkIGtleXNcbiAgICAvLyAgICBmb3IgZXhhbXBsZTpcbiAgICAvLyAgICBhIC0tIGIoZnVsbHktbG9hZGVkKSAgIC0tIGMoZnVsbHktbG9hZGVkKVxuICAgIC8vICAgICAgfC0gZChwYXJ0aWFsLWxvYWRlZCkgLS0gP2Uobm90LWxvYWRlZClcbiAgICAvLyAgICBpbiB0aGUgY2FzZSwgYGVgIGlzIGFzc3VtZWQgbm90IHRvIGJlIGNoZWNrZWQsIG5vciB3ZSBjYW4ndCBjYWxjIGBkYCdzXG4gICAgLy8gICAgYW5kIGBhYCdzIHN0YXR1c1xuICAgIGZvciAobGV0IGxldmVsID0gbWF4TGV2ZWw7IGxldmVsID49IDA7IGxldmVsIC09IDEpIHtcbiAgICAgICAgY29uc3QgbGV2ZWxJc1plcm8gPSBsZXZlbCA9PT0gMDtcbiAgICAgICAgLy8gaXQgc2hvdWxkIGV4aXN0cywgbm9yIGl0IGlzIGEgYnVnXG4gICAgICAgIGNvbnN0IGxldmVsVHJlZU5vZGVzID0gbGV2ZWxUcmVlTm9kZU1hcC5nZXQobGV2ZWwpO1xuICAgICAgICBmb3IgKGNvbnN0IGxldmVsVHJlZU5vZGUgb2YgbGV2ZWxUcmVlTm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChsZXZlbFRyZWVOb2RlLmlzTGVhZilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5OiBsZXZlbFRyZWVOb2RlS2V5LCBzaGFsbG93TG9hZGVkIH0gPSBsZXZlbFRyZWVOb2RlO1xuICAgICAgICAgICAgaWYgKGNoZWNrU3RyYXRlZ3lJc0NoaWxkICYmIHNoYWxsb3dMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgICAgIGxldmVsVHJlZU5vZGUuY2hpbGRyZW4uZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXYuZGlzYWJsZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF2LmlzTGVhZiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdi5zaGFsbG93TG9hZGVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzeW50aGV0aWNDaGVja2VkS2V5U2V0Lmhhcyh2LmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bnRoZXRpY0NoZWNrZWRLZXlTZXQuZGVsZXRlKHYua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxldmVsVHJlZU5vZGUuZGlzYWJsZWQgfHwgIXNoYWxsb3dMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmdWxseUNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IHBhcnRpYWxDaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgYWxsRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gaXQgaXMgc2hhbGxvdyBsb2FkZWQsIHNvIGBjaGlsZHJlbmAgbXVzdCBleGlzdFxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZE5vZGUgb2YgbGV2ZWxUcmVlTm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkS2V5ID0gY2hpbGROb2RlLmtleTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlLmRpc2FibGVkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoYWxsRGlzYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgIGFsbERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHN5bnRoZXRpY0NoZWNrZWRLZXlTZXQuaGFzKGNoaWxkS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsQ2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN5bnRoZXRpY0luZGV0ZXJtaW5hdGVLZXlTZXQuaGFzKGNoaWxkS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsQ2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGx5Q2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGx5Q2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFydGlhbENoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZ1bGx5Q2hlY2tlZCAmJiAhYWxsRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tTdHJhdGVneUlzUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAgICAgICAgIGxldmVsVHJlZU5vZGUuY2hpbGRyZW4uZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2LmRpc2FibGVkICYmIHN5bnRoZXRpY0NoZWNrZWRLZXlTZXQuaGFzKHYua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bnRoZXRpY0NoZWNrZWRLZXlTZXQuZGVsZXRlKHYua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN5bnRoZXRpY0NoZWNrZWRLZXlTZXQuYWRkKGxldmVsVHJlZU5vZGVLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFydGlhbENoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBzeW50aGV0aWNJbmRldGVybWluYXRlS2V5U2V0LmFkZChsZXZlbFRyZWVOb2RlS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZXZlbElzWmVybyAmJlxuICAgICAgICAgICAgICAgIGNoZWNrU3RyYXRlZ3lJc0NoaWxkICYmXG4gICAgICAgICAgICAgICAgc3ludGhldGljQ2hlY2tlZEtleVNldC5oYXMobGV2ZWxUcmVlTm9kZUtleSkpIHtcbiAgICAgICAgICAgICAgICBzeW50aGV0aWNDaGVja2VkS2V5U2V0LmRlbGV0ZShsZXZlbFRyZWVOb2RlS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjaGVja2VkS2V5czogQXJyYXkuZnJvbShzeW50aGV0aWNDaGVja2VkS2V5U2V0KSxcbiAgICAgICAgaW5kZXRlcm1pbmF0ZUtleXM6IEFycmF5LmZyb20oc3ludGhldGljSW5kZXRlcm1pbmF0ZUtleVNldClcbiAgICB9O1xufVxuLy8gdW5jaGVja2luZyBpcyBzYWZlIHdoZW4gZG9pbmcgY2FzY2FkZSB1bmNoZWNrIGluIGFzeW5jIG1vZGVcbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlbmRlZENoZWNrZWRLZXlTZXQoY2hlY2tlZEtleXMsIHRyZWVNYXRlLCBpc1VuY2hlY2tpbmcgPSBmYWxzZSkge1xuICAgIGNvbnN0IHsgdHJlZU5vZGVNYXAsIGdldENoaWxkcmVuIH0gPSB0cmVlTWF0ZTtcbiAgICBjb25zdCB2aXNpdGVkS2V5U2V0ID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IGV4dGVuZGVkS2V5U2V0ID0gbmV3IFNldChjaGVja2VkS2V5cyk7XG4gICAgY2hlY2tlZEtleXMuZm9yRWFjaCgoY2hlY2tlZEtleSkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2VkVHJlZU5vZGUgPSB0cmVlTm9kZU1hcC5nZXQoY2hlY2tlZEtleSk7XG4gICAgICAgIGlmIChjaGVja2VkVHJlZU5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdHJhdmVyc2VXaXRoQ2IoY2hlY2tlZFRyZWVOb2RlLCAodHJlZU5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHJlZU5vZGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRSQVZFUlNFX0NPTU1BTkQuU1RPUDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBrZXkgfSA9IHRyZWVOb2RlO1xuICAgICAgICAgICAgICAgIGlmICh2aXNpdGVkS2V5U2V0LmhhcyhrZXkpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdmlzaXRlZEtleVNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAvLyBBZGRpbmcga2V5cyBiZWZvcmUgbG9hZGVkIGNoZWNrIGlzIG9rYXksIHNpbmNlIGlmIG5vdCB2YWxpZCBlcnJvclxuICAgICAgICAgICAgICAgIC8vIHdvdWxkIGJlIHRocm93blxuICAgICAgICAgICAgICAgIGV4dGVuZGVkS2V5U2V0LmFkZChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChpc0V4cGlsaWNpdGx5Tm90TG9hZGVkKHRyZWVOb2RlLnJhd05vZGUsIGdldENoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNVbmNoZWNraW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVFJBVkVSU0VfQ09NTUFORC5TVE9QO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN1YnRyZWVOb3RMb2FkZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZXh0ZW5kZWRLZXlTZXQ7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY29udGFpbnMocGFyZW50LCBjaGlsZCkge1xuICAgIGNvbnN0IHBhcmVudEtleSA9IHBhcmVudC5rZXk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkLmtleSA9PT0gcGFyZW50S2V5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNoaWxkID0gY2hpbGQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCJpbXBvcnQgeyBnZXRDaGVja2VkS2V5cyB9IGZyb20gJy4vY2hlY2snO1xuaW1wb3J0IHsgdG9BcnJheSwgaXNEaXNhYmxlZCwgaXNMZWFmLCBpc0dyb3VwLCBpc05vZGVJbnZhbGlkLCB1bndyYXBDaGVja2VkS2V5cywgaXNTaGFsbG93TG9hZGVkLCB1bndyYXBJbmRldGVybWluYXRlS2V5cywgZ2V0Tm9uTGVhZktleXMsIGlzSWdub3JlZCwgZGVmYXVsdEdldENoaWxkcmVuLCBkZWZhdWx0R2V0S2V5IH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBnZXRQYXRoIH0gZnJvbSAnLi9wYXRoJztcbmltcG9ydCB7IG1vdmVNZXRob2RzLCBnZXRGaXJzdEF2YWlsYWJsZU5vZGUgfSBmcm9tICcuL21vdmUnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vZmxhdHRlbic7XG5pbXBvcnQgeyBjb250YWlucyB9IGZyb20gJy4vY29udGFpbnMnO1xuZnVuY3Rpb24gY3JlYXRlVHJlZU5vZGVzKHJhd05vZGVzLCB0cmVlTm9kZU1hcCwgbGV2ZWxUcmVlTm9kZU1hcCwgbm9kZVByb3RvLCBnZXRDaGlsZHJlbiwgcGFyZW50ID0gbnVsbCwgbGV2ZWwgPSAwKSB7XG4gICAgY29uc3QgdHJlZU5vZGVzID0gW107XG4gICAgcmF3Tm9kZXMuZm9yRWFjaCgocmF3Tm9kZSwgaW5kZXgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICAgICAgaXNOb2RlSW52YWxpZChyYXdOb2RlLCBnZXRDaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t0cmVlbWF0ZV06IG5vZGUnLCByYXdOb2RlLCAnaXMgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyZWVOb2RlID0gT2JqZWN0LmNyZWF0ZShub2RlUHJvdG8pO1xuICAgICAgICB0cmVlTm9kZS5yYXdOb2RlID0gcmF3Tm9kZTtcbiAgICAgICAgdHJlZU5vZGUuc2libGluZ3MgPSB0cmVlTm9kZXM7XG4gICAgICAgIHRyZWVOb2RlLmxldmVsID0gbGV2ZWw7XG4gICAgICAgIHRyZWVOb2RlLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRyZWVOb2RlLmlzRmlyc3RDaGlsZCA9IGluZGV4ID09PSAwO1xuICAgICAgICB0cmVlTm9kZS5pc0xhc3RDaGlsZCA9IGluZGV4ICsgMSA9PT0gcmF3Tm9kZXMubGVuZ3RoO1xuICAgICAgICB0cmVlTm9kZS5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIGlmICghdHJlZU5vZGUuaWdub3JlZCkge1xuICAgICAgICAgICAgY29uc3QgcmF3Q2hpbGRyZW4gPSBnZXRDaGlsZHJlbihyYXdOb2RlKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJhd0NoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIHRyZWVOb2RlLmNoaWxkcmVuID0gY3JlYXRlVHJlZU5vZGVzKHJhd0NoaWxkcmVuLCB0cmVlTm9kZU1hcCwgbGV2ZWxUcmVlTm9kZU1hcCwgbm9kZVByb3RvLCBnZXRDaGlsZHJlbiwgdHJlZU5vZGUsIGxldmVsICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJlZU5vZGVzLnB1c2godHJlZU5vZGUpO1xuICAgICAgICB0cmVlTm9kZU1hcC5zZXQodHJlZU5vZGUua2V5LCB0cmVlTm9kZSk7XG4gICAgICAgIGlmICghbGV2ZWxUcmVlTm9kZU1hcC5oYXMobGV2ZWwpKVxuICAgICAgICAgICAgbGV2ZWxUcmVlTm9kZU1hcC5zZXQobGV2ZWwsIFtdKTtcbiAgICAgICAgKF9hID0gbGV2ZWxUcmVlTm9kZU1hcC5nZXQobGV2ZWwpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaCh0cmVlTm9kZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyZWVOb2Rlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmVlTWF0ZShyYXdOb2Rlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHRyZWVOb2RlTWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGxldmVsVHJlZU5vZGVNYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgeyBnZXREaXNhYmxlZCA9IGlzRGlzYWJsZWQsIGdldElnbm9yZWQgPSBpc0lnbm9yZWQsIGdldElzR3JvdXAgPSBpc0dyb3VwLCBnZXRLZXkgPSBkZWZhdWx0R2V0S2V5IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IF9nZXRDaGlsZHJlbiA9IChfYSA9IG9wdGlvbnMuZ2V0Q2hpbGRyZW4pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRHZXRDaGlsZHJlbjtcbiAgICBjb25zdCBnZXRDaGlsZHJlbiA9IG9wdGlvbnMuaWdub3JlRW1wdHlDaGlsZHJlblxuICAgICAgICA/IChub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IF9nZXRDaGlsZHJlbihub2RlKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgOiBfZ2V0Q2hpbGRyZW47XG4gICAgY29uc3Qgbm9kZVByb3RvID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGdldCBrZXkoKSB7XG4gICAgICAgICAgICAvLyBkbyBub3QgcGFzcyBwYXJlbnQgb3IgcmVsYXRlZCB0aGluZ3MgdG8gaXRcbiAgICAgICAgICAgIC8vIHRoZSBrZXkgbmVlZCB0byBiZSBzcGVjaWZpZWQgZXhwbGljaXRseVxuICAgICAgICAgICAgcmV0dXJuIGdldEtleSh0aGlzLnJhd05vZGUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RGlzYWJsZWQodGhpcy5yYXdOb2RlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGlzR3JvdXAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0SXNHcm91cCh0aGlzLnJhd05vZGUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaXNMZWFmKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTGVhZih0aGlzLnJhd05vZGUsIGdldENoaWxkcmVuKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNoYWxsb3dMb2FkZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNTaGFsbG93TG9hZGVkKHRoaXMucmF3Tm9kZSwgZ2V0Q2hpbGRyZW4pO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaWdub3JlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRJZ25vcmVkKHRoaXMucmF3Tm9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRhaW5zKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250YWlucyh0aGlzLCBub2RlKTtcbiAgICAgICAgfVxuICAgIH0sIG1vdmVNZXRob2RzKTtcbiAgICBjb25zdCB0cmVlTm9kZXMgPSBjcmVhdGVUcmVlTm9kZXMocmF3Tm9kZXMsIHRyZWVOb2RlTWFwLCBsZXZlbFRyZWVOb2RlTWFwLCBub2RlUHJvdG8sIGdldENoaWxkcmVuKTtcbiAgICBmdW5jdGlvbiBnZXROb2RlKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHRtTm9kZSA9IHRyZWVOb2RlTWFwLmdldChrZXkpO1xuICAgICAgICBpZiAodG1Ob2RlICYmICF0bU5vZGUuaXNHcm91cCAmJiAhdG1Ob2RlLmlnbm9yZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0bU5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9nZXROb2RlKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHRtTm9kZSA9IHRyZWVOb2RlTWFwLmdldChrZXkpO1xuICAgICAgICBpZiAodG1Ob2RlICYmICF0bU5vZGUuaWdub3JlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRtTm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UHJldihrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IF9nZXROb2RlKGtleSk7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbm9kZS5nZXRQcmV2KG9wdGlvbnMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZXh0KGtleSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBub2RlID0gX2dldE5vZGUoa2V5KTtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBub2RlLmdldE5leHQob3B0aW9ucyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBhcmVudChrZXkpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IF9nZXROb2RlKGtleSk7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbm9kZS5nZXRQYXJlbnQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2hpbGQoa2V5KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBfZ2V0Tm9kZShrZXkpO1xuICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIG5vZGUuZ2V0Q2hpbGQoKTtcbiAgICB9XG4gICAgY29uc3QgdHJlZW1hdGUgPSB7XG4gICAgICAgIHRyZWVOb2RlcyxcbiAgICAgICAgdHJlZU5vZGVNYXAsXG4gICAgICAgIGxldmVsVHJlZU5vZGVNYXAsXG4gICAgICAgIG1heExldmVsOiBNYXRoLm1heCguLi5sZXZlbFRyZWVOb2RlTWFwLmtleXMoKSksXG4gICAgICAgIGdldENoaWxkcmVuLFxuICAgICAgICBnZXRGbGF0dGVuZWROb2RlcyhleHBhbmRlZEtleXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmbGF0dGVuKHRyZWVOb2RlcywgZXhwYW5kZWRLZXlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Tm9kZSxcbiAgICAgICAgZ2V0UHJldixcbiAgICAgICAgZ2V0TmV4dCxcbiAgICAgICAgZ2V0UGFyZW50LFxuICAgICAgICBnZXRDaGlsZCxcbiAgICAgICAgZ2V0Rmlyc3RBdmFpbGFibGVOb2RlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0QXZhaWxhYmxlTm9kZSh0cmVlTm9kZXMpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRQYXRoKGtleSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UGF0aChrZXksIG9wdGlvbnMsIHRyZWVtYXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q2hlY2tlZEtleXMoY2hlY2tlZEtleXMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgY29uc3QgeyBjYXNjYWRlID0gdHJ1ZSwgbGVhZk9ubHkgPSBmYWxzZSwgY2hlY2tTdHJhdGVneSA9ICdhbGwnIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGdldENoZWNrZWRLZXlzKHtcbiAgICAgICAgICAgICAgICBjaGVja2VkS2V5czogdW53cmFwQ2hlY2tlZEtleXMoY2hlY2tlZEtleXMpLFxuICAgICAgICAgICAgICAgIGluZGV0ZXJtaW5hdGVLZXlzOiB1bndyYXBJbmRldGVybWluYXRlS2V5cyhjaGVja2VkS2V5cyksXG4gICAgICAgICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICAgICAgICBsZWFmT25seSxcbiAgICAgICAgICAgICAgICBjaGVja1N0cmF0ZWd5XG4gICAgICAgICAgICB9LCB0cmVlbWF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrKGtleXNUb0NoZWNrLCBjaGVja2VkS2V5cywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICBjb25zdCB7IGNhc2NhZGUgPSB0cnVlLCBsZWFmT25seSA9IGZhbHNlLCBjaGVja1N0cmF0ZWd5ID0gJ2FsbCcgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q2hlY2tlZEtleXMoe1xuICAgICAgICAgICAgICAgIGNoZWNrZWRLZXlzOiB1bndyYXBDaGVja2VkS2V5cyhjaGVja2VkS2V5cyksXG4gICAgICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZUtleXM6IHVud3JhcEluZGV0ZXJtaW5hdGVLZXlzKGNoZWNrZWRLZXlzKSxcbiAgICAgICAgICAgICAgICBrZXlzVG9DaGVjazoga2V5c1RvQ2hlY2sgPT09IHVuZGVmaW5lZCB8fCBrZXlzVG9DaGVjayA9PT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IFtdXG4gICAgICAgICAgICAgICAgICAgIDogdG9BcnJheShrZXlzVG9DaGVjayksXG4gICAgICAgICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICAgICAgICBsZWFmT25seSxcbiAgICAgICAgICAgICAgICBjaGVja1N0cmF0ZWd5XG4gICAgICAgICAgICB9LCB0cmVlbWF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVuY2hlY2soa2V5c1RvVW5jaGVjaywgY2hlY2tlZEtleXMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgY29uc3QgeyBjYXNjYWRlID0gdHJ1ZSwgbGVhZk9ubHkgPSBmYWxzZSwgY2hlY2tTdHJhdGVneSA9ICdhbGwnIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGdldENoZWNrZWRLZXlzKHtcbiAgICAgICAgICAgICAgICBjaGVja2VkS2V5czogdW53cmFwQ2hlY2tlZEtleXMoY2hlY2tlZEtleXMpLFxuICAgICAgICAgICAgICAgIGluZGV0ZXJtaW5hdGVLZXlzOiB1bndyYXBJbmRldGVybWluYXRlS2V5cyhjaGVja2VkS2V5cyksXG4gICAgICAgICAgICAgICAga2V5c1RvVW5jaGVjazoga2V5c1RvVW5jaGVjayA9PT0gbnVsbCB8fCBrZXlzVG9VbmNoZWNrID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgICAgICAgICA6IHRvQXJyYXkoa2V5c1RvVW5jaGVjayksXG4gICAgICAgICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICAgICAgICBsZWFmT25seSxcbiAgICAgICAgICAgICAgICBjaGVja1N0cmF0ZWd5XG4gICAgICAgICAgICB9LCB0cmVlbWF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE5vbkxlYWZLZXlzKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldE5vbkxlYWZLZXlzKHRyZWVOb2Rlcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB0cmVlbWF0ZTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuKHRyZWVOb2RlcywgZXhwYW5kZWRLZXlzKSB7XG4gICAgY29uc3QgZXhwYW5kZWRLZXlTZXQgPSBleHBhbmRlZEtleXMgPyBuZXcgU2V0KGV4cGFuZGVkS2V5cykgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgZmxhdHRlbmVkTm9kZXMgPSBbXTtcbiAgICBmdW5jdGlvbiB0cmF2ZXJzZSh0cmVlTm9kZXMpIHtcbiAgICAgICAgdHJlZU5vZGVzLmZvckVhY2goKHRyZWVOb2RlKSA9PiB7XG4gICAgICAgICAgICBmbGF0dGVuZWROb2Rlcy5wdXNoKHRyZWVOb2RlKTtcbiAgICAgICAgICAgIGlmICh0cmVlTm9kZS5pc0xlYWYgfHwgIXRyZWVOb2RlLmNoaWxkcmVuIHx8IHRyZWVOb2RlLmlnbm9yZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHRyZWVOb2RlLmlzR3JvdXApIHtcbiAgICAgICAgICAgICAgICAvLyBncm91cCBub2RlIHNob3VsZG4ndCBiZSBleHBhbmRlZFxuICAgICAgICAgICAgICAgIHRyYXZlcnNlKHRyZWVOb2RlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgLy8gbm9ybWFsIG5vbi1sZWFmIG5vZGVcbiAgICAgICAgICAgIGV4cGFuZGVkS2V5U2V0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICBleHBhbmRlZEtleVNldC5oYXModHJlZU5vZGUua2V5KSkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKHRyZWVOb2RlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyYXZlcnNlKHRyZWVOb2Rlcyk7XG4gICAgcmV0dXJuIGZsYXR0ZW5lZE5vZGVzO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0QXZhaWxhYmxlTm9kZShub2Rlcykge1xuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG5vZGUgPSBub2Rlc1swXTtcbiAgICBpZiAobm9kZS5pc0dyb3VwIHx8IG5vZGUuaWdub3JlZCB8fCBub2RlLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBub2RlLmdldE5leHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG59XG5mdW5jdGlvbiByYXdHZXROZXh0KG5vZGUsIGxvb3ApIHtcbiAgICBjb25zdCBzaWJzID0gbm9kZS5zaWJsaW5ncztcbiAgICBjb25zdCBsID0gc2licy5sZW5ndGg7XG4gICAgY29uc3QgeyBpbmRleCB9ID0gbm9kZTtcbiAgICBpZiAobG9vcCkge1xuICAgICAgICByZXR1cm4gc2lic1soaW5kZXggKyAxKSAlIGxdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSBzaWJzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHNpYnNbaW5kZXggKyAxXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtb3ZlKGZyb21Ob2RlLCBkaXIsIHsgbG9vcCA9IGZhbHNlLCBpbmNsdWRlRGlzYWJsZWQgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBjb25zdCBpdGVyYXRlID0gZGlyID09PSAncHJldicgPyByYXdHZXRQcmV2IDogcmF3R2V0TmV4dDtcbiAgICBjb25zdCBnZXRDaGlsZE9wdGlvbnMgPSB7XG4gICAgICAgIHJldmVyc2U6IGRpciA9PT0gJ3ByZXYnXG4gICAgfTtcbiAgICBsZXQgbWVldCA9IGZhbHNlO1xuICAgIGxldCBlbmROb2RlID0gbnVsbDtcbiAgICBmdW5jdGlvbiB0cmF2ZXJzZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAobm9kZSA9PT0gZnJvbU5vZGUpIHtcbiAgICAgICAgICAgIGlmICghbWVldCkge1xuICAgICAgICAgICAgICAgIG1lZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWZyb21Ob2RlLmRpc2FibGVkICYmICFmcm9tTm9kZS5pc0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgZW5kTm9kZSA9IGZyb21Ob2RlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgoIW5vZGUuZGlzYWJsZWQgfHwgaW5jbHVkZURpc2FibGVkKSAmJlxuICAgICAgICAgICAgICAgICFub2RlLmlnbm9yZWQgJiZcbiAgICAgICAgICAgICAgICAhbm9kZS5pc0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgZW5kTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmlzR3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gZ2V0Q2hpbGQobm9kZSwgZ2V0Q2hpbGRPcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGVuZE5vZGUgPSBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKGl0ZXJhdGUobm9kZSwgbG9vcCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dE5vZGUgPSBpdGVyYXRlKG5vZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChuZXh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKG5leHROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHJhd0dldFBhcmVudChub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmlzR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2UoaXRlcmF0ZShwYXJlbnQsIGxvb3ApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobG9vcCkge1xuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZShpdGVyYXRlKG5vZGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJhdmVyc2UoZnJvbU5vZGUpO1xuICAgIHJldHVybiBlbmROb2RlO1xufVxuZnVuY3Rpb24gcmF3R2V0UHJldihub2RlLCBsb29wKSB7XG4gICAgY29uc3Qgc2licyA9IG5vZGUuc2libGluZ3M7XG4gICAgY29uc3QgbCA9IHNpYnMubGVuZ3RoO1xuICAgIGNvbnN0IHsgaW5kZXggfSA9IG5vZGU7XG4gICAgaWYgKGxvb3ApIHtcbiAgICAgICAgcmV0dXJuIHNpYnNbKGluZGV4IC0gMSArIGwpICUgbF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHNpYnNbaW5kZXggLSAxXTtcbiAgICB9XG59XG5mdW5jdGlvbiByYXdHZXRQYXJlbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnBhcmVudDtcbn1cbmZ1bmN0aW9uIGdldENoaWxkKG5vZGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgcmV2ZXJzZSA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IG5vZGU7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBjaGlsZHJlbjtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSByZXZlcnNlID8gbGVuZ3RoIC0gMSA6IDA7XG4gICAgICAgIGNvbnN0IGVuZCA9IHJldmVyc2UgPyAtMSA6IGxlbmd0aDtcbiAgICAgICAgY29uc3QgZGVsdGEgPSByZXZlcnNlID8gLTEgOiAxO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgIT09IGVuZDsgaSArPSBkZWx0YSkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmICghY2hpbGQuZGlzYWJsZWQgJiYgIWNoaWxkLmlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaXNHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEluR3JvdXAgPSBnZXRDaGlsZChjaGlsZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEluR3JvdXAgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRJbkdyb3VwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBjb25zdCBtb3ZlTWV0aG9kcyA9IHtcbiAgICBnZXRDaGlsZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlZClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gZ2V0Q2hpbGQodGhpcyk7XG4gICAgfSxcbiAgICBnZXRQYXJlbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyZW50IH0gPSB0aGlzO1xuICAgICAgICBpZiAocGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmlzR3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQuZ2V0UGFyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9LFxuICAgIGdldE5leHQob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBtb3ZlKHRoaXMsICduZXh0Jywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRQcmV2KG9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbW92ZSh0aGlzLCAncHJldicsIG9wdGlvbnMpO1xuICAgIH1cbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UGF0aChrZXksIHsgaW5jbHVkZUdyb3VwID0gZmFsc2UsIGluY2x1ZGVTZWxmID0gdHJ1ZSB9LCB0cmVlTWF0ZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB0cmVlTm9kZU1hcCA9IHRyZWVNYXRlLnRyZWVOb2RlTWFwO1xuICAgIGxldCB0cmVlTm9kZSA9IGtleSA9PT0gbnVsbCB8fCBrZXkgPT09IHVuZGVmaW5lZCA/IG51bGwgOiAoX2EgPSB0cmVlTm9kZU1hcC5nZXQoa2V5KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbDtcbiAgICBjb25zdCBtZXJnZWRQYXRoID0ge1xuICAgICAgICBrZXlQYXRoOiBbXSxcbiAgICAgICAgdHJlZU5vZGVQYXRoOiBbXSxcbiAgICAgICAgdHJlZU5vZGU6IHRyZWVOb2RlXG4gICAgfTtcbiAgICBpZiAodHJlZU5vZGUgPT09IG51bGwgfHwgdHJlZU5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRyZWVOb2RlLmlnbm9yZWQpIHtcbiAgICAgICAgbWVyZ2VkUGF0aC50cmVlTm9kZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBtZXJnZWRQYXRoO1xuICAgIH1cbiAgICB3aGlsZSAodHJlZU5vZGUpIHtcbiAgICAgICAgaWYgKCF0cmVlTm9kZS5pZ25vcmVkICYmIChpbmNsdWRlR3JvdXAgfHwgIXRyZWVOb2RlLmlzR3JvdXApKSB7XG4gICAgICAgICAgICBtZXJnZWRQYXRoLnRyZWVOb2RlUGF0aC5wdXNoKHRyZWVOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0cmVlTm9kZSA9IHRyZWVOb2RlLnBhcmVudDtcbiAgICB9XG4gICAgbWVyZ2VkUGF0aC50cmVlTm9kZVBhdGgucmV2ZXJzZSgpO1xuICAgIGlmICghaW5jbHVkZVNlbGYpXG4gICAgICAgIG1lcmdlZFBhdGgudHJlZU5vZGVQYXRoLnBvcCgpO1xuICAgIG1lcmdlZFBhdGgua2V5UGF0aCA9IG1lcmdlZFBhdGgudHJlZU5vZGVQYXRoLm1hcCgodHJlZU5vZGUpID0+IHRyZWVOb2RlLmtleSk7XG4gICAgcmV0dXJuIG1lcmdlZFBhdGg7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gdG9BcnJheShhcmcpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKVxuICAgICAgICByZXR1cm4gYXJnO1xuICAgIHJldHVybiBbYXJnXTtcbn1cbi8vIERvIG5vdCB1c2UgZW51bSBmb3IgbGludCBwbHVnaW4gaGFzIGVycm9yXG5leHBvcnQgY29uc3QgVFJBVkVSU0VfQ09NTUFORCA9IHtcbiAgICBTVE9QOiAnU1RPUCdcbn07XG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VXaXRoQ2IodHJlZU5vZGUsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IGNhbGxiYWNrKHRyZWVOb2RlKTtcbiAgICBpZiAodHJlZU5vZGUuY2hpbGRyZW4gIT09IHVuZGVmaW5lZCAmJiBjb21tYW5kICE9PSBUUkFWRVJTRV9DT01NQU5ELlNUT1ApIHtcbiAgICAgICAgdHJlZU5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGROb2RlKSA9PiB0cmF2ZXJzZVdpdGhDYihjaGlsZE5vZGUsIGNhbGxiYWNrKSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vbkxlYWZLZXlzKHRyZWVOb2Rlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBwcmVzZXJ2ZUdyb3VwID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGNvbnN0IGNiID0gcHJlc2VydmVHcm91cFxuICAgICAgICA/IChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vZGUuaXNMZWFmKSB7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKG5vZGUua2V5KTtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZShub2RlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICA6IChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vZGUuaXNMZWFmKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlLmlzR3JvdXApXG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChub2RlLmtleSk7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2Uobm9kZS5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZXMpIHtcbiAgICAgICAgbm9kZXMuZm9yRWFjaChjYik7XG4gICAgfVxuICAgIHRyYXZlcnNlKHRyZWVOb2Rlcyk7XG4gICAgcmV0dXJuIGtleXM7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNMZWFmKHJhd05vZGUsIGdldENoaWxkcmVuKSB7XG4gICAgY29uc3QgeyBpc0xlYWYgfSA9IHJhd05vZGU7XG4gICAgaWYgKGlzTGVhZiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gaXNMZWFmO1xuICAgIGVsc2UgaWYgKCFnZXRDaGlsZHJlbihyYXdOb2RlKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRHZXRDaGlsZHJlbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuY2hpbGRyZW47XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEdldEtleShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUua2V5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSWdub3JlZCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTaGFsbG93TG9hZGVkKHJhd05vZGUsIGdldENoaWxkcmVuKSB7XG4gICAgY29uc3QgeyBpc0xlYWYgfSA9IHJhd05vZGU7XG4gICAgaWYgKGlzTGVhZiA9PT0gZmFsc2UgJiYgIUFycmF5LmlzQXJyYXkoZ2V0Q2hpbGRyZW4ocmF3Tm9kZSkpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEaXNhYmxlZChyYXdOb2RlKSB7XG4gICAgcmV0dXJuIHJhd05vZGUuZGlzYWJsZWQgPT09IHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFeHBpbGljaXRseU5vdExvYWRlZChyYXdOb2RlLCBnZXRDaGlsZHJlbikge1xuICAgIHJldHVybiAocmF3Tm9kZS5pc0xlYWYgPT09IGZhbHNlICYmICFBcnJheS5pc0FycmF5KGdldENoaWxkcmVuKHJhd05vZGUpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlSW52YWxpZChyYXdOb2RlLCBnZXRDaGlsZHJlbikge1xuICAgIGlmIChyYXdOb2RlLmlzTGVhZiA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGdldENoaWxkcmVuKHJhd05vZGUpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4ubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gdW53cmFwQ2hlY2tlZEtleXMocmVzdWx0KSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCB8fCByZXN1bHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiAoX2EgPSByZXN1bHQuY2hlY2tlZEtleXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcEluZGV0ZXJtaW5hdGVLZXlzKHJlc3VsdCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQgfHwgcmVzdWx0ID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiAoX2EgPSByZXN1bHQuaW5kZXRlcm1pbmF0ZUtleXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKG9yaWdpbmFsS2V5cywga2V5c1RvQWRkKSB7XG4gICAgY29uc3Qgc2V0ID0gbmV3IFNldChvcmlnaW5hbEtleXMpO1xuICAgIGtleXNUb0FkZC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKCFzZXQuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHNldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWludXMob3JpZ2luYWxLZXlzLCBrZXlzVG9SZW1vdmUpIHtcbiAgICBjb25zdCBzZXQgPSBuZXcgU2V0KG9yaWdpbmFsS2V5cyk7XG4gICAga2V5c1RvUmVtb3ZlLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoc2V0LmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBzZXQuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShzZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzR3JvdXAocmF3Tm9kZSkge1xuICAgIHJldHVybiAocmF3Tm9kZSA9PT0gbnVsbCB8fCByYXdOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByYXdOb2RlLnR5cGUpID09PSAnZ3JvdXAnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZGV4R2V0dGVyKHRyZWVOb2Rlcykge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICB0cmVlTm9kZXMuZm9yRWFjaCgodHJlZU5vZGUsIGkpID0+IHtcbiAgICAgICAgbWFwLnNldCh0cmVlTm9kZS5rZXksIGkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoa2V5KSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IG1hcC5nZXQoa2V5KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbDsgfTtcbn1cbiIsImltcG9ydCB7IG9uLCBvZmYgfSBmcm9tICdldnRkJztcbmNvbnN0IGN0eEtleSA9ICdAQG1tb0NvbnRleHQnO1xuY29uc3QgbW91c2Vtb3Zlb3V0c2lkZSA9IHtcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICAgICAgZWxbY3R4S2V5XSA9IHtcbiAgICAgICAgICAgIGhhbmRsZXI6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBlbFtjdHhLZXldLmhhbmRsZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIG9uKCdtb3VzZW1vdmVvdXRzaWRlJywgZWwsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IGVsW2N0eEtleV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChjdHguaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGlmIChjdHguaGFuZGxlciAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2ZmKCdtb3VzZW1vdmVvdXRzaWRlJywgZWwsIGN0eC5oYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmhhbmRsZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgb24oJ21vdXNlbW92ZW91dHNpZGUnLCBlbCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsW2N0eEtleV0uaGFuZGxlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIG9uKCdtb3VzZW1vdmVvdXRzaWRlJywgZWwsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjdHguaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIG9mZignbW91c2Vtb3Zlb3V0c2lkZScsIGVsLCBjdHguaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgY3R4LmhhbmRsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVubW91bnRlZChlbCkge1xuICAgICAgICBjb25zdCB7IGhhbmRsZXIgfSA9IGVsW2N0eEtleV07XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICBvZmYoJ21vdXNlbW92ZW91dHNpZGUnLCBlbCwgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxbY3R4S2V5XS5oYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCBtb3VzZW1vdmVvdXRzaWRlO1xuIiwiaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tICd2dWUnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlQ29tcGl0YWJsZShyZWFjdGl2ZSwga2V5cykge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICBpZiAocmVhY3RpdmVba2V5XSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiByZWFjdGl2ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWFjdGl2ZVtrZXlzW2tleXMubGVuZ3RoIC0gMV1dO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50LCByZWYsIEZyYWdtZW50LCBvbk1vdW50ZWQsIG9uQmVmb3JlVW5tb3VudCwgd2F0Y2ggfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgY3JlYXRlSWQgfSBmcm9tICdzZWVtbHknO1xuaW1wb3J0IHsgb24sIG9mZiB9IGZyb20gJ2V2dGQnO1xuaW1wb3J0IHsgZm9jdXNGaXJzdERlc2NlbmRhbnQsIGZvY3VzTGFzdERlc2NlbmRhbnQgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IHJlc29sdmVUbyB9IGZyb20gJy4uLy4uL3NoYXJlZCc7XG5sZXQgc3RhY2sgPSBbXTtcbmV4cG9ydCBjb25zdCBGb2N1c1RyYXAgPSBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdGb2N1c1RyYXAnLFxuICAgIHByb3BzOiB7XG4gICAgICAgIGRpc2FibGVkOiBCb29sZWFuLFxuICAgICAgICBhY3RpdmU6IEJvb2xlYW4sXG4gICAgICAgIGF1dG9Gb2N1czoge1xuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb25Fc2M6IEZ1bmN0aW9uLFxuICAgICAgICBpbml0aWFsRm9jdXNUbzogU3RyaW5nLFxuICAgICAgICBmaW5hbEZvY3VzVG86IFN0cmluZyxcbiAgICAgICAgcmV0dXJuRm9jdXNPbkRlYWN0aXZhdGVkOiB7XG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXR1cChwcm9wcykge1xuICAgICAgICBjb25zdCBpZCA9IGNyZWF0ZUlkKCk7XG4gICAgICAgIGNvbnN0IGZvY3VzYWJsZVN0YXJ0UmVmID0gcmVmKG51bGwpO1xuICAgICAgICBjb25zdCBmb2N1c2FibGVFbmRSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGxldCBhY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGlnbm9yZUludGVybmFsRm9jdXNDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbGFzdEZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgZnVuY3Rpb24gaXNDdXJyZW50QWN0aXZlKCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEFjdGl2ZUlkID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEFjdGl2ZUlkID09PSBpZDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVEb2N1bWVudEtleWRvd24oZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNDdXJyZW50QWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gcHJvcHMub25Fc2MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgICAgICAgIHdhdGNoKCgpID0+IHByb3BzLmFjdGl2ZSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG9uKCdrZXlkb3duJywgZG9jdW1lbnQsIGhhbmRsZURvY3VtZW50S2V5ZG93bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvZmYoJ2tleWRvd24nLCBkb2N1bWVudCwgaGFuZGxlRG9jdW1lbnRLZXlkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgICAgICAgICAgb2ZmKCdrZXlkb3duJywgZG9jdW1lbnQsIGhhbmRsZURvY3VtZW50S2V5ZG93bik7XG4gICAgICAgICAgICBpZiAoYWN0aXZhdGVkKVxuICAgICAgICAgICAgICAgIGRlYWN0aXZhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZURvY3VtZW50Rm9jdXMoZSkge1xuICAgICAgICAgICAgaWYgKGlnbm9yZUludGVybmFsRm9jdXNDaGFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGlzQ3VycmVudEFjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFpbkVsID0gZ2V0TWFpbkVsKCk7XG4gICAgICAgICAgICAgICAgaWYgKG1haW5FbCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChtYWluRWwuY29udGFpbnMoZS50YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgLy8gSSBkb24ndCBoYW5kbGUgc2hpZnQgKyB0YWIgc3RhdHVzIHNpbmNlIGl0J3MgdG9vIHRyaWNreSB0byBoYW5kbGVcbiAgICAgICAgICAgICAgICAvLyBOb3QgaW1wb3NzaWJsZSBidXQgSSBuZWVkIHRvIHNsZWVwXG4gICAgICAgICAgICAgICAgcmVzZXRGb2N1c1RvKCdmaXJzdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldE1haW5FbCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvY3VzYWJsZVN0YXJ0RWwgPSBmb2N1c2FibGVTdGFydFJlZi52YWx1ZTtcbiAgICAgICAgICAgIGlmIChmb2N1c2FibGVTdGFydEVsID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IG1haW5FbCA9IGZvY3VzYWJsZVN0YXJ0RWw7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIG1haW5FbCA9IG1haW5FbC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBpZiAobWFpbkVsID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAobWFpbkVsIGluc3RhbmNlb2YgRWxlbWVudCAmJiBtYWluRWwudGFnTmFtZSA9PT0gJ0RJVicpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1haW5FbDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChwcm9wcy5kaXNhYmxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzdGFjay5wdXNoKGlkKTtcbiAgICAgICAgICAgIGlmIChwcm9wcy5hdXRvRm9jdXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGluaXRpYWxGb2N1c1RvIH0gPSBwcm9wcztcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbEZvY3VzVG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXNldEZvY3VzVG8oJ2ZpcnN0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSByZXNvbHZlVG8oaW5pdGlhbEZvY3VzVG8pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVEb2N1bWVudEZvY3VzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkZWFjdGl2YXRlKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHByb3BzLmRpc2FibGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlRG9jdW1lbnRGb2N1cywgdHJ1ZSk7XG4gICAgICAgICAgICBzdGFjayA9IHN0YWNrLmZpbHRlcigoaWRJblN0YWNrKSA9PiBpZEluU3RhY2sgIT09IGlkKTtcbiAgICAgICAgICAgIGlmIChpc0N1cnJlbnRBY3RpdmUoKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IGZpbmFsRm9jdXNUbyB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAoZmluYWxGb2N1c1RvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAoX2EgPSByZXNvbHZlVG8oZmluYWxGb2N1c1RvKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9wcy5yZXR1cm5Gb2N1c09uRGVhY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEZvY3VzZWRFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWdub3JlSW50ZXJuYWxGb2N1c0NoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RGb2N1c2VkRWxlbWVudC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZUludGVybmFsRm9jdXNDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVzZXRGb2N1c1RvKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKCFpc0N1cnJlbnRBY3RpdmUoKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAocHJvcHMuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9jdXNhYmxlU3RhcnRFbCA9IGZvY3VzYWJsZVN0YXJ0UmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvY3VzYWJsZUVuZEVsID0gZm9jdXNhYmxlRW5kUmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChmb2N1c2FibGVTdGFydEVsICE9PSBudWxsICYmIGZvY3VzYWJsZUVuZEVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1haW5FbCA9IGdldE1haW5FbCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFpbkVsID09IG51bGwgfHwgbWFpbkVsID09PSBmb2N1c2FibGVFbmRFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlSW50ZXJuYWxGb2N1c0NoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c2FibGVTdGFydEVsLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZUludGVybmFsRm9jdXNDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZ25vcmVJbnRlcm5hbEZvY3VzQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9jdXNlZCA9IHRhcmdldCA9PT0gJ2ZpcnN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBmb2N1c0ZpcnN0RGVzY2VuZGFudChtYWluRWwpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGZvY3VzTGFzdERlc2NlbmRhbnQobWFpbkVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWdub3JlSW50ZXJuYWxGb2N1c0NoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZUludGVybmFsRm9jdXNDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNhYmxlU3RhcnRFbC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVJbnRlcm5hbEZvY3VzQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlU3RhcnRGb2N1cyhlKSB7XG4gICAgICAgICAgICBpZiAoaWdub3JlSW50ZXJuYWxGb2N1c0NoYW5nZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBtYWluRWwgPSBnZXRNYWluRWwoKTtcbiAgICAgICAgICAgIGlmIChtYWluRWwgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGUucmVsYXRlZFRhcmdldCAhPT0gbnVsbCAmJiBtYWluRWwuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGl0IGNvbWVzIGZyb20gaW5uZXIsIGZvY3VzIGxhc3RcbiAgICAgICAgICAgICAgICByZXNldEZvY3VzVG8oJ2xhc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBmb2N1cyBmaXJzdFxuICAgICAgICAgICAgICAgIHJlc2V0Rm9jdXNUbygnZmlyc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVFbmRGb2N1cyhlKSB7XG4gICAgICAgICAgICBpZiAoaWdub3JlSW50ZXJuYWxGb2N1c0NoYW5nZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoZS5yZWxhdGVkVGFyZ2V0ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgZS5yZWxhdGVkVGFyZ2V0ID09PSBmb2N1c2FibGVTdGFydFJlZi52YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGl0IGNvbWVzIGZyb20gZmlyc3QsIGZvY3VzIGxhc3RcbiAgICAgICAgICAgICAgICByZXNldEZvY3VzVG8oJ2xhc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBmb2N1cyBmaXJzdFxuICAgICAgICAgICAgICAgIHJlc2V0Rm9jdXNUbygnZmlyc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9jdXNhYmxlU3RhcnRSZWYsXG4gICAgICAgICAgICBmb2N1c2FibGVFbmRSZWYsXG4gICAgICAgICAgICBmb2N1c2FibGVTdHlsZTogJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgaGVpZ2h0OiAwOyB3aWR0aDogMDsnLFxuICAgICAgICAgICAgaGFuZGxlU3RhcnRGb2N1cyxcbiAgICAgICAgICAgIGhhbmRsZUVuZEZvY3VzXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgZGVmYXVsdDogZGVmYXVsdFNsb3QgfSA9IHRoaXMuJHNsb3RzO1xuICAgICAgICBpZiAoZGVmYXVsdFNsb3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0U2xvdCgpO1xuICAgICAgICBjb25zdCB7IGFjdGl2ZSwgZm9jdXNhYmxlU3R5bGUgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBoKEZyYWdtZW50LCBudWxsLCBbXG4gICAgICAgICAgICBoKCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICAgICAgICAgICAgICAgIHRhYmluZGV4OiBhY3RpdmUgPyAnMCcgOiAnLTEnLFxuICAgICAgICAgICAgICAgIHJlZjogJ2ZvY3VzYWJsZVN0YXJ0UmVmJyxcbiAgICAgICAgICAgICAgICBzdHlsZTogZm9jdXNhYmxlU3R5bGUsXG4gICAgICAgICAgICAgICAgb25Gb2N1czogdGhpcy5oYW5kbGVTdGFydEZvY3VzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGRlZmF1bHRTbG90KCksXG4gICAgICAgICAgICBoKCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICAgICAgICAgICAgICAgIHN0eWxlOiBmb2N1c2FibGVTdHlsZSxcbiAgICAgICAgICAgICAgICByZWY6ICdmb2N1c2FibGVFbmRSZWYnLFxuICAgICAgICAgICAgICAgIHRhYmluZGV4OiBhY3RpdmUgPyAnMCcgOiAnLTEnLFxuICAgICAgICAgICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRW5kRm9jdXNcbiAgICAgICAgICAgIH0pXG4gICAgICAgIF0pO1xuICAgIH1cbn0pO1xuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L3N0cmljdC1ib29sZWFuLWV4cHJlc3Npb25zICovXG4vLyByZWYgaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLXByYWN0aWNlcy0xLjEvZXhhbXBsZXMvZGlhbG9nLW1vZGFsL2pzL2RpYWxvZy5qc1xuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb2N1c0ZpcnN0RGVzY2VuZGFudChub2RlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlLmNoaWxkTm9kZXNbaV07XG4gICAgICAgIGlmIChpc0hUTUxFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgaWYgKGF0dGVtcHRGb2N1cyhjaGlsZCkgfHwgZm9jdXNGaXJzdERlc2NlbmRhbnQoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzTGFzdERlc2NlbmRhbnQoZWxlbWVudCkge1xuICAgIGZvciAobGV0IGkgPSBlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBlbGVtZW50LmNoaWxkTm9kZXNbaV07XG4gICAgICAgIGlmIChpc0hUTUxFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgaWYgKGF0dGVtcHRGb2N1cyhjaGlsZCkgfHwgZm9jdXNMYXN0RGVzY2VuZGFudChjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBhdHRlbXB0Rm9jdXMoZWxlbWVudCkge1xuICAgIGlmICghaXNGb2N1c2FibGUoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7IH1cbiAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzRm9jdXNhYmxlKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC50YWJJbmRleCA+IDAgfHxcbiAgICAgICAgKGVsZW1lbnQudGFiSW5kZXggPT09IDAgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JykgIT09IG51bGwpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzd2l0Y2ggKGVsZW1lbnQubm9kZU5hbWUpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgICByZXR1cm4gKCEhZWxlbWVudC5ocmVmICYmXG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZWwgIT09ICdpZ25vcmUnKTtcbiAgICAgICAgY2FzZSAnSU5QVVQnOlxuICAgICAgICAgICAgcmV0dXJuIChlbGVtZW50LnR5cGUgIT09ICdoaWRkZW4nICYmXG4gICAgICAgICAgICAgICAgZWxlbWVudC50eXBlICE9PSAnZmlsZScpO1xuICAgICAgICBjYXNlICdCVVRUT04nOlxuICAgICAgICBjYXNlICdTRUxFQ1QnOlxuICAgICAgICBjYXNlICdURVhUQVJFQSc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvc3RyaWN0LWJvb2xlYW4tZXhwcmVzc2lvbnMgKi9cbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVuZGVyU2xvdCwgaCwgb25Nb3VudGVkLCByZWYsIG5leHRUaWNrIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHVzZVNzckFkYXB0ZXIgfSBmcm9tICdAY3NzLXJlbmRlci92dWUzLXNzcic7XG5pbXBvcnQgeyBjLCBjc3NyQW5jaG9yTWV0YU5hbWUgfSBmcm9tICcuLi8uLi9zaGFyZWQnO1xuY29uc3QgaGlkZGVuQXR0ciA9ICd2LWhpZGRlbic7XG5jb25zdCBzdHlsZSA9IGMoJ1t2LWhpZGRlbl0nLCB7XG4gICAgZGlzcGxheTogJ25vbmUhaW1wb3J0YW50J1xufSk7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdPdmVyZmxvdycsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgZ2V0Q291bnRlcjogRnVuY3Rpb24sXG4gICAgICAgIGdldFRhaWw6IEZ1bmN0aW9uLFxuICAgICAgICB1cGRhdGVDb3VudGVyOiBGdW5jdGlvbixcbiAgICAgICAgb25VcGRhdGVPdmVyZmxvdzogRnVuY3Rpb25cbiAgICB9LFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3Qgc2VsZlJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgY29uc3QgY291bnRlclJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgZnVuY3Rpb24gZGVyaXZlQ291bnRlcigpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHNlbGYgfSA9IHNlbGZSZWY7XG4gICAgICAgICAgICBjb25zdCB7IGdldENvdW50ZXIsIGdldFRhaWwgfSA9IHByb3BzO1xuICAgICAgICAgICAgbGV0IGNvdW50ZXI7XG4gICAgICAgICAgICBpZiAoZ2V0Q291bnRlciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvdW50ZXIgPSBnZXRDb3VudGVyKCk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb3VudGVyID0gY291bnRlclJlZi52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2VsZiB8fCAhY291bnRlcilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoY291bnRlci5oYXNBdHRyaWJ1dGUoaGlkZGVuQXR0cikpIHtcbiAgICAgICAgICAgICAgICBjb3VudGVyLnJlbW92ZUF0dHJpYnV0ZShoaWRkZW5BdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHNlbGY7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IHNlbGYub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFdpZHRocyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgdGFpbCA9IHNsb3RzLnRhaWwgPyBnZXRUYWlsID09PSBudWxsIHx8IGdldFRhaWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdldFRhaWwoKSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgY2hpbGRXaWR0aFN1bSA9IHRhaWwgPyB0YWlsLm9mZnNldFdpZHRoIDogMDtcbiAgICAgICAgICAgIGxldCBvdmVyZmxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gc2VsZi5jaGlsZHJlbi5sZW5ndGggLSAoc2xvdHMudGFpbCA/IDEgOiAwKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChvdmVyZmxvdykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLmhhc0F0dHJpYnV0ZShoaWRkZW5BdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKGhpZGRlbkF0dHIsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQuaGFzQXR0cmlidXRlKGhpZGRlbkF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZUF0dHJpYnV0ZShoaWRkZW5BdHRyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRXaWR0aCA9IGNoaWxkLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIGNoaWxkV2lkdGhTdW0gKz0gY2hpbGRXaWR0aDtcbiAgICAgICAgICAgICAgICBjaGlsZFdpZHRoc1tpXSA9IGNoaWxkV2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkV2lkdGhTdW0gPiBjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHVwZGF0ZUNvdW50ZXIgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3RDb3VudCA9IGxlbiAtIDEgLSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUNvdW50ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvdW50ZXIocmVzdENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXIudGV4dENvbnRlbnQgPSBgJHtyZXN0Q291bnR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ZXJXaWR0aCA9IGNvdW50ZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFdpZHRoU3VtIC09IGNoaWxkV2lkdGhzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkV2lkdGhTdW0gKyBjb3VudGVyV2lkdGggPD0gY29udGFpbmVyV2lkdGggfHwgaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaiAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFpbCB0b28gbG9uZyBvciAxc3QgZWxlbWVudCB0b28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBvbmx5IGNvbnNpZGVyIHRhaWwgbm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFpbC5zdHlsZS5tYXhXaWR0aCA9IGAke2NvbnRhaW5lcldpZHRoIC0gY291bnRlcldpZHRofXB4YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhaWwuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFpbC5zdHlsZS5tYXhXaWR0aCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBvblVwZGF0ZU92ZXJmbG93IH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmICghb3ZlcmZsb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAob25VcGRhdGVPdmVyZmxvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlT3ZlcmZsb3coZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3VudGVyLnNldEF0dHJpYnV0ZShoaWRkZW5BdHRyLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAob25VcGRhdGVPdmVyZmxvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlT3ZlcmZsb3codHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNzckFkYXB0ZXIgPSB1c2VTc3JBZGFwdGVyKCk7XG4gICAgICAgIHN0eWxlLm1vdW50KHtcbiAgICAgICAgICAgIGlkOiAndnVldWMvb3ZlcmZsb3cnLFxuICAgICAgICAgICAgaGVhZDogdHJ1ZSxcbiAgICAgICAgICAgIGFuY2hvck1ldGFOYW1lOiBjc3NyQW5jaG9yTWV0YU5hbWUsXG4gICAgICAgICAgICBzc3I6IHNzckFkYXB0ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIG9uTW91bnRlZChkZXJpdmVDb3VudGVyKTtcbiAgICAgICAgLy8gYmVzaWRlcyBvbk1vdW50ZWQsIG90aGVyIGNhc2Ugc2hvdWxkIGJlIG1hbnVhbGx5IHRyaWdnZXJlZCwgb3Igd2Ugc2hvdWQgd2F0Y2ggaXRlbXNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlbGZSZWYsXG4gICAgICAgICAgICBjb3VudGVyUmVmLFxuICAgICAgICAgICAgc3luYzogZGVyaXZlQ291bnRlclxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7ICRzbG90cyB9ID0gdGhpcztcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICBuZXh0VGljayh0aGlzLnN5bmMpO1xuICAgICAgICAvLyBJdCBzaG91bGRuJ3QgaGF2ZSBib3JkZXJcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgICAgICAgIGNsYXNzOiAndi1vdmVyZmxvdycsXG4gICAgICAgICAgICByZWY6ICdzZWxmUmVmJ1xuICAgICAgICB9LCBbXG4gICAgICAgICAgICByZW5kZXJTbG90KCRzbG90cywgJ2RlZmF1bHQnKSxcbiAgICAgICAgICAgIC8vICRzbG90cy5jb3VudGVyIHNob3VsZCBvbmx5IGhhcyAxIGVsZW1lbnRcbiAgICAgICAgICAgICRzbG90cy5jb3VudGVyXG4gICAgICAgICAgICAgICAgPyAkc2xvdHMuY291bnRlcigpXG4gICAgICAgICAgICAgICAgOiBoKCdzcGFuJywge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaydcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVmOiAnY291bnRlclJlZidcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8vICRzbG90cy50YWlsIHNob3VsZCBvbmx5IGhhcyAxIGVsZW1lbnRcbiAgICAgICAgICAgICRzbG90cy50YWlsID8gJHNsb3RzLnRhaWwoKSA6IG51bGxcbiAgICAgICAgXSk7XG4gICAgfVxufSk7XG4iLCJleHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVRvKHNlbGVjdG9yKSB7XG4gICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0b3IoKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==